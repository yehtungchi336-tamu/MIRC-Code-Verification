{"ast":null,"code":"import _slicedToArray from\"/Users/jinsonwu/Desktop/MIRC-Code-Verification/react-login/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from\"react\";import firebase from\"firebase\";import{db}from\"../Fire\";import{CSSTransition,TransitionGroup}from\"react-transition-group\";import{BrowserRouter as Router,Switch,Route,Link,NavLink,Redirect,useLocation}from\"react-router-dom\";import ReactTimeAgo from'react-time-ago';import Usersettings from\"./Usersettings\";import{ContextApp}from\"../ContextAPI\";import Hoverlink from\"./Hoverlink\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Body(props){var _useContext=useContext(ContextApp),themecolor=_useContext.themecolor;var user=firebase.auth().currentUser;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),cover=_useState2[0],setCover=_useState2[1];var handleLogout=props.handleLogout;var links=[\"comment\",\"notifications\",\"settings\",\"logout\"];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),notifi=_useState4[0],setNotifLength=_useState4[1];var lnks=[{icon:\"fal fa-comment-alt\",txt:\"Comment\"},{icon:\"fal fa-bell\",txt:\"Notifications\"},{icon:\"fal fa-cog\",txt:\"Settings\"},{icon:\"fal fa-sign-out\",txt:\"Logout\"}];var id=db.collection('users').doc().id;var lnksrow=lnks&&lnks.map(function(lnk){return/*#__PURE__*/_jsx(Hoverlink,{icon:lnk.icon,txt:lnk.txt,handleLogout:handleLogout});});function determineTime(){var d=new Date();if(d.getHours()>=6&&d.getHours()<12){return\"Good Morning,\";}else if(d.getHours()>=12&&d.getHours()<17){return\"Good Afternoon,\";}else if(d.getHours()>=17&&d.getHours()<20){return\"Good Evening,\";}else if(d.getHours()>=20&&d.getHours()<=23){return\"Good Night,\";}else if(d.getHours()>=0&&d.getHours()<6){return\"Good Night,\";}}function determinetext(){if(user){return determineTime()+\" \"+user.displayName;}}useEffect(function(){db.collection('notifications').doc(user.uid).onSnapshot(function(snap){var notifi=snap.data();setNotifLength(notifi.notifications.length);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"home\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header flex sb\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"marginBottom\",children:determinetext()})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"flex fe sticky\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gridobjects bs marginBottom\",children:[/*#__PURE__*/_jsx(Hoverlink,{icon:\"fal fa-comment-alt\",txt:\"Comment\",classNames:\"blueback one flexrow sa\",lnk:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bell\",children:[/*#__PURE__*/_jsx(Hoverlink,{icon:\"fal fa-bell\",txt:\"Notifications\",classNames:\"blueback two flexrow sa\",lnk:\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"notificount flex\",children:notifi})]}),/*#__PURE__*/_jsx(Hoverlink,{icon:\"fal fa-cog\",txt:\"Settings\",classNames:\"blueback three flexrow sa \",lnk:\"\"}),/*#__PURE__*/_jsx(Hoverlink,{icon:\"fal fa-sign-out\",txt:\"Logout\",classNames:\"blueback four flexrow sa\",lnk:\"/\",clk:function clk(){return props.handleLogout();}})]})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"homeside\"})]});}export default Body;","map":{"version":3,"names":["React","useState","useEffect","useContext","firebase","db","CSSTransition","TransitionGroup","BrowserRouter","Router","Switch","Route","Link","NavLink","Redirect","useLocation","ReactTimeAgo","Usersettings","ContextApp","Hoverlink","Body","props","themecolor","user","auth","currentUser","cover","setCover","handleLogout","links","notifi","setNotifLength","lnks","icon","txt","id","collection","doc","lnksrow","map","lnk","determineTime","d","Date","getHours","determinetext","displayName","uid","onSnapshot","snap","data","notifications","length"],"sources":["/Users/jinsonwu/Desktop/MIRC-Code-Verification/react-login/src/components/Home.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport firebase from \"firebase\";\r\nimport { db } from \"../Fire\";\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  NavLink,\r\n  Redirect,\r\n  useLocation\r\n} from \"react-router-dom\";\r\nimport ReactTimeAgo from 'react-time-ago'\r\n\r\nimport Usersettings from \"./Usersettings\";\r\nimport { ContextApp } from \"../ContextAPI\";\r\nimport Hoverlink from \"./Hoverlink\";\r\nfunction Body(props) {\r\n  const { themecolor } = useContext(ContextApp);\r\n  const user = firebase.auth().currentUser;\r\n  const [cover, setCover] = useState(\"\");\r\n  const { handleLogout } = props;\r\n  const links = [\"comment\", \"notifications\", \"settings\", \"logout\"];\r\n  const [notifi, setNotifLength]=useState(0)\r\n  const lnks = [\r\n    { icon: \"fal fa-comment-alt\", txt: \"Comment\" },\r\n    { icon: \"fal fa-bell\", txt: \"Notifications\" },\r\n    { icon: \"fal fa-cog\", txt: \"Settings\" },\r\n    { icon: \"fal fa-sign-out\", txt: \"Logout\" }\r\n  ];\r\n  const id =db.collection('users').doc().id\r\n  const lnksrow =\r\n    lnks &&\r\n    lnks.map((lnk) => {\r\n      return (\r\n        <Hoverlink  icon={lnk.icon} txt={lnk.txt} handleLogout={handleLogout} />\r\n      );\r\n    });\r\n  function determineTime() {\r\n    const d = new Date();\r\n    if (d.getHours() >= 6 && d.getHours() < 12) {\r\n      return \"Good Morning,\";\r\n    } else if (d.getHours() >= 12 && d.getHours() < 17) {\r\n      return \"Good Afternoon,\";\r\n    } else if (d.getHours() >= 17 && d.getHours() < 20) {\r\n      return \"Good Evening,\";\r\n    } else if (d.getHours() >= 20 && d.getHours() <= 23) {\r\n      return \"Good Night,\";\r\n    } else if (d.getHours() >= 0 && d.getHours() < 6) {\r\n      return \"Good Night,\";\r\n    }\r\n  }\r\n  function determinetext() {\r\n    if (user) {\r\n      \r\n        return determineTime() + \" \" + user.displayName\r\n      \r\n    }\r\n  }\r\n  useEffect(()=>{\r\n    db.collection('notifications').doc(user.uid).onSnapshot(snap=>{\r\n      const notifi = snap.data()\r\n      setNotifLength(notifi.notifications.length)\r\n    })\r\n  },[])\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"header flex sb\">\r\n        <h2 className=\"marginBottom\">{determinetext()}</h2>\r\n      </div>\r\n      <hr />\r\n      <div className=\"flex fe sticky\">\r\n        <div className=\"gridobjects bs marginBottom\">\r\n          <Hoverlink\r\n            icon=\"fal fa-comment-alt\"\r\n            txt=\"Comment\"\r\n            classNames=\"blueback one flexrow sa\"\r\n            lnk=\"\"\r\n          />\r\n          <div className=\"bell\">\r\n          <Hoverlink\r\n            icon=\"fal fa-bell\"\r\n            txt=\"Notifications\"\r\n            classNames=\"blueback two flexrow sa\"\r\n            lnk=\"\"\r\n          />\r\n          <div className=\"notificount flex\">{notifi}</div>\r\n          </div>\r\n          <Hoverlink\r\n            icon=\"fal fa-cog\"\r\n            txt=\"Settings\"\r\n            classNames=\"blueback three flexrow sa \"\r\n            lnk=\"\"\r\n          />\r\n          <Hoverlink\r\n            icon=\"fal fa-sign-out\"\r\n            txt=\"Logout\"\r\n            classNames=\"blueback four flexrow sa\"\r\n            lnk=\"/\"\r\n            clk={() => props.handleLogout()}\r\n          />\r\n        </div>\r\n      </div>\r\n      <hr />\r\n      <div className=\"homeside\">\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Body;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}