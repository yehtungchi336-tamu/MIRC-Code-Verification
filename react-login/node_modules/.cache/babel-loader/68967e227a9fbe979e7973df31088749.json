{"ast":null,"code":"import _slicedToArray from\"/Users/jinsonwu/Desktop/MIRC-Code-Verification/react-login/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from\"react\";import firebase from\"firebase\";import{db}from\"../Fire\";import{CSSTransition,TransitionGroup}from\"react-transition-group\";import{BrowserRouter as Router,Switch,Route,Link,NavLink,Redirect,useLocation}from\"react-router-dom\";import ReactTimeAgo from'react-time-ago';import Usersettings from\"./Usersettings\";import{ContextApp}from\"../ContextAPI\";import Hoverlink from\"./Hoverlink\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Body(props){var _useContext=useContext(ContextApp),themecolor=_useContext.themecolor;var user=firebase.auth().currentUser;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),roleType=_useState2[0],setRoleType=_useState2[1];//var roleType = 'assistant'\nvar _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),cover=_useState4[0],setCover=_useState4[1];var handleLogout=props.handleLogout;var links=[\"comment\",\"notifications\",\"settings\",\"logout\"];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),notifi=_useState6[0],setNotifLength=_useState6[1];var lnks=[{icon:\"fal fa-comment-alt\",txt:\"Comment\"},{icon:\"fal fa-bell\",txt:\"Notifications\"},{icon:\"fal fa-cog\",txt:\"Settings\"},{icon:\"fal fa-sign-out\",txt:\"Logout\"}];var id=db.collection('users').doc().id;var lnksrow=lnks&&lnks.map(function(lnk){return/*#__PURE__*/_jsx(Hoverlink,{icon:lnk.icon,txt:lnk.txt,handleLogout:handleLogout});});useEffect(function(){if(user){db.collection('users').doc(user.uid).onSnapshot(function(snap){var tmp=snap.data();setRoleType(tmp.role);//roleType = tmp.role\nconsole.log(\"home set role..\"+tmp.role);});}},[]);function determineTime(){var d=new Date();if(d.getHours()>=6&&d.getHours()<12){return\"Good Morning,\";}else if(d.getHours()>=12&&d.getHours()<17){return\"Good Afternoon,\";}else if(d.getHours()>=17&&d.getHours()<20){return\"Good Evening,\";}else if(d.getHours()>=20&&d.getHours()<=23){return\"Good Night,\";}else if(d.getHours()>=0&&d.getHours()<6){return\"Good Night,\";}}function determinetext(){if(user){return determineTime()+\" \"+roleType+\" \"+user.displayName+\" (login type: \"+user.providerData[0].providerId+\")\";}}return/*#__PURE__*/_jsxs(\"div\",{className:\"home\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header flex sb\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"marginBottom\",children:determinetext()})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex fe sticky\",children:/*#__PURE__*/_jsx(\"div\",{className:\"gridobjects  bs marginBottom\",children:/*#__PURE__*/_jsx(Hoverlink,{icon:\"fal fa-sign-out\",txt:\"Logout\",classNames:\"blueback all flexrow sa\",lnk:\"/\",clk:function clk(){return props.handleLogout();}})})}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"subject\",children:\"Subject\"}),/*#__PURE__*/_jsx(\"input\",{type:\"subject\",name:\"subject\",class:\"form-control-lg \",id:\"subject\",placeholder:\" enter email subject\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"recipient\",children:\"TO: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"recipient\",name:\"recipient\",class:\"form-control-lg\",id:\"recipient\",placeholder:\" enter the recipient\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"cc\",children:\"CC:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"cc\",name:\"cc\",class:\"form-control-lg\",id:\"cc\",placeholder:\" enter the Carbon Copy\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"bcc\",children:\"BCC:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"bcc\",name:\"bcc\",class:\"form-control-lg\",id:\"bcc\",placeholder:\" enter the Blind Carbon Copy\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"email_body\",children:\"Message\"}),/*#__PURE__*/_jsx(\"textarea\",{class:\"form-control-lg\",id:\"email_body\",rows:\"5\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"gridobjects  bs marginBottom\",children:/*#__PURE__*/_jsx(Hoverlink,{txt:\"Submit\",classNames:\"blueback all flexrow center\",lnk:\"/\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"homeside\"})]});}export default Body;","map":{"version":3,"names":["React","useState","useEffect","useContext","firebase","db","CSSTransition","TransitionGroup","BrowserRouter","Router","Switch","Route","Link","NavLink","Redirect","useLocation","ReactTimeAgo","Usersettings","ContextApp","Hoverlink","Body","props","themecolor","user","auth","currentUser","roleType","setRoleType","cover","setCover","handleLogout","links","notifi","setNotifLength","lnks","icon","txt","id","collection","doc","lnksrow","map","lnk","uid","onSnapshot","snap","tmp","data","role","console","log","determineTime","d","Date","getHours","determinetext","displayName","providerData","providerId"],"sources":["/Users/jinsonwu/Desktop/MIRC-Code-Verification/react-login/src/components/Home.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport firebase from \"firebase\";\r\nimport { db } from \"../Fire\";\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  NavLink,\r\n  Redirect,\r\n  useLocation\r\n} from \"react-router-dom\";\r\nimport ReactTimeAgo from 'react-time-ago'\r\n\r\nimport Usersettings from \"./Usersettings\";\r\nimport { ContextApp } from \"../ContextAPI\";\r\nimport Hoverlink from \"./Hoverlink\";\r\nfunction Body(props) {\r\n  const { themecolor } = useContext(ContextApp)\r\n  const user = firebase.auth().currentUser\r\n  const [roleType, setRoleType] = useState('')\r\n  //var roleType = 'assistant'\r\n  const [cover, setCover] = useState(\"\")\r\n  const { handleLogout } = props\r\n  const links = [\"comment\", \"notifications\", \"settings\", \"logout\"]\r\n  const [notifi, setNotifLength]=useState(0)\r\n  const lnks = [\r\n    { icon: \"fal fa-comment-alt\", txt: \"Comment\" },\r\n    { icon: \"fal fa-bell\", txt: \"Notifications\" },\r\n    { icon: \"fal fa-cog\", txt: \"Settings\" },\r\n    { icon: \"fal fa-sign-out\", txt: \"Logout\" }\r\n  ];\r\n  const id =db.collection('users').doc().id\r\n  const lnksrow =\r\n    lnks &&\r\n    lnks.map((lnk) => {\r\n      return (\r\n        <Hoverlink  icon={lnk.icon} txt={lnk.txt} handleLogout={handleLogout} />\r\n      );\r\n    });\r\n\r\n    useEffect(()=>{\r\n      if (user){\r\n      db.collection('users').doc(user.uid).onSnapshot(snap=>{\r\n        const tmp = snap.data()\r\n        setRoleType(tmp.role)\r\n        //roleType = tmp.role\r\n        console.log(\"home set role..\" + tmp.role)\r\n      })\r\n    }\r\n    },[])\r\n\r\n  function determineTime() {\r\n    const d = new Date();\r\n    if (d.getHours() >= 6 && d.getHours() < 12) {\r\n      return \"Good Morning,\";\r\n    } else if (d.getHours() >= 12 && d.getHours() < 17) {\r\n      return \"Good Afternoon,\";\r\n    } else if (d.getHours() >= 17 && d.getHours() < 20) {\r\n      return \"Good Evening,\";\r\n    } else if (d.getHours() >= 20 && d.getHours() <= 23) {\r\n      return \"Good Night,\";\r\n    } else if (d.getHours() >= 0 && d.getHours() < 6) {\r\n      return \"Good Night,\";\r\n    }\r\n  }\r\n\r\n  function determinetext() {\r\n    if (user) {\r\n        return determineTime() + \" \" + roleType + \" \" + user.displayName + \" (login type: \" + user.providerData[0].providerId + \")\"\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"header flex sb\">\r\n        <h2 className=\"marginBottom\">{determinetext()}</h2>\r\n      </div>\r\n      \r\n      <div className=\"flex fe sticky\">\r\n        <div className=\"gridobjects  bs marginBottom\">\r\n          <Hoverlink\r\n            icon=\"fal fa-sign-out\"\r\n            txt=\"Logout\"\r\n            classNames=\"blueback all flexrow sa\"\r\n            lnk=\"/\"\r\n            clk={() => props.handleLogout()}\r\n          />\r\n        </div>\r\n      </div>\r\n      \r\n      <form> \r\n          <div class=\"form-group\">\r\n            <label for=\"subject\">Subject</label>\r\n            <input\r\n              type=\"subject\"\r\n              name=\"subject\"\r\n              class=\"form-control-lg \"\r\n              id=\"subject\"\r\n              placeholder=\" enter email subject\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"form-group\">\r\n            <label for=\"recipient\">TO: </label>\r\n            <input\r\n              type=\"recipient\"\r\n              name=\"recipient\"\r\n              class=\"form-control-lg\"\r\n              id=\"recipient\"\r\n              placeholder=\" enter the recipient\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"form-group\">\r\n            <label for=\"cc\">CC:</label>\r\n            <input\r\n              type=\"cc\"\r\n              name=\"cc\"\r\n              class=\"form-control-lg\"\r\n              id=\"cc\"\r\n              placeholder=\" enter the Carbon Copy\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"form-group\">\r\n            <label for=\"bcc\">BCC:</label>\r\n            <input\r\n              type=\"bcc\"\r\n              name=\"bcc\"\r\n              class=\"form-control-lg\"\r\n              id=\"bcc\"\r\n              placeholder=\" enter the Blind Carbon Copy\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"form-group\">\r\n            <label for=\"email_body\">Message</label>\r\n            <textarea\r\n              class=\"form-control-lg\"\r\n              id=\"email_body\"\r\n              rows=\"5\"\r\n            ></textarea>\r\n          </div>\r\n          \r\n      <div >\r\n        <div className=\"gridobjects  bs marginBottom\">\r\n          <Hoverlink\r\n            \r\n            txt=\"Submit\"\r\n            classNames=\"blueback all flexrow center\"\r\n            lnk=\"/\"\r\n            \r\n          />\r\n        </div>\r\n      </div>\r\n      \r\n\r\n      </form>\r\n\r\n\r\n      <div className=\"homeside\">\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Body;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}