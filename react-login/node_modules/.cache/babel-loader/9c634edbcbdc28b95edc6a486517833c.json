{"ast":null,"code":"import _slicedToArray from\"/Users/jinsonwu/Desktop/MIRC-Code-Verification/react-login/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import\"./styles.css\";import{db,Fire}from'./Fire';import firebase from\"firebase\";import{BrowserRouter as Router,Switch,Route,Link,NavLink,Redirect}from\"react-router-dom\";import Sidebar from'./components/Sidebar';import Login from'./components/Login';import Body from'./components/Body';import ContextAppProvider from'./ContextAPI';import{useBeforeunload}from'react-beforeunload';import emailjs from'emailjs-com';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),update=_useState2[0],setUpdate=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setEmail=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),password=_useState10[0],setPassword=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),emailError=_useState12[0],setEmailError=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),passwordError=_useState14[0],setPasswordError=_useState14[1];var _useState15=useState(true),_useState16=_slicedToArray(_useState15,2),hasAccount=_useState16[0],setHasAccount=_useState16[1];//const [loginType, setLoginType]=useState('assistant')\nvar loginType=\"assistant\";var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),lname=_useState18[0],setlName=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),userinfo=_useState20[0],setUserinfo=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),users=_useState22[0],setUsers=_useState22[1];var _useState23=useState('https://www.gettyimages.ca/gi-resources/images/500px/983794168.jpg'),_useState24=_slicedToArray(_useState23,2),cover=_useState24[0],setCover=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),forgotpassword=_useState26[0],setForgotpassword=_useState26[1];var _useState27=useState(['']),_useState28=_slicedToArray(_useState27,2),msgids=_useState28[0],setMsgIds=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),loading=_useState30[0],setLoading=_useState30[1];var clearInputs=function clearInputs(){setEmail('');setPassword('');};var clearErrors=function clearErrors(){setEmailError('');setPasswordError('');};var handleLogin=function handleLogin(){clearErrors();var checkbox=document.querySelectorAll(\"input[type='radio']:checked\");for(var i=0;i<checkbox.length;i++){//setLoginType(checkbox[0].id)\nloginType=checkbox[0].id;console.log(\"Checkbox is checked..\"+loginType);}firebase.auth().signInWithEmailAndPassword(email,password).then(function(){setLoading(true);}).catch(function(err){switch(err.code){case\"auth/invalid-email\":setEmailError(err.message);break;case\"auth/user/disabled\":case\"auth/user-not-found\":setEmailError('Email does not exist');break;case\"auth/wrong-password\":setPasswordError('Incorrect Password');break;default:}});};var handleSignup=function handleSignup(){console.log('signup');clearErrors();firebase.auth().createUserWithEmailAndPassword(email,password).catch(function(err){switch(err.code){case\"auth/email-already-in-use\":setEmailError(err.message);break;case\"auth/invalid-email\":setEmailError(err.message);break;case\"auth/weak-password\":setPasswordError(err.message);break;default:setEmailError('Invalid');}});firebase.auth().onAuthStateChanged(function(user){if(user){user.updateProfile({displayName:name});db.collection('users').doc(user.uid).set({created:new Date(),msgids:msgids,uid:firebase.auth().currentUser.uid,online:true,userinfo:{name:name,cover:cover,age:'',phone:'',city:'',country:'',website:'https://',job:'',email:email},customization:{color:'#10325c',themecolor:'#0f6ce6',darkmode:false,widemode:false}});db.collection('notifications').doc(user.uid).set({notifications:'email'});}//if (user)\nelse{setUser('');}});};var handleLogout=function handleLogout(){if(user){db.collection('users').doc(user.uid).update({online:false});}//setLoginType('assistant')\nloginType='assistant';console.log(\"handle logout..\"+loginType);window.location.host;firebase.auth().signOut();};var authListener=function authListener(){firebase.auth().onAuthStateChanged(function(user){if(user){clearInputs();setUser(user);db.collection('users').doc(user.uid).update({online:true});firebase.auth().onAuthStateChanged(function(user){db.collection('users').doc(user.uid).set({role:loginType});console.log(\"Final role..\"+loginType);});}else{setUser('');//setLoginType('assistant')\n//db.collection('users').doc(user.uid).update({online: false})\n}});};function _loginwithGoogle(){var checkbox=document.querySelectorAll(\"input[type='radio']:checked\");for(var i=0;i<checkbox.length;i++){loginType=checkbox[0].id;console.log(\"Checkbox is checked..\"+loginType);}var provider=new firebase.auth.GoogleAuthProvider();provider.addScope('email');firebase.auth().signInWithPopup(provider).then(function(result){if(result.additionalUserInfo.isNewUser){/** @type {firebase.auth.OAuthCredential} */var credential=result.credential;// This gives you a Google Access Token. You can use it to access the Google API.\nvar token=credential.accessToken;// The signed-in user info.\nvar user=result.user;// ...\ndb.collection('users').doc(user.uid).set({created:new Date(),msgids:msgids,uid:user.uid,online:true,userinfo:{name:user.displayName,cover:user.photoURL,age:'',phone:user.phoneNumber,city:'',country:'',website:'https://',job:'',email:user.email},customization:{color:'#10325c',themecolor:'#0f6ce6',darkmode:false,widemode:false}});db.collection('notifications').doc(user.uid).set({notifications:'Google'});}}).catch(function(error){// Handle Errors here.\nvar errorCode=error.code;var errorMessage=error.message;// The email of the user's account used.\nvar email=error.email;// The firebase.auth.AuthCredential type that was used.\nvar credential=error.credential;// ...\nsetEmailError(error.message);setTimeout(function(){setEmailError('');},3000);});}function _loginwithFacebook(){var provider=new firebase.auth.FacebookAuthProvider();provider.addScope(\"email\");firebase.auth().signInWithPopup(provider).then(function(result){if(result.additionalUserInfo.isNewUser){/** @type {firebase.auth.OAuthCredential} */var credential=result.credential;// This gives you a Google Access Token. You can use it to access the Google API.\nvar token=credential.accessToken;// The signed-in user info.\nvar usergoogle=result.user;// ...\ndb.collection('users').doc(usergoogle.uid).set({created:new Date(),msgids:msgids,uid:usergoogle.uid,online:true,userinfo:{name:usergoogle.displayName,cover:usergoogle.photoURL,age:'',phone:usergoogle.phoneNumber,city:'',country:'',website:'https://',job:'',email:usergoogle.email},customization:{color:'#10325c',themecolor:'#0f6ce6',darkmode:false,widemode:false}});db.collection('notifications').doc(usergoogle.uid).set({notifications:'Facebook'});}}).catch(function(error){// Handle Errors here.\nvar errorCode=error.code;var errorMessage=error.message;// The email of the user's account used.\nvar email=error.email;// The firebase.auth.AuthCredential type that was used.\nvar credential=error.credential;// ...\nsetEmailError(email);setTimeout(function(){setEmailError('');},3000);console.log(errorCode);});}useBeforeunload(function(){if(user){db.collection('users').doc(user.uid).update({online:false});}});useEffect(function(){var cnt=false;authListener();/*\n    var checkbox = document.querySelector(\"input[id='executive']\")  \n    if (checkbox)\n    {\n      checkbox.addEventListener('change', function() {\n       if (checkbox.checked) \n       {\n         //setLoginType('executive')\n         loginType = 'executive'\n       }\n       console.log(\"Checkbox is checked..\" + loginType)\n     });\n    } \n    var checkbox_2 = document.querySelector(\"input[id='assistant']\")  \n    if (checkbox_2)\n    {\n      checkbox_2.addEventListener('change', function() {\n       if (checkbox_2.checked) \n       {\n         //setLoginType('executive')\n         loginType = 'assistant'\n       }\n       console.log(\"Checkbox is checked..\" + loginType)\n     });\n    } \n    */window.addEventListener('onbeforeunload',removeActiveStatus);function removeActiveStatus(){if(user){db.collection('users').doc(user.uid).update({online:false});}}if(user){db.collection('users').doc(user.uid).update({online:true});}return function(){return cnt=true;};},[]);/*\n   localStorage.openpages = Date.now();\n   var onLocalStorageEvent = function(e){\n       if(e.key == \"openpages\"){\n           // Listen if anybody else is opening the same page!\n           localStorage.page_available = Date.now();\n       }\n       if(e.key == \"page_available\"){\n           alert(\"One more page already open\");\n       }\n   };\n\n   window.addEventListener('storage', onLocalStorageEvent, false);\n*/return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:user?/*#__PURE__*/_jsx(ContextAppProvider,{children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Body,{setLoading:setLoading,handleLogout:handleLogout}),/*#__PURE__*/_jsx(Redirect,{to:\"/Home\"})]})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Login,{loginwithFacebook:function loginwithFacebook(){return _loginwithFacebook;},loginwithGoogle:function loginwithGoogle(){return _loginwithGoogle;},loading:loading,name:name,setName:setName,lname:lname,setlName:setlName,email:email,setEmail:setEmail,password:password,setPassword:setPassword,handleLogin:handleLogin,handleSignup:handleSignup,hasAccount:hasAccount,setHasAccount:setHasAccount,emailError:emailError,passwordError:passwordError}),/*#__PURE__*/_jsx(Redirect,{to:\"/\"})]})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","db","Fire","firebase","BrowserRouter","Router","Switch","Route","Link","NavLink","Redirect","Sidebar","Login","Body","ContextAppProvider","useBeforeunload","emailjs","App","update","setUpdate","user","setUser","name","setName","email","setEmail","password","setPassword","emailError","setEmailError","passwordError","setPasswordError","hasAccount","setHasAccount","loginType","lname","setlName","userinfo","setUserinfo","users","setUsers","cover","setCover","forgotpassword","setForgotpassword","msgids","setMsgIds","loading","setLoading","clearInputs","clearErrors","handleLogin","checkbox","document","querySelectorAll","i","length","id","console","log","auth","signInWithEmailAndPassword","then","catch","err","code","message","handleSignup","createUserWithEmailAndPassword","onAuthStateChanged","updateProfile","displayName","collection","doc","uid","set","created","Date","currentUser","online","age","phone","city","country","website","job","customization","color","themecolor","darkmode","widemode","notifications","handleLogout","window","location","host","signOut","authListener","role","loginwithGoogle","provider","GoogleAuthProvider","addScope","signInWithPopup","result","additionalUserInfo","isNewUser","credential","token","accessToken","photoURL","phoneNumber","error","errorCode","errorMessage","setTimeout","loginwithFacebook","FacebookAuthProvider","usergoogle","cnt","addEventListener","removeActiveStatus"],"sources":["/Users/jinsonwu/Desktop/MIRC-Code-Verification/react-login/src/App.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport \"./styles.css\";\nimport {db, Fire} from './Fire';\nimport firebase from \"firebase\";\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \nimport Sidebar from './components/Sidebar'\nimport Login from './components/Login'\nimport Body from './components/Body'\nimport ContextAppProvider from './ContextAPI'\nimport { useBeforeunload } from 'react-beforeunload'\nimport emailjs from 'emailjs-com'\n\nfunction App() {\n  const [update, setUpdate]=useState(0)\n  const [user, setUser]=useState('')\n  const [name, setName]=useState('')\n  const [email, setEmail]=useState('')\n  const [password, setPassword]=useState('')\n  const [emailError, setEmailError]=useState('')\n  const [passwordError, setPasswordError]=useState('')\n  const [hasAccount, setHasAccount]=useState(true)\n  //const [loginType, setLoginType]=useState('assistant')\n  var loginType = \"assistant\"\n  const [lname, setlName]=useState('')\n  const [userinfo, setUserinfo]=useState([])\n  const [users, setUsers]=useState([])\n  const [cover, setCover]=useState('https://www.gettyimages.ca/gi-resources/images/500px/983794168.jpg')\n  const [forgotpassword, setForgotpassword]=useState(false)\n  const [msgids, setMsgIds] = useState([''])\n  const [loading, setLoading]=useState(false)\n  const clearInputs = () => {\n    setEmail('')\n    setPassword('')\n  }\n  const clearErrors = () => {\n    setEmailError('')\n    setPasswordError('')\n  }\n  const handleLogin = () => {\n    clearErrors()\n\n    var checkbox = document.querySelectorAll(\"input[type='radio']:checked\")\n    for (let i = 0; i < checkbox.length; i++) {\n        //setLoginType(checkbox[0].id)\n        loginType = checkbox[0].id\n        console.log(\"Checkbox is checked..\" + loginType)\n    }\n\n    firebase.auth().signInWithEmailAndPassword(email, password)\n    .then(()=>{setLoading(true)})\n    .catch(err => {\n      switch(err.code) {\n        case \"auth/invalid-email\":\n          setEmailError(err.message)\n          break\n        case \"auth/user/disabled\":\n        case \"auth/user-not-found\":\n          setEmailError('Email does not exist')\n        break\n        case \"auth/wrong-password\":\n          setPasswordError('Incorrect Password')\n        break\n        default:\n      }  \n    })\n  } \n  const handleSignup = () => {\n    console.log('signup')\n    clearErrors()\n    firebase.auth().createUserWithEmailAndPassword(email, password).catch(err => {\n        \n        switch(err.code) {\n        case \"auth/email-already-in-use\":\n          setEmailError(err.message)\n          break\n        case \"auth/invalid-email\":\n          setEmailError(err.message)\n        break\n        case \"auth/weak-password\":\n          setPasswordError(err.message)\n        break\n        default: \n        setEmailError('Invalid')\n      }\n    })\n    firebase.auth().onAuthStateChanged(user => {\n      if(user) {\n          user.updateProfile({\n            displayName: name,\n          }) \n          db.collection('users').doc(user.uid).set({\n              created: new Date(), \n              msgids,\n              uid: firebase.auth().currentUser.uid,\n              online: true,\n              userinfo: {\n                name,\n                cover,\n                age: '', \n                phone: '', \n                city: '',\n                country: '',\n                website: 'https://',\n                job: '',\n                email,\n              },\n              customization: {\n                color: '#10325c',\n                themecolor: '#0f6ce6',\n                darkmode: false,\n                widemode: false,\n              }\n          })\n          db.collection('notifications').doc(user.uid).set({\n            notifications: 'email'\n          })\n   \n      }//if (user)\n      else {\n        setUser('')\n      } \n    }) \n  }\n  const handleLogout = () => {\n    if(user) {\n      db.collection('users').doc(user.uid).update({online: false})\n    }\n    //setLoginType('assistant')\n    loginType = 'assistant'\n    console.log(\"handle logout..\" + loginType)\n    window.location.host\n    firebase.auth().signOut()\n  }\n  const authListener = () => {\n    firebase.auth().onAuthStateChanged(user => {   \n      if(user) {\n        clearInputs()\n        setUser(user)\n        db.collection('users').doc(user.uid).update({online: true})\n\n        firebase.auth().onAuthStateChanged(user => {\n          db.collection('users').doc(user.uid).set({role: loginType})\n          console.log(\"Final role..\" + loginType)\n       } )\n      }\n      else {\n          setUser('')\n          //setLoginType('assistant')\n          //db.collection('users').doc(user.uid).update({online: false})\n      }\n    })\n  } \n  \n  function loginwithGoogle(){\n    var checkbox = document.querySelectorAll(\"input[type='radio']:checked\")\n    for (let i = 0; i < checkbox.length; i++) {\n        loginType = checkbox[0].id\n        console.log(\"Checkbox is checked..\" + loginType)\n    }\n\n    var provider = new firebase.auth.GoogleAuthProvider();\n    provider.addScope('email');\n\n    firebase.auth()\n    .signInWithPopup(provider)\n    .then((result) => {\n      if(result.additionalUserInfo.isNewUser){\n            /** @type {firebase.auth.OAuthCredential} */\n      var credential = result.credential;\n  \n      // This gives you a Google Access Token. You can use it to access the Google API.\n      var token = credential.accessToken;\n      // The signed-in user info.\n      var user = result.user;\n      // ...\n      db.collection('users').doc(user.uid).set({\n        created: new Date(), \n        msgids,\n        uid: user.uid,\n        online: true, \n        userinfo: {\n          name: user.displayName,\n          cover: user.photoURL,\n          age: '', \n          phone: user.phoneNumber, \n          city:'',\n          country: '',\n          website: 'https://',\n          job: '',\n          email: user.email\n          \n        },\n        customization: {\n          color: '#10325c',\n          themecolor: '#0f6ce6',\n          darkmode: false,\n          widemode: false,\n        }\n    })\n    db.collection('notifications').doc(user.uid).set({\n      notifications: 'Google'\n    })\n      }\n\n    }).catch((error) => {\n      // Handle Errors here.\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      // The email of the user's account used.\n      var email = error.email;\n      // The firebase.auth.AuthCredential type that was used.\n      var credential = error.credential;\n      // ...\n      setEmailError(error.message)\n      setTimeout(()=>{\n        setEmailError('')\n      },3000)\n    });\n  }\n  function loginwithFacebook(){\n    var provider = new firebase.auth.FacebookAuthProvider();\n    provider.addScope(\"email\");\n\n    firebase.auth()\n    .signInWithPopup(provider)\n    .then((result) => {\n      if(result.additionalUserInfo.isNewUser){\n        /** @type {firebase.auth.OAuthCredential} */\n        var credential = result.credential;\n  \n        // This gives you a Google Access Token. You can use it to access the Google API.\n        var token = credential.accessToken;\n        // The signed-in user info.\n        var usergoogle = result.user;\n        // ...\n        db.collection('users').doc(usergoogle.uid).set({\n          created: new Date(), \n          msgids,\n          uid: usergoogle.uid,\n          online: true, \n          userinfo: {\n            name: usergoogle.displayName,\n            cover: usergoogle.photoURL,\n            age: '', \n            phone: usergoogle.phoneNumber, \n            city:'',\n            country: '',\n            website: 'https://',\n            job: '',\n            email: usergoogle.email\n          },\n          customization: {\n            color: '#10325c',\n            themecolor: '#0f6ce6',\n            darkmode: false,\n            widemode: false,\n          }\n      })\n      db.collection('notifications').doc(usergoogle.uid).set({\n        notifications: 'Facebook'\n      })\n    }\n    })\n    .catch((error) => {\n      // Handle Errors here.\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      // The email of the user's account used.\n      var email = error.email;\n      // The firebase.auth.AuthCredential type that was used.\n      var credential = error.credential;\n  \n      // ...\n      setEmailError(email)\n      setTimeout(()=>{\n        setEmailError('')\n      },3000)\n      console.log(errorCode)\n    });\n  }\n  useBeforeunload(() => {\n    if(user) {\n      db.collection('users').doc(user.uid).update({online: false})\n    }\n  }) \n\n  useEffect(() => { \n    let cnt = false\n    authListener()\n\n    /*\n    var checkbox = document.querySelector(\"input[id='executive']\")  \n    if (checkbox)\n    {\n      checkbox.addEventListener('change', function() {\n       if (checkbox.checked) \n       {\n         //setLoginType('executive')\n         loginType = 'executive'\n       }\n       console.log(\"Checkbox is checked..\" + loginType)\n     });\n    } \n    var checkbox_2 = document.querySelector(\"input[id='assistant']\")  \n    if (checkbox_2)\n    {\n      checkbox_2.addEventListener('change', function() {\n       if (checkbox_2.checked) \n       {\n         //setLoginType('executive')\n         loginType = 'assistant'\n       }\n       console.log(\"Checkbox is checked..\" + loginType)\n     });\n    } \n    */\n    window.addEventListener('onbeforeunload', removeActiveStatus) \n    function removeActiveStatus() {\n      if(user) {\n        db.collection('users').doc(user.uid).update({online: false})\n      }\n    }\n    if(user) {\n      db.collection('users').doc(user.uid).update({online: true})\n    }\n\n    return() => cnt = true\n  },[])  \n  /*\n   localStorage.openpages = Date.now();\n   var onLocalStorageEvent = function(e){\n       if(e.key == \"openpages\"){\n           // Listen if anybody else is opening the same page!\n           localStorage.page_available = Date.now();\n       }\n       if(e.key == \"page_available\"){\n           alert(\"One more page already open\");\n       }\n   };\n\n   window.addEventListener('storage', onLocalStorageEvent, false);\n*/   \n\n   return ( \n    \n        <Router >\n    <div className=\"App\">\n       {user?\n        <ContextAppProvider>\n        <>\n          <Body setLoading={setLoading} handleLogout={handleLogout} />\n          <Redirect to='/Home'/>\n        </>\n        </ContextAppProvider>\n        :\n        <> \n        <Login loginwithFacebook={()=>loginwithFacebook}loginwithGoogle={()=>loginwithGoogle} loading={loading} name={name} setName={setName} lname={lname} setlName={setlName}email={email} setEmail={setEmail} password= {password} setPassword={setPassword} handleLogin={handleLogin} handleSignup={handleSignup} hasAccount={hasAccount} setHasAccount={setHasAccount} emailError={emailError} passwordError={passwordError}/>       \n        <Redirect to='/'/>\n     </>\n        }\n    </div>  \n     </Router>\n\n  );\n}\n\nexport default App "],"mappings":"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"},"metadata":{},"sourceType":"module"}