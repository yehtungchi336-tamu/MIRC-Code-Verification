{"ast":null,"code":"import _slicedToArray from\"/Users/jinsonwu/Desktop/MIRC-Code-Verification/react-login/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/jinsonwu/Desktop/MIRC-Code-Verification/react-login/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useState,useEffect,useContext}from\"react\";import Sidebar from\"./Sidebar\";import firebase from\"firebase\";import{db}from\"../Fire\";import Usernav from\"./Usernav\";import Userrow from\"./Userrow\";import Dialogue from\"./Dialogue\";import Userprofile from\"./Userprofile\";import Adduser from\"./Adduser\";import{CSSTransition,TransitionGroup}from\"react-transition-group\";import{BrowserRouter as Router,Switch,Route,Link,NavLink,Redirect,useLocation}from\"react-router-dom\";import{StartConvo}from\"./StartConvo\";import styled from'styled-components';import Paths from\"./Paths\";import Account from\"./settings/Account\";import Personalization from\"./settings/Personalization\";import Chatsettings from\"./Chatsettings\";import Usersettings from\"./Usersettings\";import{ContextApp}from\"../ContextAPI\";import Hoverableicondiv from\"./Hoverableiconsdiv\";import Chatviewrow from'./Chatviewrow';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Div=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\" \\n      ::selection {\\n        background-color: \",\";\\n        color: white;\\n      }\\n\"])),function(props){return props.color;});function Body(props){var location=useLocation();var user=firebase.auth().currentUser;var _useState=useState({unreadmsgs:0}),_useState2=_slicedToArray(_useState,2),convoinfo=_useState2[0],setConvoinfo=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),convos=_useState4[0],setConvos=_useState4[1];var _useContext=useContext(ContextApp),darkmode=_useContext.darkmode,widemode=_useContext.widemode,themecolor=_useContext.themecolor,chatcolor=_useContext.chatcolor;var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),chatuser=_useState6[0],setChatuser=_useState6[1];var handleLogout=props.handleLogout,setLoading=props.setLoading;var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),msgpersonids=_useState8[0],setMsgpersonids=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),adduser=_useState10[0],_setAdduser=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),convolist=_useState12[0],setConvolist=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),userlist=_useState14[0],setUserlist=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),allusers=_useState16[0],setAllusers=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),message=_useState18[0],setMessage=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),recipientid=_useState20[0],setRecipientid=_useState20[1];var _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),recipientname=_useState22[0],setRecipientname=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),chatview=_useState24[0],setChatview=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),chatstarted=_useState26[0],setChatstarted=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),sidebar=_useState28[0],setSidebar=_useState28[1];var onedialogue=convolist&&convolist.map(function(diag){return/*#__PURE__*/_jsx(Route,{exact:true,path:\"/chat/\"+diag.convoinfo.convoid,children:/*#__PURE__*/_jsx(Dialogue,{diag:diag,chatuser:chatuser})});});var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),chatopen=_useState30[0],setChatopen=_useState30[1];var dialoguerow=convolist&&convolist.map(function(diag){if(user){if(chatuser===(user.uid===diag.convoinfo.creatorid?diag.convoinfo.recipientid:diag.convoinfo.creatorid)){return/*#__PURE__*/_jsx(Dialogue,{type:'small',chatuser:chatuser,diag:diag,icon:\"fal fa-times\",setState:setChatstarted});}}});var usersrow=convos&&convos.sort(function(a,b){return b.lastmsgdate-a.lastmsgdate;}).map(function(el){return/*#__PURE__*/_jsx(\"div\",{className:\"profilepic\",children:/*#__PURE__*/_jsx(Chatviewrow,{el:el,setChatopen:setChatopen,chatopen:chatopen,chatuser:chatuser,setChatuser:setChatuser,convoinfo:convoinfo,lnk:location.pathname.split('/').slice(1,2)[0],setChatstarted:setChatstarted,setChatview:setChatview})});});var chatsettings=convolist&&convolist.map(function(diag){return/*#__PURE__*/_jsx(Route,{path:\"/chatsettings/\"+diag.convoinfo.convoid,children:/*#__PURE__*/_jsx(Usersettings,{chatuser:chatuser,diag:diag,settings:\"chat\",type:\"chatsettings\",link:{link0:\"chatsettings/\"+diag.convoinfo.convoid,link1:diag.convoinfo.convoid+\"/actions\",link2:diag.convoinfo.convoid+\"/privacy\",link3:diag.convoinfo.convoid+\"/support\"},linklabel:{link0:\"Themes\",link1:\"Actions\",link2:\"Privacy\",link3:\"About\"}})});});var userprofile=convolist&&convolist.map(function(diag){return/*#__PURE__*/_jsx(Route,{exact:true,path:\"/chat/\"+diag.convoinfo.convoid,children:/*#__PURE__*/_jsx(Userprofile,{diag:diag,chatuser:chatuser})});});var imageRegexB=/(?:https?|ftp):\\/\\/[\\S]*\\.(?:png|jpe?g|gif|svg|webp)/g;var photo=true;function sendMessage(){if(message.length){_setAdduser(!adduser);var convoid=db.collection(\"conversations\").doc().id;StartConvo(recipientid,message,convoid,recipientname);}}function chatFuncDisplay(){setChatstarted(false);setTimeout(function(){setChatview(false);},400);}function updateProfile(){db.collection('users').doc(user.uid).update({customization:{widemode:!widemode,darkmode:darkmode,color:chatcolor,themecolor:themecolor}});}useEffect(function(){db.collection('users').doc(user.uid).onSnapshot(function(user){var userlist=user.data();setUserlist(userlist);db.collection('conversations').onSnapshot(function(snap){var convos=[];snap.forEach(function(doc){if(userlist.msgids.includes(doc.id)){convos.push(doc.data());}});setConvos(convos);});});},[]);useEffect(function(){if(user){db.collection(\"users\").doc(user.uid).onSnapshot(function(user){var userlist=user.data();setMsgpersonids(userlist.msgpersonids);setUserlist(userlist);db.collection(\"conversations\").onSnapshot(function(snap){var convos=[];snap.forEach(function(doc){if(userlist.msgids.includes(doc.id))convos.push(doc.data());});setConvolist(convos);});});db.collection(\"users\").onSnapshot(function(snap){var users=[];snap.forEach(function(el){users.push(el.data());});setAllusers(users);});db.collection('users').doc(user.uid).onSnapshot(function(snap){var user=snap.data();document.documentElement.style.setProperty('--theme-color',user.customization.themecolor);document.documentElement.style.setProperty('--chat-color',user.customization.color);});}setLoading(false);},[]);function deleteAccount(){var user=firebase.auth().currentUser;user.delete().then(function(){db.collection('users').doc(user.uid).delete();}).catch(function(err){});}return/*#__PURE__*/_jsxs(Div,{color:themecolor,className:widemode?\"body widebody\":\"body\",style:{backgroundColor:themecolor},children:[/*#__PURE__*/_jsx(\"div\",{className:\"sidebar\",children:/*#__PURE__*/_jsx(Sidebar,{updateProfile:updateProfile,chatFuncDisplay:chatFuncDisplay,setChatview:setChatview,setChatstarted:setChatstarted,handleLogout:handleLogout})}),/*#__PURE__*/_jsx(Switch,{children:/*#__PURE__*/_jsx(Paths,{handleLogout:handleLogout,chatsettings:chatsettings,chatuser:chatuser,setChatuser:setChatuser,userprofile:userprofile,onedialogue:onedialogue,convoinfo:convoinfo,setConvoinfo:setConvoinfo,adduser:adduser,setAdduser:function setAdduser(){return _setAdduser(!adduser);}})}),location.pathname.slice(0,5)==='/chat'?/*#__PURE__*/_jsx(\"div\",{className:\"chattab\"}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Hoverableicondiv,{classNames:\"chatdiv flex bs\",icon:\"comment\",state:chatview,setState:setChatview})}),/*#__PURE__*/_jsx(CSSTransition,{in:chatview,timeout:300,unmountOnExit:true,classNames:\"chatusers\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"chatusers bs\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Chat\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"users flexrow\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fal fa-times\",onClick:function onClick(){return setChatview(false);},style:{color:'var(--theme-color)',position:'absolute',top:'15px',right:'20px'}}),usersrow]})]})}),/*#__PURE__*/_jsx(CSSTransition,{in:chatstarted,classNames:\"chatview\",unmountOnExit:true,timeout:300,children:/*#__PURE__*/_jsx(\"div\",{className:\"chatview bs\",style:{right:chatview?'330px':'50px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"div\",{className:\"dialogue\",children:dialoguerow})})})}),/*#__PURE__*/_jsx(CSSTransition,{in:adduser,classNames:\"adduser\",unmountOnExit:true,timeout:300,children:/*#__PURE__*/_jsx(Adduser,{setRecipientname:setRecipientname,message:message,msgpersonids:msgpersonids,sendMessage:sendMessage,setMessage:setMessage,setRecipientid:setRecipientid,allusers:allusers,setAdduser:_setAdduser,recipientid:recipientid,adduser:adduser})})]});}export default Body;","map":{"version":3,"names":["React","useState","useEffect","useContext","Sidebar","firebase","db","Usernav","Userrow","Dialogue","Userprofile","Adduser","CSSTransition","TransitionGroup","BrowserRouter","Router","Switch","Route","Link","NavLink","Redirect","useLocation","StartConvo","styled","Paths","Account","Personalization","Chatsettings","Usersettings","ContextApp","Hoverableicondiv","Chatviewrow","Div","div","props","color","Body","location","user","auth","currentUser","unreadmsgs","convoinfo","setConvoinfo","convos","setConvos","darkmode","widemode","themecolor","chatcolor","chatuser","setChatuser","handleLogout","setLoading","msgpersonids","setMsgpersonids","adduser","setAdduser","convolist","setConvolist","userlist","setUserlist","allusers","setAllusers","message","setMessage","recipientid","setRecipientid","recipientname","setRecipientname","chatview","setChatview","chatstarted","setChatstarted","sidebar","setSidebar","onedialogue","map","diag","convoid","chatopen","setChatopen","dialoguerow","uid","creatorid","usersrow","sort","a","b","lastmsgdate","el","pathname","split","slice","chatsettings","link0","link1","link2","link3","userprofile","imageRegexB","photo","sendMessage","length","collection","doc","id","chatFuncDisplay","setTimeout","updateProfile","update","customization","onSnapshot","data","snap","forEach","msgids","includes","push","users","document","documentElement","style","setProperty","deleteAccount","delete","then","catch","err","backgroundColor","position","top","right"],"sources":["/Users/jinsonwu/Desktop/MIRC-Code-Verification/react-login/src/components/Body.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport Sidebar from \"./Sidebar\";\r\nimport firebase from \"firebase\";\r\nimport { db } from \"../Fire\";\r\nimport Usernav from \"./Usernav\";\r\nimport Userrow from \"./Userrow\";\r\nimport Dialogue from \"./Dialogue\";\r\nimport Userprofile from \"./Userprofile\";\r\nimport Adduser from \"./Adduser\";\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  NavLink,\r\n  Redirect,\r\n  useLocation\r\n} from \"react-router-dom\";\r\nimport { StartConvo } from \"./StartConvo\";\r\nimport styled from 'styled-components'\r\nimport Paths from \"./Paths\";\r\nimport Account from \"./settings/Account\";\r\nimport Personalization from \"./settings/Personalization\";\r\nimport Chatsettings from \"./Chatsettings\";\r\nimport Usersettings from \"./Usersettings\";\r\nimport { ContextApp } from \"../ContextAPI\";\r\nimport Hoverableicondiv from \"./Hoverableiconsdiv\";\r\nimport Chatviewrow from './Chatviewrow'\r\nconst Div = styled.div ` \r\n      ::selection {\r\n        background-color: ${props=>props.color};\r\n        color: white;\r\n      }\r\n`\r\nfunction Body(props) {\r\n  const location = useLocation();\r\n  const user = firebase.auth().currentUser;\r\n  const [convoinfo, setConvoinfo] = useState({\r\n    unreadmsgs: 0\r\n  });\r\n  const [convos, setConvos]=useState([])\r\n  const { darkmode, widemode, themecolor,chatcolor } = useContext(ContextApp);\r\n  const [chatuser, setChatuser] = useState(\"\");\r\n  const { handleLogout, setLoading } = props;\r\n  const [msgpersonids, setMsgpersonids] = useState([]);\r\n  const [adduser, setAdduser] = useState(false);\r\n  const [convolist, setConvolist] = useState([]);\r\n  const [userlist, setUserlist] = useState([]);\r\n  const [allusers, setAllusers] = useState([]);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [recipientid, setRecipientid] = useState(\"\");\r\n  const [recipientname, setRecipientname] = useState(\"\");\r\n  const [chatview, setChatview]=useState(false)\r\n  const [chatstarted, setChatstarted]=useState(false)\r\n  const [sidebar, setSidebar]=useState(false)\r\n\r\n  const onedialogue =convolist && convolist.map((diag) => {\r\n    return (\r\n        <Route  exact path={\"/chat/\" + diag.convoinfo.convoid}>\r\n          <Dialogue diag={diag} chatuser={chatuser}/>\r\n        </Route>\r\n      );\r\n    });\r\n    const [chatopen, setChatopen]=useState(false)\r\n    const dialoguerow = convolist && convolist.map(diag=>{\r\n        if(user) {\r\n          if(chatuser===(user.uid===diag.convoinfo.creatorid?diag.convoinfo.recipientid:diag.convoinfo.creatorid)){\r\n            return ( \r\n              <Dialogue  type={'small'} chatuser={chatuser} diag={diag} icon='fal fa-times' setState={setChatstarted} />     \r\n              )\r\n           }\r\n        }\r\n    })\r\n    const usersrow = convos && convos.sort((a, b) => b.lastmsgdate - a.lastmsgdate).map(el=>{\r\n      return <div className=\"profilepic\"><Chatviewrow el={el} setChatopen={setChatopen} chatopen={chatopen} chatuser={chatuser} setChatuser={setChatuser} convoinfo={convoinfo} lnk={location.pathname.split('/').slice(1, 2)[0]} setChatstarted={setChatstarted} setChatview={setChatview} /></div>\r\n    })\r\n  const chatsettings = \r\n    convolist &&\r\n    convolist.map((diag) => {\r\n      return (\r\n        <Route path={\"/chatsettings/\" + diag.convoinfo.convoid}>\r\n          <Usersettings\r\n            chatuser={chatuser}\r\n            diag={diag}\r\n            settings={\"chat\"}\r\n            type={\"chatsettings\"}\r\n            link={{\r\n              link0: \"chatsettings/\" + diag.convoinfo.convoid,\r\n              link1: diag.convoinfo.convoid + \"/actions\",\r\n              link2: diag.convoinfo.convoid + \"/privacy\",\r\n              link3: diag.convoinfo.convoid + \"/support\"\r\n            }}\r\n            linklabel={{\r\n              link0: \"Themes\",\r\n              link1: \"Actions\",\r\n              link2: \"Privacy\",\r\n              link3: \"About\"\r\n            }}\r\n            \r\n          />\r\n        </Route>\r\n      );\r\n    });\r\n  const userprofile =\r\n    convolist &&\r\n    convolist.map((diag) => {\r\n      return (\r\n        <Route exact path={\"/chat/\" + diag.convoinfo.convoid}>\r\n          <Userprofile diag={diag} chatuser={chatuser} />\r\n        </Route>\r\n      );\r\n    });\r\n    const imageRegexB = /(?:https?|ftp):\\/\\/[\\S]*\\.(?:png|jpe?g|gif|svg|webp)/g;\r\n    const photo = true\r\n  function sendMessage() {\r\n if (message.length) {\r\n      setAdduser(!adduser);\r\n      let convoid = db.collection(\"conversations\").doc().id;\r\n      StartConvo(recipientid, message, convoid, recipientname);\r\n    }\r\n  }\r\n  function chatFuncDisplay(){\r\n    setChatstarted(false)\r\n    setTimeout(()=>{\r\n      setChatview(false); \r\n    },400)\r\n  }\r\n  function updateProfile(){\r\n    db.collection('users').doc(user.uid).update({\r\n        customization: {\r\n          widemode: !widemode,\r\n          darkmode,\r\n          color: chatcolor,\r\n          themecolor\r\n        }\r\n    })\r\n}\r\n\r\n  useEffect(()=>{\r\n    db.collection('users').doc(user.uid).onSnapshot(user=>{\r\n      const userlist = user.data()\r\n      setUserlist(userlist)\r\n      db.collection('conversations').onSnapshot(snap=>{\r\n        let convos = []\r\n         snap.forEach(doc=>{\r\n           if(userlist.msgids.includes(doc.id)){\r\n             convos.push(doc.data())\r\n           }\r\n         })\r\n         setConvos(convos)\r\n      })\r\n    })\r\n   },[])\r\n  useEffect(() => {\r\n    if(user){\r\n      db.collection(\"users\")\r\n      .doc(user.uid)\r\n      .onSnapshot((user) => {\r\n        const userlist = user.data();\r\n        setMsgpersonids(userlist.msgpersonids);\r\n        setUserlist(userlist);\r\n        db.collection(\"conversations\").onSnapshot((snap) => {\r\n          let convos = [];\r\n          snap.forEach((doc) => {\r\n            if (userlist.msgids.includes(doc.id)) convos.push(doc.data());\r\n          });\r\n          setConvolist(convos);\r\n        });\r\n      });\r\n    db.collection(\"users\")\r\n   \r\n      .onSnapshot((snap) => {\r\n        const users = [];\r\n        snap.forEach((el) => {\r\n          users.push(el.data());\r\n        });\r\n        setAllusers(users);\r\n      });\r\n      db.collection('users').doc(user.uid).onSnapshot(snap=>{\r\n        const user = snap.data()\r\n        document.documentElement.style.setProperty(\r\n          '--theme-color', user.customization.themecolor\r\n        )\r\n        document.documentElement.style.setProperty(\r\n          '--chat-color', user.customization.color\r\n        )\r\n      })\r\n\r\n    }\r\n    setLoading(false);\r\n  }, []);\r\n  function deleteAccount(){\r\n    var user = firebase.auth().currentUser;\r\n    user.delete().then(()=>{\r\n      db.collection('users').doc(user.uid).delete()\r\n    }).catch(err=>{\r\n\r\n    })\r\n  }\r\n  return (\r\n    <Div\r\n    color={themecolor}  \r\n    className={widemode ? \"body widebody\" : \"body\"}\r\n      style={{ backgroundColor: themecolor }}\r\n    >\r\n      <div className='sidebar'\r\n      >\r\n        <Sidebar updateProfile={updateProfile} chatFuncDisplay={chatFuncDisplay} setChatview={setChatview} setChatstarted={setChatstarted} handleLogout={handleLogout} />\r\n      </div>\r\n      <Switch>\r\n        <Paths\r\n          handleLogout={handleLogout}\r\n          chatsettings={chatsettings}\r\n          chatuser={chatuser}\r\n          setChatuser={setChatuser}\r\n          userprofile={userprofile}\r\n          onedialogue={onedialogue}\r\n          convoinfo={convoinfo}\r\n          setConvoinfo={setConvoinfo}\r\n          adduser={adduser}\r\n          setAdduser={() => setAdduser(!adduser)}\r\n        />\r\n      </Switch>\r\n     \r\n        {location.pathname.slice(0, 5)==='/chat'?<div className='chattab'></div>:<><Hoverableicondiv  classNames={\"chatdiv flex bs\"} icon={\"comment\"} state={chatview} setState={setChatview}/></>}\r\n\r\n        <CSSTransition in={chatview} timeout={300} unmountOnExit classNames='chatusers'>\r\n      <div className=\"chatusers bs\">\r\n        <h2>Chat</h2>\r\n        <div className=\"users flexrow\">\r\n          <i className=\"fal fa-times\" onClick={()=>setChatview(false)} style={{color: 'var(--theme-color)', position: 'absolute', top: '15px',right: '20px'}}></i>\r\n                {usersrow}\r\n              </div>\r\n        </div>\r\n      </CSSTransition>\r\n      <CSSTransition \r\n      in={chatstarted}\r\n      classNames='chatview'\r\n      unmountOnExit \r\n      timeout={300}\r\n      >\r\n        <div className='chatview bs' style={{right: chatview?'330px':'50px'}}>\r\n            <div className=\"\">\r\n              <div className=\"dialogue\">\r\n                {dialoguerow}\r\n              </div>\r\n            </div>\r\n        </div>\r\n      </CSSTransition>\r\n      <CSSTransition\r\n        in={adduser}\r\n        classNames={\"adduser\"}\r\n        unmountOnExit\r\n        timeout={300}\r\n      >\r\n        <Adduser\r\n          setRecipientname={setRecipientname}\r\n          message={message}\r\n          msgpersonids={msgpersonids}\r\n          sendMessage={sendMessage}\r\n          setMessage={setMessage}\r\n          setRecipientid={setRecipientid}\r\n          allusers={allusers}\r\n          setAdduser={setAdduser}\r\n          recipientid={recipientid}\r\n          adduser={adduser}\r\n        />\r\n      </CSSTransition>\r\n      \r\n    </Div>\r\n  );\r\n}\r\nexport default Body;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}