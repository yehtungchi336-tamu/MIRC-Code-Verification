{"ast":null,"code":"import _slicedToArray from\"/Users/jinsonwu/Desktop/MIRC-Code-Verification/react-login/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from'react';import{BrowserRouter as Router,Switch,Route,Link,NavLink,Redirect}from\"react-router-dom\";import Switches from'../Switches';import Input from'../Input';import firebase from'firebase';import{db}from'../../Fire';import Button from'../Button';import{ContextApp}from'../../ContextAPI';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Themes(props){var _useContext=useContext(ContextApp),themecolor=_useContext.themecolor,notifi=_useContext.notifi,setNotifi=_useContext.setNotifi,notificont=_useContext.notificont,setNotificont=_useContext.setNotificont;var user=firebase.auth().currentUser;var themeimg=props.themeimg,setThemeimg=props.setThemeimg,themebool=props.themebool,setEmojibool=props.setEmojibool,setThemebool=props.setThemebool;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),hovered=_useState2[0],setHovered=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),nickname=_useState4[0],setNickname=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),emoji=_useState6[0],setEmoji=_useState6[1];var creatorid=props.creatorid,convoid=props.convoid,setEmojitype=props.setEmojitype,emojitype=props.emojitype,miniview=props.miniview,setMiniview=props.setMiniview;function updateProfile(){setNotifi(true);setNotificont({msg:'Profile was updated!',emoji:'fal fa-check-circle'});if(user.uid===creatorid){db.collection('conversations').doc(convoid).update({nickname1:nickname});}else{db.collection('conversations').doc(convoid).update({nickname2:nickname});}setTimeout(function(){setNotifi(false);},3500);}useEffect(function(){db.collection('conversations').doc(convoid).onSnapshot(function(snap){var convo=snap.data();setThemeimg(convo.customizedconvo.theme);setEmojitype(convo.customizedconvo.emoji);if(user.uid===creatorid){setNickname(convo.nickname1);}else{setNickname(convo.nickname2);}});},[convoid]);return/*#__PURE__*/_jsxs(\"div\",{className:\"customize\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Themes\"})}),/*#__PURE__*/_jsx(\"small\",{children:\"Customize your conversation settings.\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"spacer1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(Button,{type:\"emoji\",emoji:\"fad fa-adjust\",title:'Theme',setState1:setThemebool,state1:themebool,state3:miniview,setState3:setMiniview}),/*#__PURE__*/_jsx(Button,{type:'emoji',emoji:emojitype,title:'Emoji',state1:emoji,setState1:setEmoji,setState2:setEmojibool}),/*#__PURE__*/_jsx(Input,{placeholder:'Nickname',type:'text',title:'Nickname',value:nickname,setValue:setNickname}),/*#__PURE__*/_jsxs(\"div\",{className:\"flexrow sb\",children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",style:{color:'white',border:\"solid 3px transparent\",backgroundColor:themecolor},onMouseOver:function onMouseOver(e){return e.target.style.cssText=\"background-color: transparent; border: solid 3px \".concat(themecolor,\"; color: \").concat(themecolor);},onMouseLeave:function onMouseLeave(e){return e.target.style.cssText=\"background-color: \".concat(themecolor,\"; border: solid 3px transparent; color: white\");},onClick:function onClick(){return updateProfile();},children:\"Save\"})]})]})]});}export default Themes;","map":{"version":3,"names":["React","useState","useEffect","useContext","BrowserRouter","Router","Switch","Route","Link","NavLink","Redirect","Switches","Input","firebase","db","Button","ContextApp","Themes","props","themecolor","notifi","setNotifi","notificont","setNotificont","user","auth","currentUser","themeimg","setThemeimg","themebool","setEmojibool","setThemebool","hovered","setHovered","nickname","setNickname","emoji","setEmoji","creatorid","convoid","setEmojitype","emojitype","miniview","setMiniview","updateProfile","msg","uid","collection","doc","update","nickname1","nickname2","setTimeout","onSnapshot","snap","convo","data","customizedconvo","theme","color","border","backgroundColor","e","target","style","cssText"],"sources":["/Users/jinsonwu/Desktop/MIRC-Code-Verification/react-login/src/components/settings/Themes.js"],"sourcesContent":["import React, {useState, useEffect, useContext} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\nimport Switches from '../Switches'\r\nimport Input from '../Input'\r\nimport firebase from 'firebase'\r\nimport { db } from '../../Fire'\r\nimport Button from '../Button'\r\nimport {ContextApp} from '../../ContextAPI'\r\nfunction Themes (props) {\r\n  const  {themecolor,notifi, setNotifi, notificont, setNotificont}=useContext(ContextApp)\r\n  const user = firebase.auth().currentUser\r\n  const {themeimg,setThemeimg,themebool,setEmojibool,setThemebool} = props\r\n  const [hovered, setHovered]=useState(false)\r\n  const [nickname, setNickname]=useState('')\r\n  const [emoji, setEmoji]=useState('')\r\n  const {creatorid,convoid, setEmojitype, emojitype, miniview, setMiniview}=props\r\n  function updateProfile(){\r\n    setNotifi(true)\r\n    setNotificont({\r\n      msg: 'Profile was updated!',\r\n      emoji: 'fal fa-check-circle'\r\n    })\r\n\r\n    if(user.uid===creatorid){\r\n      db.collection('conversations').doc(convoid).update({\r\n        nickname1: nickname,\r\n      })\r\n    }\r\n    else {\r\n      db.collection('conversations').doc(convoid).update({\r\n        nickname2: nickname,\r\n      })\r\n    }\r\n    setTimeout(()=>{\r\n      setNotifi(false)\r\n    },3500)\r\n  }\r\n  useEffect(()=>{\r\n    db.collection('conversations').doc(convoid).onSnapshot(snap=>{\r\n        const convo =  snap.data()\r\n        setThemeimg(convo.customizedconvo.theme) \r\n        setEmojitype(convo.customizedconvo.emoji)\r\n        if(user.uid===creatorid) {\r\n          setNickname(convo.nickname1)\r\n        }\r\n        else {\r\n          setNickname(convo.nickname2)\r\n        }\r\n      })\r\n  },[convoid])\r\n  return (\r\n   <div className='customize'>\r\n <div><h2>Themes</h2></div>\r\n    <small>Customize your conversation settings.</small>\r\n    <hr/>\r\n      <div className=\"spacer1\"></div>\r\n    <div className=\"flex\">\r\n       <Button type='emoji' emoji='fad fa-adjust' title={'Theme'} setState1={setThemebool} state1={themebool} state3={miniview} setState3={setMiniview}/>\r\n       <Button type={'emoji'} emoji={emojitype} title={'Emoji'} state1={emoji} setState1={setEmoji} setState2={setEmojibool}/>\r\n       <Input  placeholder={'Nickname'} type={'text'}  title={'Nickname'} value={nickname} setValue={setNickname} />\r\n        <div className='flexrow sb'><span></span><button className='btn' style={{color: 'white', border: `solid 3px transparent`, backgroundColor: themecolor}} onMouseOver={(e)=>e.target.style.cssText=`background-color: transparent; border: solid 3px ${themecolor}; color: ${themecolor}`} onMouseLeave={(e)=>e.target.style.cssText=`background-color: ${themecolor}; border: solid 3px transparent; color: white`} onClick={()=>updateProfile()}>Save</button></div>\r\n    </div>\r\n  </div>\r\n  )\r\n}\r\nexport default Themes"],"mappings":"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"},"metadata":{},"sourceType":"module"}