{"ast":null,"code":"import _slicedToArray from\"/Users/jinsonwu/Desktop/MIRC-Code-Verification/react-login/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from'react';import firebase from'firebase';import{db}from'../Fire';import{CSSTransition}from'react-transition-group';import{ContextApp}from'../ContextAPI';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Userprofile(props){var link=/*#__PURE__*/_jsx(\"a\",{href:\"google.com\",children:\"asd\"});var _useContext=useContext(ContextApp),themecolor=_useContext.themecolor;var user=firebase.auth().currentUser;var chatuser=props.chatuser;var _props$diag$convoinfo=props.diag.convoinfo,convoid=_props$diag$convoinfo.convoid,creatorid=_props$diag$convoinfo.creatorid,recipientid=_props$diag$convoinfo.recipientid;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),recipname=_useState2[0],setRecipname=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),recipimg=_useState4[0],setRecipimg=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),recipcity=_useState6[0],setRecipcity=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),recipcountry=_useState8[0],setRecipcountry=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),recipjob=_useState10[0],setRecipjob=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),recipnumber=_useState12[0],setRecipnumber=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),recipemail=_useState14[0],setRecipemail=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),recipwebsite=_useState16[0],setRecipwebsite=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),extend=_useState18[0],setExtend=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),active=_useState20[0],setActive=_useState20[1];var _useState21=useState(true),_useState22=_slicedToArray(_useState21,2),loading=_useState22[0],setLoading=_useState22[1];useEffect(function(){db.collection('users').doc(chatuser).onSnapshot(function(snap){var user=snap.data();setRecipname(user.userinfo.name);setRecipimg(user.userinfo.cover);setRecipcity(user.userinfo.city);setRecipcountry(user.userinfo.country);setRecipjob(user.userinfo.job);setRecipnumber(user.userinfo.phone);setRecipemail(user.userinfo.email);setRecipwebsite(user.userinfo.website);setActive(user.online);setLoading(false);});},[recipientid,chatuser]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profilepic profilepiccol br-l\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"relative\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:'loader blue reloader',children:/*#__PURE__*/_jsxs(\"div\",{class:\"lds-ring\",children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{})]})}):[/*#__PURE__*/_jsx(\"img\",{src:recipimg,alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"notifi\",style:{backgroundColor:active?'rgb(44, 255, 44)':'#FF3D3D'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:recipname.length>17?recipname.slice(0,17)+'...':recipname}),/*#__PURE__*/_jsxs(\"small\",{children:[\"Job: \",recipjob===''?'Not provided':recipjob]})]}),/*#__PURE__*/_jsx(\"i\",{className:\"fal fa-cog\",style:{color:themecolor}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"personalinfo br-l flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flexrow\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Personal info\"}),/*#__PURE__*/_jsx(\"i\",{className:extend?\"fal fa-chevron-up rotate\":'fal fa-chevron-up',onClick:function onClick(){return setExtend(!extend);}})]}),/*#__PURE__*/_jsx(CSSTransition,{in:extend,classNames:\"extended\",timeout:0,unmountOnExit:true,children:/*#__PURE__*/_jsxs(\"div\",{className:\"extendoff\",children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flexrow flexinfo\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Phone #\"}),\" \",/*#__PURE__*/_jsx(\"p\",{children:recipnumber===''?'N/A':recipnumber})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flexrow flexinfo\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"p\",{children:recipemail})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flexrow flexinfo\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Country\"}),/*#__PURE__*/_jsx(\"p\",{children:recipcountry===''?'N/A':recipcountry})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flexrow flexinfo\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"City\"}),/*#__PURE__*/_jsx(\"p\",{children:recipcity===''?'N/A':recipcity})]})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mutualcontacts br-l pdng flexrow\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fal fa-users\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Mutual Contacts\"}),/*#__PURE__*/_jsx(\"i\",{class:\"fal fa-ellipsis-h-alt\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"br-l pdng flexrow\",children:[recipwebsite.toLocaleLowerCase()==='https://'?/*#__PURE__*/_jsx(\"i\",{class:\"fal fa-external-link\"}):/*#__PURE__*/_jsx(\"a\",{href:recipwebsite,children:/*#__PURE__*/_jsx(\"i\",{class:\"fal fa-external-link\"})}),/*#__PURE__*/_jsx(\"p\",{children:\"View Site\"})]})]});}export default Userprofile;","map":{"version":3,"names":["React","useState","useEffect","useContext","firebase","db","CSSTransition","ContextApp","Userprofile","props","link","themecolor","user","auth","currentUser","chatuser","diag","convoinfo","convoid","creatorid","recipientid","recipname","setRecipname","recipimg","setRecipimg","recipcity","setRecipcity","recipcountry","setRecipcountry","recipjob","setRecipjob","recipnumber","setRecipnumber","recipemail","setRecipemail","recipwebsite","setRecipwebsite","extend","setExtend","active","setActive","loading","setLoading","collection","doc","onSnapshot","snap","data","userinfo","name","cover","city","country","job","phone","email","website","online","backgroundColor","length","slice","color","toLocaleLowerCase"],"sources":["/Users/jinsonwu/Desktop/MIRC-Code-Verification/react-login/src/components/Userprofile.js"],"sourcesContent":["\r\nimport React, {useState, useEffect, useContext} from 'react'\r\nimport firebase from 'firebase'\r\nimport { db } from '../Fire'\r\nimport { CSSTransition } from 'react-transition-group'\r\nimport { ContextApp } from '../ContextAPI'\r\nfunction Userprofile (props) {\r\n  const link = <a href='google.com'>asd</a>\r\n  const {themecolor}=useContext(ContextApp)\r\n  const user = firebase.auth().currentUser\r\n  const {chatuser}=props\r\n  const {convoid, creatorid, recipientid} = props.diag.convoinfo\r\n  const [recipname, setRecipname]=useState('')\r\n  const [recipimg, setRecipimg]=useState('')\r\n  const [recipcity, setRecipcity]=useState('')\r\n  const [recipcountry, setRecipcountry]=useState('')\r\n  const [recipjob, setRecipjob]=useState('')\r\n  const [recipnumber, setRecipnumber]=useState('')\r\n  const [recipemail, setRecipemail]=useState('')\r\n  const [recipwebsite, setRecipwebsite]=useState('')\r\n  const [extend, setExtend]=useState(false)\r\n  const [active, setActive]=useState(false)\r\n  const [loading, setLoading]=useState(true)\r\n\r\n  useEffect(()=>{\r\n    db.collection('users').doc(chatuser).onSnapshot(snap=>{\r\n        const user = snap.data()\r\n        setRecipname(user.userinfo.name)\r\n        setRecipimg(user.userinfo.cover)\r\n        setRecipcity(user.userinfo.city)\r\n        setRecipcountry(user.userinfo.country)\r\n        setRecipjob(user.userinfo.job)\r\n        setRecipnumber(user.userinfo.phone)\r\n        setRecipemail(user.userinfo.email)\r\n        setRecipwebsite(user.userinfo.website)\r\n        setActive(user.online)\r\n        setLoading(false)\r\n\r\n    })\r\n  },[recipientid, chatuser])\r\n  return (\r\n   <>\r\n    <div className=\"profilepic profilepiccol br-l\">\r\n        <div className='relative'>\r\n        {loading?<div className={'loader blue reloader'}><div class=\"lds-ring\"><div></div><div></div><div></div><div></div></div></div>:[<img src={recipimg} alt=\"\"/>, <div className=\"notifi\" style={{backgroundColor:active?'rgb(44, 255, 44)':'#FF3D3D'}}></div>]}\r\n          \r\n        </div>\r\n        <div>\r\n          <p>{recipname.length>17?recipname.slice(0, 17)+'...':recipname}</p>\r\n          <small>Job: {recipjob===''?'Not provided':recipjob}</small>\r\n        </div>\r\n        <i className=\"fal fa-cog\" style={{color: themecolor}}></i>\r\n    </div> \r\n    <div className=\"personalinfo br-l flex\">\r\n     <div className='flexrow'><p>Personal info</p>\r\n      <i className={extend?`fal fa-chevron-up rotate`:'fal fa-chevron-up'} onClick={()=>setExtend(!extend)}></i>\r\n      </div>\r\n      <CSSTransition in={extend} classNames='extended' timeout={0} unmountOnExit>\r\n        <div className='extendoff'>\r\n        <hr />\r\n         <div className='flex'>\r\n           <div className=\"flexrow flexinfo\"><p>Phone #</p> <p>{recipnumber===''?'N/A':recipnumber}</p></div>\r\n           <div className=\"flexrow flexinfo\"><p>Email</p><p>{recipemail}</p></div>\r\n           <div className=\"flexrow flexinfo\"><p>Country</p><p>{recipcountry===''?'N/A':recipcountry}</p></div>\r\n           <div className=\"flexrow flexinfo\"><p>City</p><p>{recipcity===''?'N/A':recipcity}</p></div>\r\n         </div>\r\n        </div>\r\n      </CSSTransition>\r\n    </div>\r\n    <div className=\"mutualcontacts br-l pdng flexrow\">\r\n    <i class=\"fal fa-users\"></i>\r\n      <p>Mutual Contacts</p>\r\n      <i class=\"fal fa-ellipsis-h-alt\"></i>\r\n      </div>\r\n      <div className=\"br-l pdng flexrow\">\r\n        {recipwebsite.toLocaleLowerCase()==='https://'?<i class=\"fal fa-external-link\"></i>:\r\n          <a href={recipwebsite}><i class=\"fal fa-external-link\"></i></a>}\r\n          <p>View Site</p>\r\n         \r\n      </div>\r\n    </>\r\n  )\r\n}\r\nexport default Userprofile"],"mappings":"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"},"metadata":{},"sourceType":"module"}