{"ast":null,"code":"import _regeneratorRuntime from \"/Users/jinsonwu/Desktop/MIRC-Code-Verification/react-login/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/jinsonwu/Desktop/MIRC-Code-Verification/react-login/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/Users/jinsonwu/Desktop/MIRC-Code-Verification/react-login/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/Users/jinsonwu/Desktop/MIRC-Code-Verification/react-login/src/components/Gifs.js/Gif.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport axios from 'axios';\nimport { Search } from './Search';\nimport Hoverablebutton from '../Hoverablebutton';\nimport Hoverableicondiv from '../Hoverableiconsdiv';\nimport firebase from 'firebase';\nimport { db } from '../../Fire';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Gif(props) {\n  _s();\n  var _this = this;\n  // STATEs\n  var setGif = props.setGif,\n    convoid = props.convoid,\n    chatuser = props.chatuser,\n    notifibool = props.notifibool,\n    chatimg = props.chatimg;\n  var _React$useState = React.useState([]),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    data = _React$useState2[0],\n    setData = _React$useState2[1];\n  var _React$useState3 = React.useState('Gif'),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    title = _React$useState4[0],\n    setTitle = _React$useState4[1];\n  var _React$useState5 = React.useState(true),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    loader = _React$useState6[0],\n    setLoader = _React$useState6[1];\n  var _React$useState7 = React.useState(0),\n    _React$useState8 = _slicedToArray(_React$useState7, 2),\n    offset = _React$useState8[0],\n    setOffset = _React$useState8[1];\n  var _React$useState9 = React.useState(10),\n    _React$useState10 = _slicedToArray(_React$useState9, 2),\n    limit = _React$useState10[0],\n    setLimit = _React$useState10[1];\n  var _React$useState11 = React.useState(0),\n    _React$useState12 = _slicedToArray(_React$useState11, 2),\n    totalCount = _React$useState12[0],\n    setTotalCount = _React$useState12[1];\n  var _React$useState13 = React.useState(''),\n    _React$useState14 = _slicedToArray(_React$useState13, 2),\n    search = _React$useState14[0],\n    setSearch = _React$useState14[1];\n  var _React$useState15 = React.useState(false),\n    _React$useState16 = _slicedToArray(_React$useState15, 2),\n    trending = _React$useState16[0],\n    setTrending = _React$useState16[1];\n  var _React$useState17 = React.useState(false),\n    _React$useState18 = _slicedToArray(_React$useState17, 2),\n    trendSearch = _React$useState18[0],\n    setTrendSearch = _React$useState18[1];\n  var _React$useState19 = React.useState([]),\n    _React$useState20 = _slicedToArray(_React$useState19, 2),\n    tSearch = _React$useState20[0],\n    setTsearch = _React$useState20[1];\n  var date = firebase.firestore.FieldValue.serverTimestamp();\n  var user = firebase.auth().currentUser;\n  //\n  // ─── FETCH ──────────────────────────────────────────────────────────────────────\n  var fetchData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(title) {\n      var URL, fetchGif, fetchRes;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              URL = \"https://api.giphy.com/v1/gifs/search?q=\".concat(title, \"&api_key=nn7ZohI4KJCwSXdYVpViEi7RkUmJacV3&limit=\").concat(limit, \"&offset=\").concat(offset); // Try and catch\n              _context.prev = 1;\n              _context.next = 4;\n              return axios(URL);\n            case 4:\n              fetchGif = _context.sent;\n              _context.next = 7;\n              return fetchGif;\n            case 7:\n              fetchRes = _context.sent;\n              if (fetchRes.status === 200) {\n                // Set Data\n                setData(fetchRes.data.data);\n                // Set Total Count\n                setTotalCount(fetchRes.data.pagination.total_count);\n                // Set loader false\n                setLoader(false);\n                // Call new content\n                content();\n                // Set fetch random false\n                if (trending) {\n                  setTrending(false);\n                  // Reset offset\n                  setOffset(0);\n                }\n                // Set trend searching\n                setTrendSearch(false);\n              }\n              _context.next = 15;\n              break;\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](1);\n              if (!_context.t0) {\n                _context.next = 15;\n                break;\n              }\n              throw _context.t0;\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 11]]);\n    }));\n    return function fetchData(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  // Remove image\n  // const removeImage = id => {\n  //     setData(\n  //      data.filter(gif => gif.id !== id)\n  //     )\n  //   }\n  // USE EFFECT on offset change fetch new data\n  React.useEffect(function () {\n    if (!trending) {\n      fetchData(title);\n    }\n  }, [offset]);\n\n  //\n  // ─── HANDLE DOWNLOAD ────────────────────────────────────────────────────────────\n\n  var handleDownload = function handleDownload(url) {\n    var xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", url, true);\n    xhr.responseType = \"blob\";\n    xhr.onload = function () {\n      var urlCreator = window.URL || window.webkitURL;\n      var imageUrl = urlCreator.createObjectURL(this.response);\n      var tag = document.createElement('a');\n      tag.href = imageUrl;\n      tag.download = title.charAt(0).toUpperCase() + title.slice(1);\n      document.body.appendChild(tag);\n      tag.click();\n      document.body.removeChild(tag);\n    };\n    xhr.send();\n  };\n\n  // Scroll on top function\n  var onTop = function onTop() {\n    var options = {\n      top: 0,\n      left: 0,\n      behavior: 'smooth'\n    };\n    window.scrollTo(options);\n  };\n\n  // Handle Next Pagination\n  var handleNext = function handleNext() {\n    // Set loader true\n    setLoader(true);\n    // Add one page\n    setOffset(offset + limit);\n    // Go on top\n    onTop();\n  };\n  // Handle prev Pagination\n  var handlePrev = function handlePrev() {\n    // Loader true\n    setLoader(true);\n    // One page\n    setOffset(offset - limit);\n    // Go on top\n    onTop();\n  };\n  function sendGif(img) {\n    var msgobject = {\n      message: img,\n      reaction1: \"\",\n      reaction2: \"\",\n      msgdate: firebase.firestore.Timestamp.now(),\n      msgid: db.collection(\"conversations\").doc().id,\n      read: false,\n      senderid: user.uid,\n      editing: false,\n      nobackground: true,\n      emoji: true,\n      base64: true\n    };\n    db.collection(\"conversations\").doc(convoid).update({\n      lastmsgdate: date,\n      messages: firebase.firestore.FieldValue.arrayUnion(msgobject)\n    });\n    var notificationobj = {\n      notifimsg: img,\n      notifidate: firebase.firestore.Timestamp.now(),\n      read: false,\n      sender: user.displayName,\n      gif: true,\n      id: convoid,\n      senderid: user.uid,\n      notifiid: db.collection('users').doc().id\n    };\n    if (notifibool) {\n      db.collection('notifications').doc(chatuser).update({\n        notifications: firebase.firestore.FieldValue.arrayUnion(notificationobj)\n      });\n    }\n  }\n  //\n  // ─── RENDER CONTENT ─────────────────────────────────────────────────────────────\n\n  var content = function content() {\n    switch (true) {\n      // If loader is true show loader spinner\n      case loader:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 16\n        }, _this);\n      // If data array more than zero loop through\n      case data.length > 0:\n        return data.map(function (g) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gif-card\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"image\",\n              onClick: function onClick() {\n                return sendGif(g.images.fixed_height.url);\n              },\n              src: g.images.fixed_width.url,\n              alt: \"gif\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 17\n            }, _this)\n          }, g.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 17\n          }, _this);\n        });\n\n      // Otherwise return default\n      default:\n        return data;\n    }\n  };\n\n  //\n  // ─── RETURN ─────────────────────────────────────────────────────────────────────\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"gif bs\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fal fa-times\",\n        onClick: function onClick() {\n          return setGif(false);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Search GIFs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Search, {\n        search: search,\n        setSearch: setSearch,\n        fetchData: fetchData,\n        setTitle: setTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gif-wrap\",\n      children: [trendSearch ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gif-trend-search\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: tSearch.map(function (t, i) {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: i + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 46\n              }, _this), \" \", t.toUpperCase()]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 34\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }, this) : '', content()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flexrow np-btn\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"themeBtn flex\",\n        s: true,\n        onClick: handlePrev,\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          class: \"fad fa-backward\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 66\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"themeBtn flex\",\n        onClick: handleNext,\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          class: \"fad fa-forward\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 64\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 5\n  }, this);\n}\n_s(Gif, \"NIsEn1EuQ3XCfwNY4B0kn9zBXqg=\");\n_c = Gif;\nvar _c;\n$RefreshReg$(_c, \"Gif\");","map":{"version":3,"names":["React","axios","Search","Hoverablebutton","Hoverableicondiv","firebase","db","Gif","props","setGif","convoid","chatuser","notifibool","chatimg","useState","data","setData","title","setTitle","loader","setLoader","offset","setOffset","limit","setLimit","totalCount","setTotalCount","search","setSearch","trending","setTrending","trendSearch","setTrendSearch","tSearch","setTsearch","date","firestore","FieldValue","serverTimestamp","user","auth","currentUser","fetchData","URL","fetchGif","fetchRes","status","pagination","total_count","content","useEffect","handleDownload","url","xhr","XMLHttpRequest","open","responseType","onload","urlCreator","window","webkitURL","imageUrl","createObjectURL","response","tag","document","createElement","href","download","charAt","toUpperCase","slice","body","appendChild","click","removeChild","send","onTop","options","top","left","behavior","scrollTo","handleNext","handlePrev","sendGif","img","msgobject","message","reaction1","reaction2","msgdate","Timestamp","now","msgid","collection","doc","id","read","senderid","uid","editing","nobackground","emoji","base64","update","lastmsgdate","messages","arrayUnion","notificationobj","notifimsg","notifidate","sender","displayName","gif","notifiid","notifications","length","map","g","images","fixed_height","fixed_width","t","i"],"sources":["/Users/jinsonwu/Desktop/MIRC-Code-Verification/react-login/src/components/Gifs.js/Gif.js"],"sourcesContent":["import React from 'react'\r\nimport axios from 'axios'\r\n\r\nimport {Search} from './Search'\r\nimport Hoverablebutton from '../Hoverablebutton';\r\nimport Hoverableicondiv from '../Hoverableiconsdiv';\r\nimport firebase from 'firebase'\r\nimport {db} from '../../Fire'\r\n\r\nexport default function Gif(props) {\r\n    // STATEs\r\n    const {setGif, convoid, chatuser, notifibool, chatimg}=props\r\n    const [data, setData] = React.useState([]);\r\n    const [title, setTitle] = React.useState('Gif');\r\n    const [loader, setLoader] = React.useState(true);\r\n    const [offset, setOffset] = React.useState(0);\r\n    const [limit, setLimit] = React.useState(10)\r\n    const [totalCount, setTotalCount] = React.useState(0)\r\n    const [search, setSearch] = React.useState('');\r\n    const [trending, setTrending] = React.useState(false)\r\n    const [trendSearch, setTrendSearch] = React.useState(false)\r\n    const [tSearch, setTsearch] = React.useState([])\r\n    const date = firebase.firestore.FieldValue.serverTimestamp()\r\n    const user =firebase.auth().currentUser\r\n//\r\n// ─── FETCH ──────────────────────────────────────────────────────────────────────\r\nconst fetchData = async (title)=>{\r\nlet URL = `https://api.giphy.com/v1/gifs/search?q=${title}&api_key=nn7ZohI4KJCwSXdYVpViEi7RkUmJacV3&limit=${limit}&offset=${offset}`;\r\n// Try and catch\r\ntry{\r\n    let fetchGif = await axios(URL);\r\n    let fetchRes = await fetchGif;\r\n    if(fetchRes.status === 200){\r\n    // Set Data\r\n    setData(fetchRes.data.data)\r\n    // Set Total Count\r\n    setTotalCount(fetchRes.data.pagination.total_count)\r\n    // Set loader false\r\n    setLoader(false)\r\n     // Call new content\r\n     content()\r\n     // Set fetch random false\r\n     if(trending){\r\n     setTrending(false)\r\n    // Reset offset\r\n    setOffset(0)\r\n     }\r\n     // Set trend searching\r\n     setTrendSearch(false)\r\n    \r\n    }\r\n}\r\ncatch(error){\r\n    if(error) throw error\r\n}\r\n\r\n}\r\n// Remove image\r\n// const removeImage = id => {\r\n//     setData(\r\n//      data.filter(gif => gif.id !== id)\r\n//     )\r\n//   }\r\n// USE EFFECT on offset change fetch new data\r\nReact.useEffect(()=>{\r\n\r\n    if(!trending){\r\n    fetchData(title)\r\n    }\r\n},[offset])\r\n\r\n //\r\n // ─── HANDLE DOWNLOAD ────────────────────────────────────────────────────────────\r\n     \r\nconst handleDownload = (url)=>{\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open(\"GET\", url, true);\r\n    xhr.responseType = \"blob\";\r\n    xhr.onload = function(){\r\n        let urlCreator = window.URL || window.webkitURL;\r\n        let imageUrl = urlCreator.createObjectURL(this.response);\r\n        let tag = document.createElement('a');\r\n        tag.href = imageUrl;\r\n        tag.download = title.charAt(0).toUpperCase() + title.slice(1);\r\n        document.body.appendChild(tag);\r\n        tag.click();\r\n        document.body.removeChild(tag);\r\n    }\r\n    xhr.send();\r\n}\r\n\r\n// Scroll on top function\r\nconst onTop = () => {\r\n    let options = { top: 0, left: 0, behavior: 'smooth' };\r\n    window.scrollTo(options);\r\n}\r\n\r\n// Handle Next Pagination\r\nconst handleNext = ()=>{\r\n    // Set loader true\r\n    setLoader(true);\r\n    // Add one page\r\n    setOffset(offset + limit)\r\n    // Go on top\r\n    onTop()\r\n}\r\n// Handle prev Pagination\r\nconst handlePrev = ()=>{\r\n    // Loader true\r\n    setLoader(true);\r\n    // One page\r\n    setOffset(offset - limit) \r\n    // Go on top\r\n    onTop()\r\n}\r\nfunction sendGif(img){\r\n    let msgobject = {\r\n        message: img,\r\n        reaction1: \"\",\r\n        reaction2: \"\",\r\n        msgdate: firebase.firestore.Timestamp.now(),\r\n        msgid: db.collection(\"conversations\").doc().id,\r\n        read: false,\r\n        senderid: user.uid,\r\n        editing: false,\r\n        nobackground: true,\r\n        emoji: true,\r\n        base64: true\r\n      };\r\n      db.collection(\"conversations\")\r\n        .doc(convoid)\r\n        .update({\r\n          lastmsgdate: date,\r\n          messages: firebase.firestore.FieldValue.arrayUnion(msgobject)\r\n        });\r\n        let notificationobj = {\r\n            notifimsg: img,\r\n            notifidate: firebase.firestore.Timestamp.now(),\r\n            read: false,\r\n            sender: user.displayName,\r\n            gif: true,\r\n            id: convoid,\r\n            senderid: user.uid,\r\n            notifiid: db.collection('users').doc().id          }      \r\n          if(notifibool){\r\n            db.collection('notifications').doc(chatuser).update({\r\n              notifications: firebase.firestore.FieldValue.arrayUnion(notificationobj)\r\n            })\r\n          }\r\n}\r\n //\r\n // ─── RENDER CONTENT ─────────────────────────────────────────────────────────────\r\n     \r\nconst content = () => {\r\n    switch(true) {\r\n    // If loader is true show loader spinner\r\n      case loader:\r\n        return <div>Loading...</div>\r\n    // If data array more than zero loop through\r\n      case data.length > 0:\r\n        return  data.map(g=> {\r\n            return (\r\n                <div className='gif-card' key={g.id}>\r\n                <img className='image' onClick={()=>sendGif(g.images.fixed_height.url)} src={g.images.fixed_width.url} alt=\"gif\"/>\r\n                </div>\r\n            )\r\n        })\r\n\r\n    // Otherwise return default\r\n      default:\r\n        return data\r\n    }\r\n  }\r\n\r\n//\r\n// ─── RETURN ─────────────────────────────────────────────────────────────────────\r\n    \r\nreturn (\r\n    <div className='gif bs'>\r\n        <header>\r\n        <i className=\"fal fa-times\" onClick={()=>setGif(false)}></i>\r\n        <h2>Search GIFs</h2>\r\n        <Search search={search} setSearch={setSearch} fetchData={fetchData} setTitle={setTitle}/>\r\n\r\n        </header>\r\n    \r\n        <div className='gif-wrap'>\r\n      \r\n        {trendSearch ? \r\n        (\r\n            <div className='gif-trend-search'>\r\n            <ul> \r\n            {tSearch.map((t,i)=> <li key={i}><strong>{i + 1}</strong> {t.toUpperCase()}</li>)}\r\n            </ul>\r\n            </div>\r\n        )\r\n        :\r\n        ''\r\n        }\r\n          {content()}\r\n        </div>\r\n        <div className=\"flexrow np-btn\">\r\n        <button className='themeBtn flex' s onClick={handlePrev}><i class=\"fad fa-backward\"></i></button>\r\n        <button className='themeBtn flex' onClick={handleNext}><i class=\"fad fa-forward\"></i></button>\r\n        </div>\r\n\r\n       \r\n    </div>\r\n)\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}