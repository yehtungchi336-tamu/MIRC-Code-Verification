{"ast":null,"code":"import _slicedToArray from\"/Users/jinsonwu/Desktop/MIRC-Code-Verification/react-login/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from'react';import{BrowserRouter as Router,Switch,Route,Link,NavLink,Redirect}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Recording(props){var src=props.src;var video=useRef();var playBtn=useRef();var progress=useRef();var playPause=useState(false);function togglePlayPause(e){if(video.current.paused){video.current.play();e.target.className='fal fa-pause';}else{video.current.pause();e.target.className='fal fa-play';}}function updateProgress(){var progresswidth=video.current.currentTime/video.current.duration;setTime((video.current.duration-video.current.currentTime).toFixed(1));progress.current.style.width=progresswidth*100+'%';if(video.current.ended){playBtn.current.className='fal fa-play';}}var _useState=useState(''),_useState2=_slicedToArray(_useState,2),time=_useState2[0],setTime=_useState2[1];function determineMinSecH(time){if(time>60){return(time/60).toFixed(0)+' m';}else if(time>3600){return(time/3600).toFixed(1)+' h';}else{return Math.round(time)+' s';}}return/*#__PURE__*/_jsxs(\"div\",{className:\"videoContainer\",children:[/*#__PURE__*/_jsx(\"video\",{onLoadedData:function onLoadedData(){return setTime(video.current.duration.toFixed(1));},onTimeUpdate:function onTimeUpdate(){return updateProgress();},src:src,id:\"video\",ref:video}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fal fa-play\",ref:playBtn,onClick:function onClick(e){return togglePlayPause(e);}}),/*#__PURE__*/_jsx(\"div\",{className:\"progressvideo\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress\",ref:progress})}),/*#__PURE__*/_jsx(\"small\",{children:determineMinSecH(time)})]})]});}export default Recording;","map":{"version":3,"names":["React","useState","useEffect","useRef","BrowserRouter","Router","Switch","Route","Link","NavLink","Redirect","Recording","props","src","video","playBtn","progress","playPause","togglePlayPause","e","current","paused","play","target","className","pause","updateProgress","progresswidth","currentTime","duration","setTime","toFixed","style","width","ended","time","determineMinSecH","Math","round"],"sources":["/Users/jinsonwu/Desktop/MIRC-Code-Verification/react-login/src/components/msgcomponents/Recording.js"],"sourcesContent":["import React, {useState, useEffect, useRef} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\n\r\nfunction Recording (props) {\r\n  const {src}= props\r\n  const video =useRef()  \r\n  const playBtn = useRef()\r\n  const progress = useRef()\r\n  const playPause = useState(false)\r\n  function togglePlayPause(e){\r\n    if(video.current.paused){\r\n      video.current.play()\r\n      e.target.className='fal fa-pause'\r\n    }\r\n    else {\r\n      video.current.pause()\r\n      e.target.className='fal fa-play'\r\n    }\r\n  }\r\nfunction updateProgress(){\r\n    const progresswidth = video.current.currentTime/video.current.duration\r\n    setTime((video.current.duration-video.current.currentTime).toFixed(1))\r\n    progress.current.style.width=progresswidth*100+'%'\r\n    if(video.current.ended){\r\n      playBtn.current.className='fal fa-play'\r\n    }\r\n    }\r\n    const [time, setTime]=useState('')\r\n    function determineMinSecH(time){\r\n      if(time>60){\r\n        return (time / 60).toFixed(0) +' m'\r\n      }else if (time>3600){\r\n        return (time/3600).toFixed(1) + ' h'\r\n      }else {\r\n        return Math.round(time) + ' s'\r\n      }\r\n    }\r\n  return (\r\n    <div className='videoContainer'> \r\n      <video onLoadedData={()=>setTime(video.current.duration.toFixed(1))} onTimeUpdate={()=>updateProgress()} src={src} id='video' ref={video}></video>\r\n        <div className=\"controls\">\r\n          <i className=\"fal fa-play\" ref={playBtn} onClick={(e)=>togglePlayPause(e)}></i>\r\n          <div className=\"progressvideo\">\r\n            <div className=\"progress\" ref={progress}></div>\r\n          </div>\r\n          <small>{determineMinSecH(time)}</small>\r\n        </div>\r\n    </div>\r\n   \r\n  )\r\n}\r\nexport default Recording"],"mappings":"gJAAA,MAAOA,MAAK,EAAGC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAO,OAAO,CACxD,OAASC,aAAa,GAAIC,OAAM,CAACC,MAAM,CAACC,KAAK,CAACC,IAAI,CAACC,OAAO,CAAEC,QAAQ,KAAQ,kBAAkB,yFAE9F,QAASC,UAAS,CAAEC,KAAK,CAAE,CACzB,GAAOC,IAAG,CAAGD,KAAK,CAAXC,GAAG,CACV,GAAMC,MAAK,CAAEX,MAAM,EAAE,CACrB,GAAMY,QAAO,CAAGZ,MAAM,EAAE,CACxB,GAAMa,SAAQ,CAAGb,MAAM,EAAE,CACzB,GAAMc,UAAS,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CACjC,QAASiB,gBAAe,CAACC,CAAC,CAAC,CACzB,GAAGL,KAAK,CAACM,OAAO,CAACC,MAAM,CAAC,CACtBP,KAAK,CAACM,OAAO,CAACE,IAAI,EAAE,CACpBH,CAAC,CAACI,MAAM,CAACC,SAAS,CAAC,cAAc,CACnC,CAAC,IACI,CACHV,KAAK,CAACM,OAAO,CAACK,KAAK,EAAE,CACrBN,CAAC,CAACI,MAAM,CAACC,SAAS,CAAC,aAAa,CAClC,CACF,CACF,QAASE,eAAc,EAAE,CACrB,GAAMC,cAAa,CAAGb,KAAK,CAACM,OAAO,CAACQ,WAAW,CAACd,KAAK,CAACM,OAAO,CAACS,QAAQ,CACtEC,OAAO,CAAC,CAAChB,KAAK,CAACM,OAAO,CAACS,QAAQ,CAACf,KAAK,CAACM,OAAO,CAACQ,WAAW,EAAEG,OAAO,CAAC,CAAC,CAAC,CAAC,CACtEf,QAAQ,CAACI,OAAO,CAACY,KAAK,CAACC,KAAK,CAACN,aAAa,CAAC,GAAG,CAAC,GAAG,CAClD,GAAGb,KAAK,CAACM,OAAO,CAACc,KAAK,CAAC,CACrBnB,OAAO,CAACK,OAAO,CAACI,SAAS,CAAC,aAAa,CACzC,CACA,CACA,cAAsBvB,QAAQ,CAAC,EAAE,CAAC,wCAA3BkC,IAAI,eAAEL,OAAO,eACpB,QAASM,iBAAgB,CAACD,IAAI,CAAC,CAC7B,GAAGA,IAAI,CAAC,EAAE,CAAC,CACT,MAAO,CAACA,IAAI,CAAG,EAAE,EAAEJ,OAAO,CAAC,CAAC,CAAC,CAAE,IAAI,CACrC,CAAC,IAAK,IAAII,IAAI,CAAC,IAAI,CAAC,CAClB,MAAO,CAACA,IAAI,CAAC,IAAI,EAAEJ,OAAO,CAAC,CAAC,CAAC,CAAG,IAAI,CACtC,CAAC,IAAK,CACJ,MAAOM,KAAI,CAACC,KAAK,CAACH,IAAI,CAAC,CAAG,IAAI,CAChC,CACF,CACF,mBACE,aAAK,SAAS,CAAC,gBAAgB,wBAC7B,cAAO,YAAY,CAAE,8BAAIL,QAAO,CAAChB,KAAK,CAACM,OAAO,CAACS,QAAQ,CAACE,OAAO,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,YAAY,CAAE,8BAAIL,eAAc,EAAE,EAAC,CAAC,GAAG,CAAEb,GAAI,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAEC,KAAM,EAAS,cAChJ,aAAK,SAAS,CAAC,UAAU,wBACvB,UAAG,SAAS,CAAC,aAAa,CAAC,GAAG,CAAEC,OAAQ,CAAC,OAAO,CAAE,iBAACI,CAAC,QAAGD,gBAAe,CAACC,CAAC,CAAC,EAAC,EAAK,cAC/E,YAAK,SAAS,CAAC,eAAe,uBAC5B,YAAK,SAAS,CAAC,UAAU,CAAC,GAAG,CAAEH,QAAS,EAAO,EAC3C,cACN,uBAAQoB,gBAAgB,CAACD,IAAI,CAAC,EAAS,GACnC,GACJ,CAGV,CACA,cAAexB,UAAS"},"metadata":{},"sourceType":"module"}