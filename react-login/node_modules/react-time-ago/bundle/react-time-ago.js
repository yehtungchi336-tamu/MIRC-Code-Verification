!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types"),require("javascript-time-ago")):"function"==typeof define&&define.amd?define(["react","prop-types","javascript-time-ago"],t):(e=e||self).ReactTimeAgo=t(e.React,e.PropTypes,e.TimeAgo)}(this,(function(e,t,n){"use strict";var r="default"in e?e.default:e,o="default"in t?t.default:t;n=n&&n.hasOwnProperty("default")?n.default:n;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(){return"object"===("undefined"==typeof Intl?"undefined":i(Intl))&&"function"==typeof Intl.DateTimeFormat}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var c=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cache={}}return f(e,[{key:"get",value:function(){for(var e=this.cache,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n,i=Array.isArray(o),a=0;for(o=i?o:o[Symbol.iterator]();;){var f;if(i){if(a>=o.length)break;f=o[a++]}else{if((a=o.next()).done)break;f=a.value}var c=f;if("object"!==(void 0===e?"undefined":u(e)))return;e=e[c]}return e}},{key:"put",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.pop(),o=t.pop(),i=this.cache,a=t,f=Array.isArray(a),c=0;for(a=f?a:a[Symbol.iterator]();;){var s;if(f){if(c>=a.length)break;s=a[c++]}else{if((c=a.next()).done)break;s=c.value}var l=s;"object"!==u(i[l])&&(i[l]={}),i=i[l]}return i[o]=r}}]),e}());function s(e,t){if(!a())return function(e){return e.toString()};var n=function(e){var t=e.toString();if(l[t])return l[t];return l[t]=function(e){if(a())return Intl.DateTimeFormat.supportedLocalesOf(e)[0]}(e)}(e),r=JSON.stringify(t),o=c.get(String(n),r)||c.put(String(n),r,new Intl.DateTimeFormat(n,t));return function(e){return o.format(e)}}var l={};var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function m(e){return(t=e)instanceof Date||function(e){return"object"===(void 0===e?"undefined":p(e))&&"function"==typeof e.getTime}(t)?e:new Date(e);var t}var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};for(var y=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){(function(){var t,n,r,o,i,a;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-i)/1e6},n=process.hrtime,o=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),a=1e9*process.uptime(),i=o-a):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(d)})),v="undefined"==typeof window?d:window,b=["moz","webkit"],h="AnimationFrame",g=v["request"+h],w=v["cancel"+h]||v["cancelRequest"+h],T=0;!g&&T<b.length;T++)g=v[b[T]+"Request"+h],w=v[b[T]+"Cancel"+h]||v[b[T]+"CancelRequest"+h];if(!g||!w){var S=0,x=0,D=[];g=function(e){if(0===D.length){var t=y(),n=Math.max(0,1e3/60-(t-S));S=n+t,setTimeout((function(){var e=D.slice(0);D.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(S)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return D.push({handle:++x,callback:e,cancelled:!1}),x},w=function(e){for(var t=0;t<D.length;t++)D[t].handle===e&&(D[t].cancelled=!0)}}var O=function(e){return g.call(v,e)};O.cancel=function(){w.apply(v,arguments)},O.polyfill=function(e){e||(e=v),e.requestAnimationFrame=g,e.cancelAnimationFrame=w};var k=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},q={instances:[],add:function(e){var t=this,n=0===this.instances.length;return A(this.instances,e),n&&this.start(),{stop:function(){j(t.instances,e),0===t.instances.length&&t.stop()},forceUpdate:function(){R(e,t.instances)}}},tick:function(){for(var e=Date.now();;){var t=this.instances[0];if(!(e>=t.nextUpdateTime))break;R(t,this.instances)}},scheduleNextTick:function(){var e=this;this.scheduledTick=O((function(){e.tick(),e.scheduleNextTick()}))},start:function(){this.scheduleNextTick()},stop:function(){O.cancel(this.scheduledTick)}};function R(e,t){!function(e){var t=e.getNextValue(),n=k(t,2),r=n[0],o=n[1];e.setValue(r),e.nextUpdateTime=o}(e),j(t,e),A(t,e)}function A(e,t){var n=function(e,t){var n=t.nextUpdateTime;return function(e,t){if(0===e.length)return 0;for(var n=0,r=e.length-1,o=void 0;n<=r;){var i=t(e[o=Math.floor((r+n)/2)]);if(0===i)return o;if(i<0){if((n=o+1)>r)return n}else if((r=o-1)<n)return n}}(e,(function(e){return e.nextUpdateTime===n?0:e.nextUpdateTime>n?1:-1}))}(e,t);e.splice(n,0,t)}function j(e,t){var n=e.indexOf(t);e.splice(n,1)}var I=t.oneOfType([t.shape({minTime:t.number,formatAs:t.string.isRequired}),t.shape({test:t.func,formatAs:t.string.isRequired}),t.shape({minTime:t.number,format:t.func.isRequired}),t.shape({test:t.func,format:t.func.isRequired})]),F=t.oneOfType([t.string,t.shape({steps:t.arrayOf(I).isRequired,labels:t.oneOfType([t.string,t.arrayOf(t.string)]).isRequired,round:t.string})]),M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function P(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function U(t){var o=t.date,i=t.future,a=t.timeStyle,u=t.round,f=t.minTimeLeft,c=t.tooltip,l=t.component,p=t.container,d=t.wrapperComponent,y=t.wrapperProps,v=t.locale,b=t.locales,h=t.formatVerboseDate,g=t.verboseDateFormat,w=t.updateInterval,T=t.tick,S=P(t,["date","future","timeStyle","round","minTimeLeft","tooltip","component","container","wrapperComponent","wrapperProps","locale","locales","formatVerboseDate","verboseDateFormat","updateInterval","tick"]),x=e.useMemo((function(){return v&&(b=[v]),b.concat(n.getDefaultLocale())}),[v,b]),D=e.useMemo((function(){return new n(x)}),[x]);o=e.useMemo((function(){return m(o)}),[o]);var O=e.useCallback((function(){var e=Date.now(),t=void 0;if(i&&e>=o.getTime()&&(e=o.getTime(),t=!0),void 0!==f){var n=o.getTime()-1e3*f;e>n&&(e=n,t=!0)}var r=D.format(o,a,{getTimeToNextUpdate:!0,now:e,future:i,round:u}),c=E(r,2),s=c[0],l=c[1];return[s,e+(l=t?N:w||l||6e4)]}),[o,i,a,w,u,f,D]),k=e.useRef();k.current=O;var R=e.useMemo(O,[]),A=E(R,2),j=A[0],I=A[1],F=e.useState(j),U=E(F,2),C=U[0],V=U[1],L=e.useState(),z=E(L,2),J=z[0],B=z[1],G=e.useRef();e.useEffect((function(){if(T)return G.current=q.add({getNextValue:function(){return k.current()},setValue:V,nextUpdateTime:I}),function(){return G.current.stop()}}),[T]),e.useEffect((function(){if(G.current)G.current.forceUpdate();else{var e=O(),t=E(e,1)[0];V(t)}}),[O]),e.useEffect((function(){B(!0)}),[]);var H=e.useMemo((function(){if("undefined"!=typeof window)return s(x,g)}),[x,g]),K=e.useMemo((function(){if("undefined"!=typeof window)return h?h(o):H(o)}),[o,h,H]),Q=r.createElement(l,M({date:o,verboseDate:J?K:void 0,tooltip:c},S),C),W=d||p;return W?r.createElement(W,M({},y,{verboseDate:J?K:void 0}),Q):Q}U.propTypes={date:o.oneOfType([o.instanceOf(Date),o.number]).isRequired,locale:o.string,locales:o.arrayOf(o.string),future:o.bool,timeStyle:F,round:o.string,minTimeLeft:o.number,component:o.elementType.isRequired,tooltip:o.bool.isRequired,formatVerboseDate:o.func,verboseDateFormat:o.object,updateInterval:o.oneOfType([o.number,o.arrayOf(o.shape({threshold:o.number,interval:o.number.isRequired}))]),tick:o.bool,wrapperComponent:o.func,wrapperProps:o.object},U.defaultProps={locales:[],component:V,tooltip:!0,verboseDateFormat:{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit"},tick:!0};var C=U=r.memo(U),N=31536e9;function V(t){var n=t.date,o=t.verboseDate,i=t.tooltip,a=t.children,u=P(t,["date","verboseDate","tooltip","children"]),f=e.useMemo((function(){return n.toISOString()}),[n]);return r.createElement("time",M({},u,{dateTime:f,title:i?o:void 0}),a)}return V.propTypes={date:o.instanceOf(Date).isRequired,verboseDate:o.string,tooltip:o.bool.isRequired,children:o.string.isRequired},C}));
//# sourceMappingURL=react-time-ago.js.map
