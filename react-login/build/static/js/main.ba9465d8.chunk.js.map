{"version":3,"sources":["Fire.js","ContextAPI.js","components/Sidebar.js","components/Forgotpassword.js","components/Login.js","components/Users.js","components/Userrow.js","components/Hoverabletexticonflexrow.js","components/Contextmenu.js","components/Elapsedtime.js","components/Recorder.js","components/Hoverableiconsdiv.js","components/msgcomponents/Iframe.js","components/msgcomponents/Img.js","components/msgcomponents/File.js","components/msgcomponents/Recording.js","components/Gifs.js/Search.js","components/Hoverablebutton.js","components/Gifs.js/Gif.js","components/msgcomponents/Contextoptions.js","components/msgcomponents/Threedots.js","components/Dialogue.js","components/Userprofile.js","components/Adduser.js","components/Inputs.js","components/settings/Account.js","components/Switches.js","components/Input.js","components/Button.js","components/settings/Personalization.js","components/settings/Infocontainer.js","components/settings/Aboutchatuser.js","components/settings/Preferences.js","components/settings/Themes.js","components/settings/Actions.js","components/settings/Support.js","components/Usersettings.js","components/Hoverlink.js","components/Home.js","components/Notifications.js","components/Paths.js","components/Chatviewrow.js","components/Body.js","components/StartConvo.js","App.js","index.js"],"names":["firebaseApp","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","ContextApp","createContext","ContextAppProvider","props","user","auth","currentUser","useState","darkmode","setDarkmode","widemode","setWidemode","chatcolor","setChatcolor","themecolor","setThemecolor","notifi","setNotifi","emoji","msg","notificont","setNotificont","collection","doc","uid","onSnapshot","snap","data","customization","color","Provider","value","children","Sidebar","useContext","updateProfile","chatFuncDisplay","handleLogout","setChatview","setChatstarted","userimg","setUserimg","setUsername","setLoader","useEffect","userinfo","cover","name","className","activeClassName","exact","to","class","onClick","Forgotpassword","email","setEmail","onSubmit","e","preventDefault","type","placeholder","onChange","target","sendPasswordResetEmail","then","window","alert","catch","err","code","errormsg","message","Login","loginwithTwitter","loginwithFacebook","loginwithGoogle","setName","setlName","lname","password","setPassword","handleLogin","handleSignup","hasAccount","setHasAccount","emailError","passwordError","path","src","alt","style","display","id","for","loading","textAlign","cursor","marginBottom","Users","convoinfo","setConvoinfo","el","setChatuser","chatuser","recipimg","setRecipimg","recipname","setRecipname","sendername","setSendername","setActivestatus","senderimg","setSenderimg","setLoading","setMsg","reg","determineMsgtype","undefined","base64","file","audio","match","RegExp","$1","replace","_","text","img","trim","recipientid","online","creatorid","convoid","msgs","messages","length","slice","dangerouslySetInnerHTML","__html","senderid","lastMsg","Userrow","keyword","setUserlist","convos","setConvos","allconvos","sort","a","b","lastmsgdate","map","userlist","forEach","msgids","includes","push","setAdduser","onFocus","Hoverabletexticonflexrow","icon","classNames","functionOne","Contextmenu","themebool","emojibool","setUpdatedMsg","copy","contextmenu","setContextmenu","contextstyle","msgid","visible","setVisible","setMsgs","contextmenuSelector","useRef","history","useLocation","useHistory","sendReaction","opt","itemindex","indexOf","reaction1","update","reaction2","emojisrow","allemojisrow","document","addEventListener","current","ref","onContextMenu","left","top","onMouseOver","onMouseLeave","CSSTransition","in","timeout","unmountOnExit","r","createRange","querySelector","selectNode","getSelection","removeAllRanges","addRange","execCommand","copyFunc","splice","setThemebool","setEmojibool","emojitype","location","reload","goForward","goBack","ElapsedTime","Iconspecial","styled","i","Recorder","progressbar","progresswidth","record","setRecord","clicked","setClicked","reset","setReset","stop","RecordState","STOP","time","setTime","intervalId","setIntervalId","startRecord","START","setInterval","prev","state","onStop","audioData","require","storage","reader","FileReader","readAsDataURL","blob","onloadend","url","filename","mimeType","base64data","result","fetch","res","arrayBuffer","buf","File","storageRef","put","on","percentage","bytesTransferred","totalBytes","height","msgobject","bucket","reaction","msgdate","Timestamp","now","read","editing","nobackground","FieldValue","arrayUnion","clearInterval","Button","button","Icon","Span","span","Hoverableicondiv","inputref","sendFile","setImg","special","setState","lnk","setState2","handleEvent","setTimeout","zIndex","accept","Iframe","link","controls","allowFullScreen","Img","fontSize","position","href","Recording","video","playBtn","progress","onLoadedData","duration","toFixed","onTimeUpdate","currentTime","width","ended","updateProgress","paused","play","pause","togglePlayPause","Math","round","determineMinSecH","Search","search","setSearch","fetchData","setTitle","Hoverablebutton","Gif","setGif","notifibool","chatimg","React","setData","title","loader","offset","setOffset","limit","setTotalCount","trending","setTrending","trendSearch","setTrendSearch","tSearch","date","serverTimestamp","URL","axios","fetchGif","fetchRes","status","pagination","total_count","content","onTop","scrollTo","behavior","g","notificationobj","notifimsg","notifidate","sender","displayName","gif","notifiid","notifications","sendGif","images","fixed_height","fixed_width","t","toUpperCase","s","Contextoptions","function1","re","stopPropagation","Threedots","emojis","setEmojis","msgidedit","setMsgidedit","allemojis","contextoption","emojiref","threedots","copyMsg","Dialogue","msgstring","setMsgstring","setUpdateelapsed","typing","setTyping","setRecipcity","setRecipcountry","setNotifibool","setEmojitype","setUserchatcolor","setShowinput","updatedMsg","theme","setTheme","setMsgid","chatname","setChatname","setChatimg","setChatcity","setChatcountry","chatactive","setChatactive","nickname","setNickname","emojipicker","setEmojipicker","diag","typerRef","imageRegexB","ytVidId","sm","determineClass","modal","setModal","imgsrc","setImgSrcModal","allmsgs","reverse","customcontext","getBoundingClientRect","currentTarget","getAttribute","pageY","pageX","editMsg","contextMenu","contentEditable","backgroundColor","closest","contains","setAttribute","clickHandler","ReactTimeAgo","toDate","marginLeft","files","idxDot","lastIndexOf","extFile","substr","toLowerCase","iconsrow","scrollto","sendMessage","scrollIntoView","block","emojipickerref","zoomamount","setZoomamount","zoom","timer","city","country","get","use","customizedconvo","notifications2","nickname1","notifications1","nickname2","padding","render","backgroundImage","onKeyUp","keyCode","shiftKey","triggerSend","onInput","focus","role","sendEmoji","hideScrollbars","onEmojiClick","event","emojiobject","Userprofile","recipcity","recipcountry","recipjob","setRecipjob","recipnumber","setRecipnumber","recipemail","setRecipemail","recipwebsite","setRecipwebsite","extend","setExtend","active","setActive","job","phone","website","toLocaleLowerCase","Adduser","allusers","setRecipientname","setRecipientid","setMessage","msgpersonids","adduser","setKeyword","determineDisplay","border","cssText","pattern","allusersrow","test","Input","input","Inputs","disabled","determineDelete","age","setAge","setCity","phonenumber","setPhonenumber","setWebsite","setCountry","required","min","delete","Account","uploaded","setUploaded","setCover","setJob","userobj","setDisabled","uploadImg","removeImg","Switches","checked","setChecked","setValue","changeCSSVar","onBlur","state1","setState1","setState3","addstyle","state3","stylebtn","Personalization","input1","input2","input3","input4","setInput4","setInput1","setInput2","setInput3","hovered","setHovered","documentElement","setProperty","Infocontainer","variable","margin","Aboutchatuser","setPhone","rel","Preferences","Themes","setThemeimg","themeimg","setEmoji","miniview","setMiniview","convo","Actions","o","Support","Usersettings","settings","linklabel","BrowserHistory","darkmode1","themes","themesrow","clientHeight","clientWidth","activeStyle","link0","link1","link2","link3","marginTop","updateObj","Hoverlink","num","txt","clk","Body","setNotifLength","lnks","d","Date","getHours","determineTime","providerData","providerId","determinetext","Notifications","setNotifications","deleteNotifi","noti","notificationsrow","locale","Paths","chatsettings","onedialogue","userprofile","Home","senderonline","setSenderonline","reciponline","setReciponline","Div","div","unreadmsgs","setMsgpersonids","convolist","setConvolist","setAllusers","recipientname","chatview","chatstarted","chatopen","setChatopen","dialoguerow","usersrow","Chatviewrow","pathname","split","users","right","creatorname","typerid","userref","set","StartConvo","App","setUser","setEmailError","setPasswordError","clearErrors","authListener","onAuthStateChanged","provider","GoogleAuthProvider","addScope","signInWithPopup","additionalUserInfo","isNewUser","credential","accessToken","created","photoURL","phoneNumber","error","FacebookAuthProvider","usergoogle","errorCode","console","log","useBeforeunload","host","signOut","signInWithEmailAndPassword","createUserWithEmailAndPassword","TimeAgo","addDefaultLocale","en","addLocale","rootElement","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.ba9465d8.chunk.js","sourcesContent":["import firebase from 'firebase'\r\n\r\nconst  firebaseApp = firebase.initializeApp ({\r\n  apiKey: \"AIzaSyBtw3coit5Y_E2gJInz7RavYXuthmhh35Q\",\n  authDomain: \"authentic-idea-365202.firebaseapp.com\",\n  projectId: \"authentic-idea-365202\",\n  storageBucket: \"authentic-idea-365202.appspot.com\",\n  messagingSenderId: \"497585289385\",\n  appId: \"1:497585289385:web:a9ee5f59c4a17b793bd1b8\",\n  measurementId: \"G-2HBL5FQBGG\"\r\n});\r\n\r\nconst db= firebaseApp.firestore()\r\nconst Fire = firebaseApp\r\nexport  {db, Fire}\r\n","import React, { createContext, useState, useEffect } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport firebase from 'firebase'\r\nimport { db } from './Fire'\r\nexport let ContextApp=createContext()\r\nlet ContextAppProvider=(props)=>{\r\n  const user = firebase.auth().currentUser\r\n  const [darkmode, setDarkmode]=useState(false)\r\n  const [widemode, setWidemode]=useState(false)\r\n  const [chatcolor, setChatcolor]=useState('')\r\n  const [themecolor, setThemecolor]=useState('')\r\n  const [notifi, setNotifi]=useState(false)\r\n  const [notificont, setNotificont]=useState({\r\n    emoji: '',\r\n    msg: ''\r\n  })\r\n  if(user) {\r\n    db.collection('users').doc(user.uid).onSnapshot(snap=>{\r\n      let user = snap.data()\r\n      setDarkmode(user.customization.darkmode)\r\n      setWidemode(user.customization.widemode)\r\n      setChatcolor(user.customization.color)\r\n      setThemecolor(user.customization.themecolor)\r\n    })\r\n  }\r\n  return (\r\n    <ContextApp.Provider value={{darkmode, widemode, chatcolor, themecolor, notificont, notifi, setNotificont, setNotifi}}>\r\n      {props.children}\r\n    </ContextApp.Provider>\r\n  )\r\n}\r\nexport default ContextAppProvider","import React, {useState, useEffect, useContext} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\nimport firebase from 'firebase'\r\nimport { db } from '../Fire'\r\nimport {ContextApp} from '../ContextAPI'\r\nfunction Sidebar (props) {\r\n  const {darkmode, chatcolor, widemode, themecolor}=useContext(ContextApp)\r\n\r\n  const {updateProfile,chatFuncDisplay,handleLogout, setChatview, setChatstarted}=props\r\n  const [userimg, setUserimg]=useState('')\r\n  const [username, setUsername]=useState('')\r\n  const [loader, setLoader]=useState(true)\r\n  const user = firebase.auth().currentUser\r\n  const [extend, setExtend]=useState(false)\r\n\r\n  useEffect(()=>{\r\n    db.collection('users').doc(user.uid).onSnapshot(snap=>{\r\n      const user = snap.data()  \r\n      setUserimg(user.userinfo.cover)\r\n      setUsername(user.userinfo.name)\r\n      setLoader(false)\r\n    })\r\n  },[userimg])\r\n  return (\r\n   <>\r\n  \r\n    <div className=\"profilepic profilepiccol\">\r\n    {\r\n\r\n        }\r\n        </div>\r\n  \r\n        <div className=\"icons\">\r\n            <NavLink activeClassName='activelink' exact to='/home'><span><i class=\"far fa-home\"></i>{widemode?<p className='widemodeElement'>Home</p>:''}</span></NavLink>\r\n            <NavLink activeClassName='activelink' onClick={()=>{chatFuncDisplay()}}  to='/chat'><span><i class=\"far fa-comment-alt\"></i>{widemode?<p className='widemodeElement'>Chat</p>:''}</span></NavLink>\r\n            <NavLink activeClassName='activelink'  to='/notifications'><span><i class=\"far fa-bell\"></i>{widemode?<p className='widemodeElement'>Notifications</p>:''}</span></NavLink>\r\n            <NavLink activeClassName='activelink' to='/podcast'><span><i class=\"fal fa-podcast\"></i>{widemode?<p className='widemodeElement'>Podcast</p>:''}</span></NavLink>\r\n            <NavLink activeClassName='activelink'  to='/settings'><span><i class=\"fal fa-cog\"></i>{widemode?<p className='widemodeElement'>Settings</p>:''}</span></NavLink>\r\n            <NavLink exact to='/' onClick={()=>{handleLogout()}}><span> <i  class=\"fal fa-sign-out-alt\"></i>{widemode?<p className='widemodeElement'>Logout</p>:''}</span></NavLink> \r\n           <a onClick={()=>{updateProfile()}} className='widemodeElement' ><i class={widemode?\"fal fa-chevron-double-right rotate\":'fal fa-chevron-double-right'}></i></a>\r\n        </div>    \r\n       { widemode?'':<><div className='widemodeElement spac'></div>\r\n        <div className='widemodeElement spac'></div></>}\r\n\r\n\r\n  </>\r\n  )\r\n}\r\nexport default Sidebar","import React, {useState, useEffect} from 'react'\r\nimport firebase from 'firebase'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink } from \"react-router-dom\" \r\n\r\nfunction Forgotpassword (props){\r\n  let [email, setEmail]=useState('')\r\n  function sendEmail(){\r\n      if(email!==''){\r\n       firebase.auth().sendPasswordResetEmail(email).then(()=>{\r\n          window.alert('email has been sent')\r\n       })\r\n       .catch(err=>{\r\n          let errorcode = err.code\r\n          let errormsg = err.message\r\n          window.alert(errormsg)\r\n       })\r\n      }else {\r\n        window.alert('Please input an email')\r\n      }\r\n  }\r\nreturn (\r\n  <div className='forgotpassword'>\r\n         <div className='login'>\r\n<div className=\"spacer1\"></div>\r\n\r\n    <div className=\"title\">\r\n    <i class=\"fa-unlock fad\"></i>\r\n      <h1>Forgot Password</h1>\r\n    </div>\r\n    <div className=\"spacer1\"></div>\r\n      <div className=\"logincontainer\">\r\n        <form onSubmit={(e)=>e.preventDefault()}>\r\n          <label >\r\n            <span>Email</span>\r\n            <input type=\"text\" placeholder='example@mail.com' onChange={(e)=>setEmail(e.target.value)}/>\r\n          </label>\r\n            <button className='themeBtn' onClick={()=>sendEmail()}>Send email</button>\r\n         \r\n        </form> \r\n   \r\n       <Link to='/' className='forgotPasswordButton'>Return to login page</Link>\r\n      </div>\r\n    \r\n  </div>\r\n  </div>\r\n)\r\n}\r\nexport default Forgotpassword","import React, {useState, useEffect} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\nimport {db} from '../Fire'\r\nimport firebase from 'firebase'\r\nimport Forgotpassword from './Forgotpassword'\r\nimport GoogleButton from 'react-google-button'\r\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props'\r\nimport ReactFacebookLogin from 'react-facebook-login'\r\n\r\nfunction Login(props){\r\n  const {loginwithTwitter,loginwithFacebook,loginwithGoogle,setlName,lname,name, setName, email, setEmail, password, setPassword, handleLogin, handleSignup, hasAccount, setHasAccount, emailError, passwordError } = props\r\n  function determineLoading (){\r\n      if(props.loading) {\r\n       return <div class=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\r\n      }else {\r\n        return 'Log in'\r\n      }\r\n  }\r\n  return (\r\n    <>\r\n     <Route exact path='/'>\r\n     <div className='image'>\r\n     <img src=\"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp\" class=\"img-fluid\" alt=\"Sample image\" />\r\n     </div>\r\n     <div className='login'>\r\n     <div className='icon'>\r\n              <button className='login-btn gog-btn' onClick={loginwithGoogle()}> <i class=\"fab fa-google\"></i></button>\r\n              <button className='login-btn fb-btn' onClick={loginwithFacebook()}><i className=\"fab fa-facebook\"></i></button>\r\n              </div>      \r\n\r\n        <div className=\"sub_title\">\r\n            <p className=\"text-center\">Or</p>\r\n          </div>\r\n\r\n        <div className=\"title\">\r\n        <h2>{hasAccount?'Log In':'Register'}</h2>\r\n        </div>\r\n\r\n        <div className=\"spacer1\"></div>\r\n        <label style={{display: hasAccount?'none': 'flex'}}>  \r\n            <fieldset className=\"choose_role\">\r\n                <legend>Choose your role</legend>\r\n                <div>\r\n                  <input type=\"radio\" id=\"assistant\" name=\"interest\" class=\"slectOne\" value=\"assistant\" />\r\n                  <label for=\"assistant\">Assistant</label>\r\n                </div>\r\n                <div>\r\n                  <input type=\"radio\" id=\"executive\" name=\"interest\" class=\"slectOne\" value=\"executive\" />\r\n                  <label for=\"executive\">Executive</label>\r\n                </div>\r\n            </fieldset>  \r\n          </label> \r\n          <div className=\"logincontainer\">\r\n            <form onSubmit={(e)=>e.preventDefault()}>\r\n              <label style={{display: hasAccount?'none': 'flex'}}>   \r\n                <span>Name</span>\r\n                <input type=\"text\" placeholder='Jennifer Chang' onChange={(e)=>setName(e.target.value)}/>\r\n              </label>\r\n\r\n              <label>\r\n                <span>Email address</span>\r\n                <input type=\"text\" value={email} placeholder='username@mail.com' onChange={(e)=>setEmail(e.target.value)}/>\r\n                <p className='errormsgLogin'>{emailError}</p>\r\n              </label>\r\n              <label>\r\n                <span>Password</span>\r\n                <input type=\"password\" placeholder='password' value={password}onChange={(e)=>setPassword(e.target.value)}/>\r\n                <p className='errormsgLogin'>{passwordError}</p>\r\n              </label>\r\n              {hasAccount?\r\n              <div className='btnContainer'>\r\n                <button className='themeBtn' onClick={handleLogin}>{determineLoading()}</button>\r\n             <div className='flex' style={{textAlign: 'center'}}>\r\n             <Link exact to='/forgotpassword' className='forgotPasswordButton' >Forgot your password?</Link>\r\n             </div>\r\n             <div className='flex_warn' style={{textAlign: 'center'}}>\r\n             <small>Don't have an account<span onClick={()=>setHasAccount(!hasAccount)} style={{cursor: 'pointer'}}>? Register</span></small>\r\n             </div>\r\n              </div>:\r\n              \r\n              <div className='btnContainer'>\r\n                  <button className='themeBtn' style={{marginBottom: '10px'}} onClick={handleSignup}>Register</button>\r\n                  <div className='flexrow'>\r\n                  <small>Already have an account<span onClick={()=>setHasAccount(!hasAccount)} style={{cursor:'pointer'}}>? Sign in</span></small>\r\n                  </div>\r\n                  \r\n              </div>}\r\n              \r\n            </form> \r\n             \r\n          </div>\r\n        \r\n      </div>\r\n\r\n\r\n      <div className=\"footer\">\r\n        <div className=\"text-white mb-3 mb-md-0\">\r\n          Copyright © 2022. MOON AND CAKE.\r\n        </div>\r\n      </div>\r\n\r\n     </Route>\r\n     <Route exact path='/forgotpassword'>\r\n          <Forgotpassword />\r\n     </Route>\r\n     </>\r\n  )\r\n}\r\nexport default Login\r\n","import React, {useState, useEffect} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\nimport firebase from 'firebase'\r\nimport {db} from '../Fire'\r\nfunction Users (props) {\r\n  // const [name, setName]=useState('')\r\n  // const [img, setImg]=useState('')\r\n  // const [city, setCity]=useState('')\r\n  // const [country, setCountry]=useState('')\r\n  // const [job, setJob]=useState('')\r\n  // const [recipnumber, setRecipnumber]=useState('')\r\n  // const [recipemail, setRecipemail]=useState('')\r\n  // const [recipwebsite, setRecipwebsite]=useState('')\r\n  // const [extend, setExtend]=useState(false)\r\n    const {convoinfo, setConvoinfo, el, setChatuser, chatuser}=props\r\n    const [recipimg, setRecipimg]=useState('')\r\n    // const {recipname, setRecipname, sendername, setSendername}=props\r\n    const [recipname, setRecipname] = useState('')\r\n    const [sendername, setSendername]=useState('')\r\n    const [activestatus, setActivestatus]=useState(false)\r\n    const [senderimg, setSenderimg]=useState('')\r\n    const [loading, setLoading]=useState(true)\r\n    const [msg, setMsg]=useState('')\r\n    const reg = /((?:(?!(?:https?|ftp):\\/\\/[\\S]*\\.(?:png|jpe?g|gif|svg|webp)).)+)|((?:https?|ftp):\\/\\/[\\S]*\\.(?:png|jpe?g|gif|svg|webp)(?:\\?\\S+=\\S*(?:&\\S+=\\S*)*)?)/gm\r\n    function ytVidId(url) {\r\n      var p = /^(?:https?:\\/\\/)?(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$/;\r\n    return (url.match(p)) ? RegExp.$1 : false\r\n    }\r\n    let user = firebase.auth().currentUser\r\n    function determineMsgtype(msg){\r\n      if(msg.message!==undefined){\r\n        if(msg.base64){\r\n          return `<span style='font-size: 0px; position: absolute'>${msg.message}</span><img src=\"${msg.message}\"/>`\r\n        }else if(msg.file){\r\n        return 'Sent a File'\r\n        }else if(msg.audio){\r\n            return 'Sent a recording'\r\n        }\r\n        else if(ytVidId(msg.message)){\r\n          return 'Sent a Video'\r\n        }\r\n        else {\r\n          return msg.message.replace(reg, (_, text, img) => text ? `<p>${text.trim()}</p>` : `<img src=\"${img}\" />`)\r\n\r\n        }\r\n      }\r\n\r\n    }\r\n    function lastMsg(msg) {\r\n      if(msg) {\r\n        if(msg.senderid===user.uid) {\r\n          return `<p>You:</p> ${determineMsgtype(msg)}`\r\n        }else {\r\n          return determineMsgtype(msg)\r\n       }\r\n      }\r\n     \r\n    }\r\n    useEffect(()=>{\r\n      db.collection('users').doc(el.convoinfo.recipientid).onSnapshot(snap=>{\r\n        const user = snap.data()\r\n        setRecipname(user.userinfo.name)\r\n        setRecipimg(user.userinfo.cover)\r\n        setActivestatus(user.userinfo.online)\r\n        setLoading(false)\r\n      })\r\n      db.collection('users').doc(el.convoinfo.creatorid).onSnapshot(snap=>{\r\n        const user = snap.data()\r\n        setSendername(user.userinfo.name)\r\n        setSenderimg(user.userinfo.cover)\r\n        setLoading(false)\r\n      })\r\n      db.collection('conversations').doc(el.convoinfo.convoid).onSnapshot(snap=>{\r\n        const msgs = snap.data()  \r\n        setMsg(msgs.messages[msgs.messages.length-1])\r\n      })\r\n    },[el.convoinfo.recipientid, el, chatuser])\r\n    return (\r\n   <>\r\n  <NavLink activeClassName='activelink' to={'/chat/'+el.convoinfo.convoid} onClick={()=>{setChatuser(el.convoinfo.creatorid===user.uid?el.convoinfo.recipientid:el.convoinfo.creatorid)}}>\r\n      <div className=\"user\">\r\n          <div className=\"profilepic\">\r\n          {loading?<div class=\"lds-ring\"><div></div><div></div><div></div><div></div></div>: <img src={el.convoinfo.creatorid===user.uid?recipimg:senderimg} alt=\"\"/>}\r\n          </div>\r\n        <div className=\"info flex\">\r\n          <p className='username'>{el.convoinfo.creatorid===user.uid?recipname.length>15?recipname.slice(0, 15)+'...':recipname:sendername.length>15?sendername.slice(0, 15)+'...':sendername}</p>\r\n          <small dangerouslySetInnerHTML={{__html: lastMsg(msg)}}></small>        \r\n          </div>\r\n      </div>\r\n  </NavLink>\r\n  </>\r\n  )\r\n}\r\nexport default Users","import React, {useState, useEffect, useContext} from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport Users from './Users'\r\nimport {db} from '../Fire'\r\nimport firebase from 'firebase'\r\nimport { ContextApp } from '../ContextAPI'\r\n\r\nfunction Userrow (props) {\r\n  const {themecolor}=useContext(ContextApp)\r\n  const [keyword, setKeyword]=useState('')\r\n  const pattern = new RegExp('\\\\b' + keyword.replace(/[\\W_]+/g,\"\"), 'i')\r\n\r\n    const {convoinfo, setConvoinfo, setChatuser, chatuser}= props \r\n    const [userlist, setUserlist]=useState([])\r\n    const [convos, setConvos]=useState([])\r\n    const id =db.collection('users').doc().id\r\n    const  user = firebase.auth().currentUser\r\n    const allconvos = convos && convos.sort((a, b) => b.lastmsgdate - a.lastmsgdate).map(el=>{\r\n      if(user){\r\n          return <Users   chatuser={chatuser} setChatuser={setChatuser} el={el} convoinfo={convoinfo} setConvoinfo={setConvoinfo}/>    \r\n\r\n      }else {\r\n        return null\r\n      }\r\n    })\r\n    useEffect(()=>{\r\n     db.collection('users').doc(user.uid).onSnapshot(user=>{\r\n       const userlist = user.data()\r\n       setUserlist(userlist)\r\n       db.collection('conversations').onSnapshot(snap=>{\r\n         let convos = []\r\n          snap.forEach(doc=>{\r\n            if(userlist.msgids.includes(doc.id)){\r\n              convos.push(doc.data())\r\n            }\r\n          })\r\n          setConvos(convos)\r\n       })\r\n     })\r\n    },[])\r\n  return (\r\n   <>\r\n    <h2>Chats</h2>\r\n     <div className=\"search abs\">\r\n      \r\n       <i class=\"far fa-plus\" style={{color: themecolor}} onClick={()=>props.setAdduser()}></i>\r\n       <input type=\"text\" placeholder='Search' onFocus={()=>props.setAdduser()}/>\r\n     </div> \r\n   \r\n     <div className=\"users\">\r\n     {allconvos}     \r\n     </div>\r\n    \r\n  </>\r\n  )\r\n}\r\nexport default Userrow","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { ContextApp } from \"../ContextAPI\";\r\n\r\nfunction Hoverabletexticonflexrow(props) {\r\n  const { themecolor } = useContext(ContextApp);\r\n  const { icon, classNames, text, functionOne } = props;\r\n  return (\r\n    <div\r\n     \r\n      className={`${classNames} white`}\r\n      onClick={functionOne}\r\n    >\r\n      <i className={\"whiteel fad fa-\" + icon} ></i>\r\n        <p className='white' >{text}</p>\r\n    </div>\r\n  );\r\n}\r\nexport default Hoverabletexticonflexrow;\r\n","import React, { useContext, useEffect, useRef, useState } from 'react'\r\nimport {CSSTransition} from 'react-transition-group'\r\nimport { db } from '../Fire'\r\nimport firebase from 'firebase'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport { ContextApp } from '../ContextAPI'\r\nimport Hoverabletexticonflexrow from './Hoverabletexticonflexrow'\r\n\r\nfunction Contextmenu(props){\r\n  const user =firebase.auth().currentUser\r\n  const {themebool, emojibool,type,setUpdatedMsg,copy,convoid,contextmenu, setContextmenu, contextstyle, msgid}=props\r\n  const [events, setEvents]=useState(false)\r\n  const [visible, setVisible]=useState(false)\r\n  const emojis = ['smile','angry','sad-cry','surprise']\r\n  const [msgs, setMsgs]=useState([])\r\n  const contextmenuSelector = useRef()\r\n  const location = useLocation()\r\n  const history = useHistory()\r\n  const {themecolor}=useContext(ContextApp)\r\n  const allemojis = [{\r\n    class: 'surprise yellow',\r\n    msg: 'Surprised'\r\n  },{\r\n    class: 'tired blue',\r\n    msg: 'Tired'\r\n  },\r\n  {\r\n    class: 'smile-wink yellow',\r\n    msg: 'Wink'\r\n  },\r\n  {\r\n    class: 'kiss-beam red',\r\n    msg: 'Love'\r\n  },\r\n  {\r\n    class: 'grin-stars yellow',\r\n    msg: 'Stars'\r\n  },\r\n  {\r\n    class: 'grin-squint-tears yellow',\r\n    msg: 'Laugh'\r\n  },\r\n  {\r\n    class: 'grimace yellow',\r\n    msg: 'Grimace'\r\n  }, \r\n  {\r\n    class: 'frown red',\r\n    msg: 'Frown'\r\n  },\r\n  {\r\n    class: 'heart red',\r\n    msg: 'Like'\r\n  }\r\n    ] \r\n \r\n  function sendReaction(opt){\r\n    let messages = {\r\n    reaction: `fad fa-${opt}`\r\n    }\r\n  msgs && msgs.map(msg=>{\r\n      if(msgid===msg.msgid){\r\n        let itemindex = msgs.indexOf(msg)\r\n        if(msg.senderid===user.uid){\r\n          msgs[itemindex].reaction1=`fad fa-${opt}`\r\n          db.collection('conversations').doc(convoid).update({\r\n              messages: msgs\r\n          })\r\n        }\r\n        else {\r\n          msgs[itemindex].reaction2=`fad fa-${opt}`\r\n          db.collection('conversations').doc(convoid).update({\r\n              messages: msgs\r\n          })\r\n        }\r\n      }\r\n  })\r\n    setContextmenu(false)\r\n  }\r\n  function copyFunc(msgid){\r\n    var r = document.createRange()\r\n    let text = document.querySelector(`#${msgid} .msg`)\r\n    r.selectNode(text)\r\n    window.getSelection().removeAllRanges()\r\n    window.getSelection().addRange(r)\r\n    document.execCommand('copy')\r\n    window.getSelection().removeAllRanges()\r\n    setContextmenu(false)\r\n  }\r\n\r\n  function deleteFunc(){\r\n    msgs && msgs.map(msg=>{\r\n      if(msgid===msg.msgid&&msg.senderid===user.uid){\r\n        let itemindex = msgs.indexOf(msg)\r\n        msgs.splice(itemindex, 1) \r\n        db.collection('conversations').doc(convoid).update({\r\n            messages: msgs\r\n        })\r\n      }\r\n  })\r\n    setContextmenu(false)\r\n  }\r\n  function editFunc(){\r\n          let edit = document.querySelector(`#${msgid} p`)\r\n          edit.setAttribute('contentEditable', 'true')\r\n\r\n          edit.oninput=(e)=>{\r\n            setUpdatedMsg(e.currentTarget.textContent)\r\n          }\r\n\r\n          setContextmenu(false)\r\n\r\n    }\r\n  const emojisrow = emojis.map(opt=>{\r\n    return <div onClick={()=>sendReaction(opt)}> <i className={'fad fa-'+(opt==='cry'?'sad-cry':opt)} ></i>  </div>\r\n\r\n  })\r\n  const allemojisrow = allemojis.map(emoji=>{\r\n    return <div onClick={()=>sendReaction(emoji.class)}>\r\n        <i className={emoji.class==='heart red'?'fas fa-'+emoji.class:'fad fa-'+emoji.class}></i>\r\n        <p>{emoji.msg}</p>\r\n    </div>\r\n  })\r\n  document.addEventListener('click', function(e){\r\n      const target = e.target\r\n      if(target!==contextmenuSelector.current){\r\n        setContextmenu(false)\r\n      }\r\n  })\r\n  useEffect(()=>{\r\n    if(type==='msg'){\r\n      db.collection('conversations').doc(convoid).onSnapshot(snap=>{\r\n        setMsgs(snap.data().messages)\r\n      })\r\n    }\r\n   \r\n  },[convoid])\r\n\r\n\r\n  return (\r\n    <>\r\n    {\r\n      type==='msg'?   <div  ref={contextmenuSelector}  onContextMenu={(e)=>e.preventDefault()} className=\"contextmenu bs\" style={{display: contextmenu?'flex':'none', left: contextstyle.left+'px', top: contextstyle.top+'px'}}>\r\n       <div className='emojis'>{emojisrow}</div>\r\n       <div className={'option laugh' } onMouseOver={()=>setVisible(true)} onMouseLeave={()=>setVisible(false)}>\r\n         <i className='fad fa-laugh'></i> <p>Reaction</p>\r\n         <CSSTransition\r\n          in={visible}\r\n          timeout={200}\r\n          classNames=\"drophover\"\r\n          unmountOnExit\r\n          >\r\n        <div className='dropmenu bs'>\r\n        {allemojisrow}\r\n        </div>\r\n        </CSSTransition>\r\n        </div>\r\n    <div className={'option copy'} onClick={()=>copyFunc(msgid)}>\r\n    <i className='fal fa-copy'></i> <p>Copy</p>\r\n   </div>    \r\n   {/* <div className={'option edit'} onClick={()=>editFunc()}>\r\n    <i className='fal fa-edit'></i> <p>Edit</p>\r\n   </div> */}\r\n\r\n   <div className={'option delete'} onClick={()=>deleteFunc()}>\r\n    <i className='fal fa-trash'></i> <p>Delete</p>\r\n   </div>\r\n    </div>\r\n    :type==='settings'?\r\n    <div ref={contextmenuSelector}  onContextMenu={(e)=>e.preventDefault()} className=\"contextmenu bs\" style={{display: contextmenu?'flex':'none', left: contextstyle.left+'px', top: contextstyle.top+'px'}}>\r\n        \r\n        {(emojibool ===true ||  themebool===true ||type==='settings')?'':<>\r\n        <Hoverabletexticonflexrow classNames={'option'} functionOne={()=>props.setThemebool(true)} icon={'adjust'} text={'Theme'}/>\r\n        <Hoverabletexticonflexrow classNames={'option'} functionOne={()=>props.setEmojibool(true)} icon={props.emojitype} text={'Emoji'}/>\r\n        </> }\r\n        <Hoverabletexticonflexrow classNames={'option'} functionOne={()=>window.location.reload()} icon={'sync'} text={'Reload'}/>\r\n        <Hoverabletexticonflexrow classNames={'option'} functionOne={()=>history.goForward()} icon={'long-arrow-alt-right'} text={'Forward'}/>\r\n        <Hoverabletexticonflexrow classNames={'option'} functionOne={()=>history.goBack()} icon={'undo'} text={'Previous'}/>\r\n       \r\n    </div>\r\n    :\r\n    ''\r\n    }\r\n    </>\r\n  )\r\n}\r\nexport default Contextmenu","import React, {useState, useEffect} from 'react'\r\n\r\nfunction ElapsedTime(props) {\r\n \r\n  const [elapsedTime, setElapsedTime] = useState('')\r\n  const [regdate, setRegDate] = useState('')\r\n  const [providedtime, setProvidedTime] = useState(props.providedtime)\r\n\r\n  function msToTime(duration) {\r\n    let date = new Date()\r\n    let minutes = Math.floor((duration / (1000 * 60)) % 60),\r\n    hours = Math.floor((duration / (1000 * 60 * 60)) % 24)\r\n    let pday = providedtime.getDate()\r\n    let pmonth = providedtime.getMonth()\r\n    let pyear = providedtime.getFullYear()\r\n    let day = date.getDate()\r\n    let month = date.getMonth()\r\n    let year = date.getFullYear() \r\n    if(pday===day && pmonth===month && pyear===year && hours < 24) {\r\n      if(hours < 1) {\r\n        if(minutes < 1)\r\n          return \"A few seconds ago\"\r\n        else if (minutes === 1)\r\n          return \"A minute ago\"\r\n        else \r\n          return minutes+\" minutes ago\"\r\n      }\r\n      else if(hours === 1) \r\n        return \"One hour ago\"\r\n      else \r\n        return hours+\" hours ago\"\r\n    }\r\n    else {\r\n      return providedtime.toString().split(' ').slice(1,4).toString().replaceAll(',',' ') \r\n    }\r\n  } \r\n\r\n  useEffect(() => {\r\n    var storedDate = new Date(providedtime)\r\n    var nowDate = new Date()\r\n    var elapsedTime = nowDate.getTime() - storedDate.getTime()\r\n    setElapsedTime(msToTime(elapsedTime))\r\n  },[props.updateelapsed, providedtime])\r\n\r\n  return <>{elapsedTime}</> \r\n}\r\n\r\nexport default ElapsedTime","import React, { Component, useContext, useState } from 'react'\r\nimport { saveAs } from 'file-saver';\r\n\r\nimport AudioReactRecorder, { RecordState } from 'audio-react-recorder'\r\nimport styled from 'styled-components'  \r\nimport { ContextApp } from '../ContextAPI'\r\nimport firebase from 'firebase'\r\nimport { db } from '../Fire'\r\n\r\nconst Iconspecial = styled.i `\r\ncolor: ${props=>props.color};\r\nbackground-color: white;\r\n&:hover {\r\n  color: white;\r\n  background-color:  ${props=>props.color};\r\n}\r\n`\r\nfunction Recorder(props) {\r\n  \r\n  const user = firebase.auth().currentUser\r\n  const {convoid, progressbar, progresswidth}=props\r\n  const {themecolor}= useContext(ContextApp)\r\n  const [record, setRecord] = useState(null)\r\n  const [audio, setAudio] = useState('blob:https://5guz4.csb.app/2ff8746b-44d6-4c3f-b531-480291e7aa84')\r\n  const [update, setUpdate]=useState(0)\r\n  const [clicked, setClicked]=useState(false)\r\n  const [reset, setReset]=useState(false)\r\n  let id = db.collection('conversations').doc().id\r\n\r\n  function start() {\r\n    setRecord(RecordState.START)\r\n  }\r\n \r\n  function stop() {\r\n      setRecord(RecordState.STOP)\r\n  }\r\n  //audioData contains blob and blobUrl\r\n    const onStop = (audioData) => {\r\n    if(!reset){\r\n      var FileSaver = require('file-saver');\r\n      const storageRef =  firebase.storage().ref(`${convoid}/recording.mp3`)\r\n      var reader = new FileReader();\r\n      reader.readAsDataURL(audioData.blob); \r\n      reader.onloadend = function() {\r\n          var base64data = reader.result;                \r\n          function urltoFile(url, filename, mimeType){\r\n            return (fetch(url)\r\n                .then(function(res){return res.arrayBuffer();})\r\n                .then(function(buf){return new File([buf], filename,{type:mimeType});})\r\n            );\r\n        }\r\n        \r\n        //Usage example:\r\n        urltoFile(base64data, 'recording.wav','audio/wav')\r\n        .then(\r\n          function(file){ \r\n\r\n              const storageRef =  firebase.storage().ref(`${convoid}/${id}.wav`)\r\n\r\n    const task =  storageRef.put(file)\r\n      task.on('state_changes',\r\n\r\n        function progress(snap){\r\n          progressbar.current.style.display='flex'\r\n          const percentage =( snap.bytesTransferred/snap.totalBytes)*100\r\n         progresswidth.current.style.height=`${percentage}%`\r\n        }, \r\n        function error(err){\r\n\r\n        },\r\n        function complete(){\r\n  \r\n              let msgobject = {\r\n            message: `https://firebasestorage.googleapis.com/v0/b/${storageRef.bucket}/o/${convoid}%2F${id}.wav?alt=media`,\r\n            reaction: \"\",\r\n            msgdate: firebase.firestore.Timestamp.now(),\r\n            msgid: db.collection(\"conversations\").doc().id,\r\n            read: false,\r\n            senderid: user.uid,\r\n            editing: false,\r\n            nobackground: true,\r\n            emoji: true,\r\n            base64: false,\r\n            audio: true\r\n          };\r\n          db.collection(\"conversations\")\r\n          .doc(convoid)\r\n          .update({\r\n            messages: firebase.firestore.FieldValue.arrayUnion(msgobject)\r\n          });\r\n          progressbar.current.style.display='none'\r\n\r\n    })    \r\n          });\r\n\r\n}\r\n\r\n    }else {\r\n      setReset(false)\r\n    }\r\n  }\r\n  \r\n  const [time, setTime] = useState(0)\r\n  const [intervalId, setIntervalId] = useState();\r\n  function startRecord() {\r\n      start()\r\n      setClicked(true)\r\n      setIntervalId(setInterval(() => {\r\n          setTime(prev => prev + 1)\r\n      }, 1000));\r\n  }\r\n  \r\n  function stopRecord() {\r\n      setTime(0)\r\n      stop()\r\n      setClicked(false)\r\n      clearInterval(intervalId);\r\n  }\r\n  function resetRecord(){\r\n    setReset(true)\r\n    stop()\r\n  }\r\n    return (\r\n      <>\r\n        <AudioReactRecorder state={record} onStop={onStop} />\r\n        {!clicked?<Iconspecial color={themecolor} className='icondiv fal fa-microphone' onClick={()=>{startRecord(); }}></Iconspecial>:\r\n        <div class=\"spinner-wave\" onClick={()=>{stopRecord(); }}>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n       \r\n        <span className=\"time\">\r\n          {time}\r\n        </span>\r\n        <Iconspecial color={themecolor} className=\"left fal fa-times-circle\" onClick={()=>resetRecord()}></Iconspecial>\r\n\r\n      </div>\r\n      }\r\n        {/* <button onClick={()=>start()}>Start</button>\r\n        <button onClick={()=>stop()}>Stop</button> */}\r\n      </>\r\n    )\r\n  }\r\n\r\nexport default Recorder","import React, { useState, useEffect, useContext } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  NavLink,\r\n  Redirect\r\n} from \"react-router-dom\";\r\nimport { ContextApp } from \"../ContextAPI\";\r\nimport styled from 'styled-components'  \r\nimport Recorder from \"./Recorder\";\r\n\r\nconst Button =  styled.button `\r\n&:hover {\r\n  background-color: ${props=>props.color}\r\n}\r\n`\r\nconst Icon = styled.i `\r\ncolor: ${props=>props.color};\r\n\r\n`;\r\nconst Iconspecial = styled.i `\r\ncolor: ${props=>props.color};\r\nz-index: 10;\r\nbackground-color: white;\r\n&:hover {\r\n  color: white;\r\n  background-color:  ${props=>props.color};\r\n}\r\n`\r\nconst Span = styled.span `\r\n&:hover {\r\n  background-color: ${props=>props.color}\r\n}\r\n`;\r\nfunction Hoverableicondiv(props) {\r\n  const { inputref,progresswidth, progressbar,convoid,setImg,sendFile,special,icon,type, classNames, setState, state, lnk, setState2, handleEvent } = props;\r\n  const { themecolor } = useContext(ContextApp);\r\n  function chatFuncDisplay(){\r\n    setState2(false);\r\n     setTimeout(()=>{\r\n      setState(false)\r\n     },400)\r\n  }\r\n  return  (\r\n    <>\r\n    { type && type==='link'?    \r\n      <Link  to={lnk} id='sth' onClick={()=>{chatFuncDisplay()}}>\r\n      <Span color={themecolor} className={`icondiv ${classNames}`}>\r\n      <Icon color={themecolor} className={\" fal fa-\" + icon}></Icon>\r\n     </Span>\r\n    </Link>\r\n    :special?\r\n    <label style={{zIndex: 4, cursor: 'pointer'}}>\r\n        {type==='microphone'?<Recorder convoid={convoid} progressbar={progressbar} progresswidth={progresswidth}/>: \r\n        <><input type={type} ref={inputref} className={`${icon}file`}style={{display: 'none'}} onChange={()=>sendFile(icon)} accept={icon==='image'?\"image/*\":icon==='film'?'\"video/mp4,video/x-m4v,video/*, mp4\"':''}/>\r\n         <Iconspecial color={themecolor} className={\"icondiv fal fa-\" + icon} ></Iconspecial></>}\r\n\r\n    </label>\r\n    :\r\n    <Button color={themecolor} className={`icondiv ${classNames}`} onClick={()=>{setState && setState(!state); handleEvent&&handleEvent()}}>\r\n         <Icon color={themecolor} className={\" fal fa-\" + icon} ></Icon>\r\n      </Button>\r\n  }\r\n    </>\r\n\r\n  );\r\n}\r\nexport default Hoverableicondiv;\r\n","import React, {useState, useEffect} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\n\r\nfunction Iframe (props) {\r\n  const {link, type}= props\r\n  return (\r\n<>\r\n  {\r\n    type==='video'?\r\n      <video controls src={link}  allowFullScreen>\r\n         \r\n      </video>\r\n      :\r\n      <iframe src={link} allowFullScreen>\r\n\r\n      </iframe>\r\n}\r\n</>\r\n  )\r\n}\r\nexport default Iframe","import React, {useState, useEffect} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\n\r\nfunction Img (props) {\r\n  const {src, link}= props\r\n  return (\r\n    <>\r\n    {link?   <span style={{fontSize: '0px', position:'absolute'}}>{src}</span>:''}\r\n    <img src={src}/>\r\n    </>\r\n  )\r\n}\r\nexport default Img","import React, {useState, useEffect} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\n\r\nfunction File (props) {\r\n  const {link, name}= props\r\n  return (\r\n\r\n      <a href={link} target='_blank' className='file'><i className='fal fa-file'> </i><span>Download {name}</span></a>\r\n\r\n  )\r\n}\r\nexport default File","import React, {useState, useEffect, useRef} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\n\r\nfunction Recording (props) {\r\n  const {src}= props\r\n  const video =useRef()  \r\n  const playBtn = useRef()\r\n  const progress = useRef()\r\n  const playPause = useState(false)\r\n  function togglePlayPause(e){\r\n    if(video.current.paused){\r\n      video.current.play()\r\n      e.target.className='fal fa-pause'\r\n    }\r\n    else {\r\n      video.current.pause()\r\n      e.target.className='fal fa-play'\r\n    }\r\n  }\r\nfunction updateProgress(){\r\n    const progresswidth = video.current.currentTime/video.current.duration\r\n    setTime((video.current.duration-video.current.currentTime).toFixed(1))\r\n    progress.current.style.width=progresswidth*100+'%'\r\n    if(video.current.ended){\r\n      playBtn.current.className='fal fa-play'\r\n    }\r\n    }\r\n    const [time, setTime]=useState('')\r\n    function determineMinSecH(time){\r\n      if(time>60){\r\n        return (time / 60).toFixed(0) +' m'\r\n      }else if (time>3600){\r\n        return (time/3600).toFixed(1) + ' h'\r\n      }else {\r\n        return Math.round(time) + ' s'\r\n      }\r\n    }\r\n  return (\r\n    <div className='videoContainer'> \r\n      <video onLoadedData={()=>setTime(video.current.duration.toFixed(1))} onTimeUpdate={()=>updateProgress()} src={src} id='video' ref={video}></video>\r\n        <div className=\"controls\">\r\n          <i className=\"fal fa-play\" ref={playBtn} onClick={(e)=>togglePlayPause(e)}></i>\r\n          <div className=\"progressvideo\">\r\n            <div className=\"progress\" ref={progress}></div>\r\n          </div>\r\n          <small>{determineMinSecH(time)}</small>\r\n        </div>\r\n    </div>\r\n   \r\n  )\r\n}\r\nexport default Recording","import React from 'react'\r\n\r\nexport function Search({search, setSearch, fetchData, setTitle}) {\r\n// Handle Submit\r\nconst handleSubmit = (e)=>{\r\n    // Prevent default\r\n    e.preventDefault();\r\n    // Set Title\r\n    setTitle(search);\r\n    // Fetch\r\n    fetchData(search);\r\n    // Reset form search value\r\n    setSearch('');\r\n}\r\n\r\n// RETURN    \r\n    return (\r\n\r\n            <form className='gif-search flexrow' onSubmit={handleSubmit}>\r\n              <div className=\"gifform flexrow\">\r\n              <button className='themeBtn'>\r\n            <i className=\"fal fa-search\"></i>\r\n            </button>\r\n              <input \r\n            className='inputgif'\r\n            type=\"text\"\r\n            value={search}\r\n            onChange={ e => {setSearch(e.target.value)}}\r\n            placeholder='Search GIFs'\r\n            /> \r\n       \r\n              </div>\r\n            </form>\r\n    )\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\n\r\nimport { ContextApp } from \"../ContextAPI\";\r\nimport styled from 'styled-components'\r\nconst Button = styled.button ` \r\nbackground-color: ${props=>props.color};\r\nborder: solid 3px transparent;\r\n  &:hover {\r\n    background-color: white;\r\n    border: solid 3px ${props=>props.color}\r\n  }\r\n`\r\nfunction Hoverablebutton(props) {\r\n  const { themecolor } = useContext(ContextApp);\r\n  const { state, setState, type, text } = props;\r\n\r\n  return (      \r\n      <Button \r\n      color={themecolor}\r\n       className={state===type?'themeBtn active':'themeBtn'}\r\n        onClick={()=>setState(type)}\r\n      > \r\n        {text}\r\n      </Button>\r\n    );\r\n}\r\nexport default Hoverablebutton;\r\n","import React from 'react'\r\nimport axios from 'axios'\r\n\r\nimport {Search} from './Search'\r\nimport Hoverablebutton from '../Hoverablebutton';\r\nimport Hoverableicondiv from '../Hoverableiconsdiv';\r\nimport firebase from 'firebase'\r\nimport {db} from '../../Fire'\r\n\r\nexport default function Gif(props) {\r\n    // STATEs\r\n    const {setGif, convoid, chatuser, notifibool, chatimg}=props\r\n    const [data, setData] = React.useState([]);\r\n    const [title, setTitle] = React.useState('Gif');\r\n    const [loader, setLoader] = React.useState(true);\r\n    const [offset, setOffset] = React.useState(0);\r\n    const [limit, setLimit] = React.useState(10)\r\n    const [totalCount, setTotalCount] = React.useState(0)\r\n    const [search, setSearch] = React.useState('');\r\n    const [trending, setTrending] = React.useState(false)\r\n    const [trendSearch, setTrendSearch] = React.useState(false)\r\n    const [tSearch, setTsearch] = React.useState([])\r\n    const date = firebase.firestore.FieldValue.serverTimestamp()\r\n    const user =firebase.auth().currentUser\r\n//\r\n// ─── FETCH ──────────────────────────────────────────────────────────────────────\r\nconst fetchData = async (title)=>{\r\nlet URL = `https://api.giphy.com/v1/gifs/search?q=${title}&api_key=nn7ZohI4KJCwSXdYVpViEi7RkUmJacV3&limit=${limit}&offset=${offset}`;\r\n// Try and catch\r\ntry{\r\n    let fetchGif = await axios(URL);\r\n    let fetchRes = await fetchGif;\r\n    if(fetchRes.status === 200){\r\n    // Set Data\r\n    setData(fetchRes.data.data)\r\n    // Set Total Count\r\n    setTotalCount(fetchRes.data.pagination.total_count)\r\n    // Set loader false\r\n    setLoader(false)\r\n     // Call new content\r\n     content()\r\n     // Set fetch random false\r\n     if(trending){\r\n     setTrending(false)\r\n    // Reset offset\r\n    setOffset(0)\r\n     }\r\n     // Set trend searching\r\n     setTrendSearch(false)\r\n    \r\n    }\r\n}\r\ncatch(error){\r\n    if(error) throw error\r\n}\r\n\r\n}\r\n// Remove image\r\n// const removeImage = id => {\r\n//     setData(\r\n//      data.filter(gif => gif.id !== id)\r\n//     )\r\n//   }\r\n// USE EFFECT on offset change fetch new data\r\nReact.useEffect(()=>{\r\n\r\n    if(!trending){\r\n    fetchData(title)\r\n    }\r\n},[offset])\r\n\r\n //\r\n // ─── HANDLE DOWNLOAD ────────────────────────────────────────────────────────────\r\n     \r\nconst handleDownload = (url)=>{\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open(\"GET\", url, true);\r\n    xhr.responseType = \"blob\";\r\n    xhr.onload = function(){\r\n        let urlCreator = window.URL || window.webkitURL;\r\n        let imageUrl = urlCreator.createObjectURL(this.response);\r\n        let tag = document.createElement('a');\r\n        tag.href = imageUrl;\r\n        tag.download = title.charAt(0).toUpperCase() + title.slice(1);\r\n        document.body.appendChild(tag);\r\n        tag.click();\r\n        document.body.removeChild(tag);\r\n    }\r\n    xhr.send();\r\n}\r\n\r\n// Scroll on top function\r\nconst onTop = () => {\r\n    let options = { top: 0, left: 0, behavior: 'smooth' };\r\n    window.scrollTo(options);\r\n}\r\n\r\n// Handle Next Pagination\r\nconst handleNext = ()=>{\r\n    // Set loader true\r\n    setLoader(true);\r\n    // Add one page\r\n    setOffset(offset + limit)\r\n    // Go on top\r\n    onTop()\r\n}\r\n// Handle prev Pagination\r\nconst handlePrev = ()=>{\r\n    // Loader true\r\n    setLoader(true);\r\n    // One page\r\n    setOffset(offset - limit) \r\n    // Go on top\r\n    onTop()\r\n}\r\nfunction sendGif(img){\r\n    let msgobject = {\r\n        message: img,\r\n        reaction1: \"\",\r\n        reaction2: \"\",\r\n        msgdate: firebase.firestore.Timestamp.now(),\r\n        msgid: db.collection(\"conversations\").doc().id,\r\n        read: false,\r\n        senderid: user.uid,\r\n        editing: false,\r\n        nobackground: true,\r\n        emoji: true,\r\n        base64: true\r\n      };\r\n      db.collection(\"conversations\")\r\n        .doc(convoid)\r\n        .update({\r\n          lastmsgdate: date,\r\n          messages: firebase.firestore.FieldValue.arrayUnion(msgobject)\r\n        });\r\n        let notificationobj = {\r\n            notifimsg: img,\r\n            notifidate: firebase.firestore.Timestamp.now(),\r\n            read: false,\r\n            sender: user.displayName,\r\n            gif: true,\r\n            id: convoid,\r\n            senderid: user.uid,\r\n            notifiid: db.collection('users').doc().id          }      \r\n          if(notifibool){\r\n            db.collection('notifications').doc(chatuser).update({\r\n              notifications: firebase.firestore.FieldValue.arrayUnion(notificationobj)\r\n            })\r\n          }\r\n}\r\n //\r\n // ─── RENDER CONTENT ─────────────────────────────────────────────────────────────\r\n     \r\nconst content = () => {\r\n    switch(true) {\r\n    // If loader is true show loader spinner\r\n      case loader:\r\n        return <div>Loading...</div>\r\n    // If data array more than zero loop through\r\n      case data.length > 0:\r\n        return  data.map(g=> {\r\n            return (\r\n                <div className='gif-card' key={g.id}>\r\n                <img className='image' onClick={()=>sendGif(g.images.fixed_height.url)} src={g.images.fixed_width.url} alt=\"gif\"/>\r\n                </div>\r\n            )\r\n        })\r\n\r\n    // Otherwise return default\r\n      default:\r\n        return data\r\n    }\r\n  }\r\n\r\n//\r\n// ─── RETURN ─────────────────────────────────────────────────────────────────────\r\n    \r\nreturn (\r\n    <div className='gif bs'>\r\n        <header>\r\n        <i className=\"fal fa-times\" onClick={()=>setGif(false)}></i>\r\n        <h2>Search GIFs</h2>\r\n        <Search search={search} setSearch={setSearch} fetchData={fetchData} setTitle={setTitle}/>\r\n\r\n        </header>\r\n    \r\n        <div className='gif-wrap'>\r\n      \r\n        {trendSearch ? \r\n        (\r\n            <div className='gif-trend-search'>\r\n            <ul> \r\n            {tSearch.map((t,i)=> <li key={i}><strong>{i + 1}</strong> {t.toUpperCase()}</li>)}\r\n            </ul>\r\n            </div>\r\n        )\r\n        :\r\n        ''\r\n        }\r\n          {content()}\r\n        </div>\r\n        <div className=\"flexrow np-btn\">\r\n        <button className='themeBtn flex' s onClick={handlePrev}><i class=\"fad fa-backward\"></i></button>\r\n        <button className='themeBtn flex' onClick={handleNext}><i class=\"fad fa-forward\"></i></button>\r\n        </div>\r\n\r\n       \r\n    </div>\r\n)\r\n}\r\n","import React, {useState, useEffect} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\n\r\nfunction Contextoptions (props) {\r\n  const {text,classNames, icon, function1, setState, re}= props\r\n  return (\r\n    <div className={classNames} ref={re &&re}onClick={(e)=>{setState && setState(prev=>!prev);e.stopPropagation(); function1 && function1()}}>\r\n    <i className={icon} ></i>\r\n    </div>\r\n  )\r\n}\r\nexport default Contextoptions","\r\nimport React, {useState, useEffect, useRef} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\nimport Contextoptions from './Contextoptions'\r\nimport {db} from '../../Fire'\r\nimport Contextmenu from '../Contextmenu'\r\nimport { displayName } from 'react-addons-css-transition-group'\r\nfunction Threedots (props) {\r\n  const {msg, user, msgs, convoid}= props\r\n  const [visible, setVisible]=useState(false)\r\n  const [emojis, setEmojis]=useState(false)\r\n  const [msgidedit, setMsgidedit]=useState('')\r\n  const allemojis = [\r\n  {\r\n    class: 'smile-wink yellow',\r\n    msg: 'Wink'\r\n  },\r\n  {\r\n    class: 'kiss-beam red',\r\n    msg: 'Love'\r\n  },\r\n  {\r\n    class: 'grin-stars yellow',\r\n    msg: 'Stars'\r\n  },\r\n  {\r\n    class: 'grin-squint-tears yellow',\r\n    msg: 'Laugh'\r\n  },\r\n  {\r\n    class: 'frown red',\r\n    msg: 'Frown'\r\n  },\r\n  {\r\n    class: 'heart red',\r\n    msg: 'Like'\r\n  }\r\n    ] \r\n    function sendReaction(opt){\r\n      msgs && msgs.map(msg=>{\r\n          if(msgidedit===msg.msgid){\r\n            let itemindex = msgs.indexOf(msg)\r\n            if(msg.senderid===user.uid){\r\n              msgs[itemindex].reaction1=`fad fa-${opt}`\r\n              db.collection('conversations').doc(convoid).update({\r\n                  messages: msgs\r\n              })\r\n            }else {\r\n              msgs[itemindex].reaction2=`fad fa-${opt}`\r\n              db.collection('conversations').doc(convoid).update({\r\n                  messages: msgs\r\n              })\r\n            }\r\n          }\r\n      })\r\n    }\r\n    const emojisrow = allemojis && allemojis.map(emoji=>{\r\n      return <i  className={'fad fa-'+emoji.class} onClick={()=>{sendReaction(emoji.class); setVisible(false)}}></i>\r\n    })\r\n    const contextoption = useRef()\r\n    const emojiref = useRef()\r\n\r\n  // function reactionMsg(msgid){\r\n  //   msgs && msgs.map(msg=>{\r\n  //     if(msgid===msg.msgid){\r\n  //       let itemindex = msgs.indexOf(msg)\r\n  //       msgs[itemindex].reaction=`fad fa-${opt}`\r\n  //       db.collection('conversations').doc(convoid).update({\r\n  //           messages: msgs\r\n  //       })\r\n  //     }\r\n  // })\r\n  // }\r\n\r\n  function copyMsg(){\r\n    var r = document.createRange()\r\n    let text = document.querySelector(`#${msgidedit} .msg`)\r\n    if(text){\r\n      r.selectNode(text)\r\n      window.getSelection().removeAllRanges()\r\n      window.getSelection().addRange(r)\r\n      document.execCommand('copy')\r\n      window.getSelection().removeAllRanges()\r\n      setVisible(false)\r\n    }\r\n  }\r\n  function deleteMsg(){\r\n    msgs && msgs.map(msg=>{\r\n      if(msgidedit===msg.msgid&&msg.senderid===user.uid){\r\n        let itemindex = msgs.indexOf(msg)\r\n        msgs.splice(itemindex, 1) \r\n        db.collection('conversations').doc(convoid).update({\r\n            messages: msgs\r\n        })\r\n        setVisible(false)\r\n      }\r\n  })\r\n\r\n  }\r\n \r\n  function msgOptions(msg){\r\n\r\n  }\r\n  const threedots = useRef()\r\n  document.addEventListener('click', function(e){\r\n  if(e.target!==threedots.current){\r\n    setVisible(false)\r\n    setEmojis(false)\r\n  }\r\n})\r\n  return (\r\n    <>\r\n      <i ref={threedots}onClick={(e)=>{msgOptions(msg); setMsgidedit(msg.msgid); setVisible(!visible)}} className={msg.senderid === user.uid ?\"fal fa-ellipsis-v-alt rightdots\":'fal fa-ellipsis-v-alt leftdots'}></i>\r\n      <div onContextMenu={(e)=>e.preventDefault()} onClick={(e)=>e.stopPropagation()} className='flexrow optionsEdit' ref={contextoption} data-id={msg.msgid} style={{display: visible?'flex':'none'}}>\r\n      <div className=\"emojisdiv\">\r\n      <Contextoptions classNames={'laugn'} icon={'fad fa-laugh'} setState={setEmojis} re={emojiref}/>\r\n      <div  onClick={(e)=>e.stopPropagation()} className=\"emojisrow flexrow bs\" style={{display: emojis?'flex':'none',  zIndex: 'var(--high-priority)'}}>\r\n        {emojisrow}\r\n      </div>\r\n      </div>\r\n       <Contextoptions classNames={'copy'} icon={'fad fa-copy'} function1={()=>copyMsg()}/>\r\n       <Contextoptions classNames={'delete'} icon={'fad fa-trash'} function1={()=>deleteMsg()}/>\r\n      </div>\r\n    </>\r\n      )\r\n}\r\nexport default Threedots","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport { NavLink, Route, Link } from \"react-router-dom\";\r\nimport Users from \"./Users\";\r\nimport firebase from \"firebase\";\r\nimport { db } from \"../Fire\";\r\nimport Contextmenu from \"./Contextmenu\";\r\nimport { FilePond, File, registerPlugin } from \"react-filepond\";\r\nimport \"filepond/dist/filepond.min.css\";\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\r\nimport ElapsedTime from \"./Elapsedtime\";\r\nimport { ContextApp } from \"../ContextAPI\";\r\nimport Hoverableicondiv from \"./Hoverableiconsdiv\";\r\nimport InnerImageZoom from \"react-inner-image-zoom\";\r\nimport Iframe from \"./msgcomponents/Iframe\";\r\nimport Img from './msgcomponents/Img'\r\nimport Filemsg from './msgcomponents/File'\r\nimport P from './msgcomponents/P'\r\nimport Recording from \"./msgcomponents/Recording\";\r\nimport Gif from \"./Gifs.js/Gif\";\r\nimport ReactTimeAgo from 'react-time-ago'\r\nimport ReactImageMagnify from 'react-image-magnify';\r\nimport Contextoptions from \"./msgcomponents/Contextoptions\";\r\nimport Threedots from \"./msgcomponents/Threedots\";\r\nimport ScrollContainer from 'react-indiana-drag-scroll';\r\nimport { ReactTinyLink } from 'react-tiny-link'\r\nimport Picker from 'emoji-picker-react';\r\n\r\nfunction Dialogue(props) {\r\n  const {\r\n    themecolor,\r\n    notifi,\r\n    setNotifi,\r\n    notificont,\r\n    setNotificont\r\n  } = useContext(ContextApp);\r\n  const [gif, setGif]=useState(false)\r\n  const [msgs, setMsgs] = useState([]);\r\n  const [msgstring, setMsgstring] = useState(\"\");\r\n  const [updateelapsed, setUpdateelapsed] = useState(0);\r\n  const [typing, setTyping] = useState(false);\r\n  const [realtyping, setRealtyping] = useState(false);\r\n  const [typerid, setTyperid] = useState(\"\");\r\n  const [activestatus, setActivestatus] = useState(false);\r\n  const [recipname, setRecipname] = useState(\"\");\r\n  const [recipimg, setRecipimg] = useState(\"\");\r\n  const [recipcity, setRecipcity] = useState(\"\");\r\n  const [recipcountry, setRecipcountry] = useState(\"\");\r\n  const [userimg, setUserimg] = useState(\"\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [visible, setVisible] = useState(false);\r\n  const [contextmenu, setContextmenu] = useState(false);\r\n  const [contextstyle, setContextstyle] = useState({\r\n    top: 0,\r\n    left: 0\r\n  });\r\n  const [notifibool, setNotifibool]=useState(true)\r\n  const [emojitype, setEmojitype] = useState(\"\");\r\n  const [loader, setLoader] = useState(true);\r\n  const [loading, setLoading] = useState(true);\r\n  const [chatcolor, setChatcolor] = useState(\"\");\r\n  const [userChatcolor, setUserchatcolor] = useState(\"\");\r\n  const [showinput, setShowinput] = useState(false);\r\n  const [updatedMsg, setUpdatedMsg] = useState(\"\");\r\n  const [emojilist, setEmojilist] = useState(false);\r\n  const [theme, setTheme] = useState(\"\");\r\n  const [msgid, setMsgid] = useState(\"\");\r\n  const [chatname, setChatname] = useState(\"\");\r\n  const [chatimg, setChatimg] = useState(\"\");\r\n  const [chatcity, setChatcity] = useState(\"\");\r\n  const [chatcountry, setChatcountry] = useState(\"\");\r\n  const [chatactive, setChatactive] = useState(\"\");\r\n  const [nickname, setNickname] = useState([]);\r\n  const [emojipicker, setEmojipicker]=useState(false)\r\n  const emojis = []\r\n  const { chatuser, setState, icon, type } = props;\r\n  const { messages } = props.diag;\r\n  const { convoid, creatorid, recipientid } = props.diag.convoinfo;\r\n  const user = firebase.auth().currentUser;\r\n  const date = firebase.firestore.FieldValue.serverTimestamp()\r\n  const typerRef = useRef();\r\n  const id =db.collection('users').doc().id\r\n  const reg = /((?:(?!(?:https?|ftp):\\/\\/[\\S]*\\.(?:png|jpe?g|gif|svg|webp)).)+)|((?:https?|ftp):\\/\\/[\\S]*\\.(?:png|jpe?g|gif|svg|webp)(?:\\?\\S+=\\S*(?:&\\S+=\\S*)*)?)/gm;\r\n  const imageRegexB = /(?:https?|ftp):\\/\\/[\\S]*\\.(?:png|jpe?g|gif|svg|webp)/g;\r\n  var urlreg = /https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)/g;\r\n  var ureg = /https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)/g;\r\n\r\n  function ytVidId(url) {\r\n    var p = /(?:https?:\\/\\/)?(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?/;\r\n    return url.match(p) ? RegExp.$1 : false;\r\n  }\r\n\r\n  \r\n  function determineMsgtype(msg) {\r\n    if (msg.base64) {\r\n      return <Img src={msg.message} link={true}/>\r\n     \r\n    }\r\n    else if (msg.file) {\r\n      return <Filemsg name={msg.name} link={msg.message}/>\r\n    } else if (msg.audio) {\r\n      return <Recording src={msg.message}/>\r\n      \r\n    } else if (msg.video){\r\n      return <Iframe type='video' link={msg.message}/>\r\n    }\r\n    else if (ytVidId(msg.message)) {\r\n      return <Iframe link={\"https://www.youtube.com/embed/\" + ytVidId(msg.message)} />\r\n\r\n    }\r\n    // else if(urlreg.test(msg.message)){\r\n    //   const stringWithOnlyURLS = msg.message.match(urlreg).join(' ');\r\n    //   const string = msg.message.replace(stringWithOnlyURLS, ' ')\r\n    //   return <>\r\n    //   <p className='bg'>{string}</p>\r\n    //     <div>\r\n    //     <ReactTinyLink\r\n    //   cardSize=\"small\" \r\n    //   showGraphic={true}\r\n    //   maxLine={2}\r\n    //   minLine={1}\r\n    //   url={stringWithOnlyURLS}\r\n    //   />\r\n    //     </div>\r\n    //   </>\r\n    // }  \r\n    else {\r\n      const sm = msg.message.replace(reg, (_, text, img)  => \r\n      text ?  `<p>${text.trim()}</p>`:`<img src=\"${img}\"/>`\r\n      ) \r\n      return  <div dangerouslySetInnerHTML={{__html:sm}} ></div>\r\n    }\r\n  }\r\n  function determineClass(msg) {\r\n    var urreg = /https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)/g;\r\n    if(user.uid===msg.senderid){\r\n      if (msg.file) {\r\n        return \"msg file\";\r\n      }else if (msg.video) {\r\n        return 'msg video'\r\n      }\r\n       else if (msg.audio) {\r\n        return \"msg audio\";\r\n      } else if (msg.emoji) {\r\n        return \"msg emojimsg\";\r\n      } else if (msg.nobackground) {\r\n        return \"no-bg msg\";\r\n      } else if (ytVidId(msg.message)) {\r\n        return `msg youtube`;\r\n      }\r\n      //   else if(urreg.test(msg.message)){\r\n      //   return 'msg emojimsg imp'\r\n      // }\r\n      else {\r\n        return \"msg\";\r\n      }\r\n    }else {\r\n      if (msg.file) {\r\n        return \"msg file trans\";\r\n      }else if (msg.video) {\r\n        return 'msg video trans'\r\n      }\r\n       else if (msg.audio) {\r\n        return \"msg audio trans\";\r\n      } else if (msg.emoji) {\r\n        return \"msg emojimsg trans\";\r\n      } else if (msg.nobackground) {\r\n        return \"no-bg msg trans\";\r\n      } else if (ytVidId(msg.message)) {\r\n        return `msg youtube trans`;\r\n      }\r\n      //   else if(urreg.test(msg.message)){\r\n      //   return 'msg emojimsg imp'\r\n      // }\r\n      else {\r\n        return \"msg trans\";\r\n      }\r\n    }\r\n  }\r\n  const [opti, setOpti]=useState(false)\r\n  function msgOptions(msg){\r\n    const allel = document.querySelectorAll('.optionsEdit')\r\n    allel.forEach(el=>{\r\n      el.style.display='none'\r\n    })\r\n    const el = document.querySelector(`div[data-id=\"${msg.msgid}\"]`)\r\n    el.style.display='flex'\r\n  }\r\n  const [modal, setModal] = useState(false);\r\n  const imgsrc = useRef();\r\n  const [imgSrcModal, setImgSrcModal]=useState('')\r\n  function clickHandler(e) {\r\n    const audio = e.target.querySelector(\".controls\");\r\n    const video = e.target.closest(\"VIDEO\");\r\n\r\n    const play = e.target.querySelector(\".fa-play\");\r\n    const el = e.target.closest(\"IMG\");\r\n    if (el && e.currentTarget.contains(el)) {\r\n      setModal(true);\r\n      const imgsrc = document.querySelector(\".modal img\");\r\n      setImgSrcModal(el.getAttribute('src'))\r\n      imgsrc.setAttribute(\"src\", el.getAttribute(\"src\"));\r\n    }\r\n    if (video && e.currentTarget.contains(video)) {\r\n    }\r\n  }\r\n  const allmsgs =\r\n    messages &&\r\n    messages\r\n      .slice(0)\r\n      .reverse()\r\n      .map((msg) => {\r\n        return (\r\n          <div\r\n            id={msg.msgid}\r\n            className={msg.senderid === user.uid ? \"right m\" : \"left m\"}\r\n            onContextMenu={(e) => contextMenu(e)}\r\n          >\r\n            <div className=\"flex\">\r\n              <p\r\n                className={determineClass(msg)}\r\n                contentEditable={false}\r\n                style={\r\n                  msg.nobackground\r\n                    ? { backgroundColor: \"transparent\" }\r\n                    : msg.emoji\r\n                    ? { backgroundColor: \"transparent\" }\r\n                    : ytVidId(msg.message)\r\n                    ? { backgroundColor: \"transparent\" }\r\n                    : msg.senderid === user.uid\r\n                    ? { backgroundColor: chatcolor }\r\n                    : null\r\n                }\r\n                onClick={(e) => clickHandler(e)}\r\n     \r\n              >    { determineMsgtype(msg) }</p>\r\n\r\n             <Threedots msgs={msgs} user={user} msg={msg} convoid={convoid}/>\r\n\r\n                <small\r\n                className={\r\n                  msg.senderid === user.uid\r\n                    ? \"alignRight elapsedtime\"\r\n                    : \"alignLeft elapsedtime\"\r\n                }\r\n              ><ReactTimeAgo date={msg.msgdate.toDate()}/></small>\r\n              <div\r\n                className=\"reaction\"\r\n                style={{ display: (msg.reaction1||msg.reaction2) ? \"flex\" : \"none\", width: (msg.reaction1===''||msg.reaction2==='')?'22px':'42px' }}\r\n              >\r\n                <i className={ msg.reaction1 === \"fad fa-heart\"? \"emoj fas fa-\" + msg.reaction1: \"emoj fad fa-\" + msg.reaction1 }></i>\r\n                <i style={{marginLeft: msg.reaction2===''?'':'5px'}}className={ msg.reaction2 === \"fad fa-heart\"? \"emoj fas fa-\" + msg.reaction2: \"emoj fad fa-\" + msg.reaction2}></i>\r\n              </div>\r\n            </div>\r\n            <img src={msg.senderid === user.uid ? userimg : chatimg} alt=\"\" />\r\n          </div>\r\n        );\r\n      });\r\n  const progressbar = useRef();\r\n  const progresswidth = useRef();\r\n  const [img, setImg] = useState();\r\n  const inputref = useRef()\r\n  function sendFile(type) {\r\n    let file = document.querySelector(`.${type}file`).files[0];\r\n    if (file) {\r\n      var idxDot = file.name.lastIndexOf(\".\") + 1;\r\n      var extFile = file.name.substr(idxDot, file.name.length).toLowerCase();\r\n\r\n      const storageRef = firebase.storage().ref(`${convoid}/${file.name}`);\r\n      const task = storageRef.put(file);\r\n      task.on(\r\n        \"state_changes\",\r\n\r\n        function progress(snap) {\r\n          progressbar.current.style.display = \"flex\";\r\n          const percentage = (snap.bytesTransferred / snap.totalBytes) * 100;\r\n          progresswidth.current.style.height = `${percentage}%`;\r\n        },\r\n        function error(err) {},\r\n        function complete() {\r\n          if (type === \"image\") {\r\n            if (extFile === \"jpg\" || extFile === \"jpeg\" || extFile === \"png\") {\r\n              let msgobject = {\r\n                message: `https://firebasestorage.googleapis.com/v0/b/${storageRef.bucket}/o/${convoid}%2F${file.name}?alt=media`,\r\n                reaction1: \"\",\r\n                reaction2: \"\",\r\n                msgdate: firebase.firestore.Timestamp.now(),\r\n                msgid: db.collection(\"conversations\").doc().id,\r\n                read: false,\r\n                senderid: user.uid,\r\n                editing: false,\r\n                nobackground: true,\r\n                emoji: true,\r\n                base64: true\r\n              };\r\n              let notificationobj = {\r\n                notifimsg: `https://firebasestorage.googleapis.com/v0/b/${storageRef.bucket}/o/${convoid}%2F${file.name}?alt=media`,\r\n                notifidate: firebase.firestore.Timestamp.now(),\r\n                read: false,\r\n                sender: user.displayName,\r\n                base64: true,\r\n                id: convoid,\r\n                senderid: user.uid,\r\n                notifiid: db.collection('users').doc().id              }      \r\n                if(notifibool){\r\n                  db.collection('notifications').doc(chatuser).update({\r\n                    notifications: firebase.firestore.FieldValue.arrayUnion(notificationobj)\r\n                  })\r\n                }\r\n              db.collection(\"conversations\")\r\n                .doc(convoid)\r\n                .update({\r\n                  lastmsgdate: date,\r\n                  messages: firebase.firestore.FieldValue.arrayUnion(msgobject)\r\n                });\r\n            } else {\r\n              setNotifi(true);\r\n              setNotificont({\r\n                emoji: \"fal fa-exclamation-circle\",\r\n                msg: \"Only Images are allowed!\"\r\n              });\r\n              setTimeout(() => {\r\n                setNotifi(false);\r\n              }, 300500);\r\n            }\r\n          } else if (type === \"paperclip\") {\r\n            let msgobject = {\r\n              message: `https://firebasestorage.googleapis.com/v0/b/${storageRef.bucket}/o/${convoid}%2F${file.name}?alt=media`,\r\n              reaction1: \"\",\r\n              reaction2: \"\",\r\n              msgdate: firebase.firestore.Timestamp.now(),\r\n              msgid: db.collection(\"conversations\").doc().id,\r\n              read: false,\r\n              senderid: user.uid,\r\n              editing: false,\r\n              nobackground: true,\r\n              emoji: true,\r\n              file: true,\r\n              name: file.name,\r\n              base64: false\r\n            };\r\n            let notificationobj = {\r\n              notifimsg: `https://firebasestorage.googleapis.com/v0/b/${storageRef.bucket}/o/${convoid}%2F${file.name}?alt=media`,\r\n              notifidate: firebase.firestore.Timestamp.now(),\r\n              read: false,\r\n              sender: user.displayName,\r\n              file: true,\r\n              id: convoid,\r\n              senderid: user.uid,\r\n              notifiid: db.collection('users').doc().id            }      \r\n            if(notifibool){\r\n              db.collection('notifications').doc(chatuser).update({\r\n                notifications: firebase.firestore.FieldValue.arrayUnion(notificationobj)\r\n              })\r\n            }\r\n            db.collection(\"conversations\")\r\n              .doc(convoid)\r\n              .update({\r\n                lastmsgdate: date,\r\n                messages: firebase.firestore.FieldValue.arrayUnion(msgobject)\r\n              });\r\n          } else if (type === \"microphone\") {\r\n          }else if(type==='film') {\r\n              if(extFile==='mp4'||'gif'||'avi'){\r\n                let msgobject = {\r\n                  message: `https://firebasestorage.googleapis.com/v0/b/${storageRef.bucket}/o/${convoid}%2F${file.name}?alt=media`,\r\n                  reaction1: \"\",\r\n                  reaction2: \"\",\r\n                  msgdate: firebase.firestore.Timestamp.now(),\r\n                  msgid: db.collection(\"conversations\").doc().id,\r\n                  read: false,\r\n                  senderid: user.uid,\r\n                  editing: false,\r\n                  nobackground: true,\r\n                  emoji: true,\r\n                  video: true\r\n                };\r\n                let notificationobj = {\r\n                  notifimsg: `https://firebasestorage.googleapis.com/v0/b/${storageRef.bucket}/o/${convoid}%2F${file.name}?alt=media`,\r\n                  notifidate: firebase.firestore.Timestamp.now(),\r\n                  read: false,\r\n                  sender: user.displayName,\r\n                  video: true,\r\n                  id: convoid,\r\n                  senderid: user.uid,\r\n                  notifiid: db.collection('users').doc().id                }      \r\n                if(notifibool){\r\n                  db.collection('notifications').doc(chatuser).update({\r\n                    notifications: firebase.firestore.FieldValue.arrayUnion(notificationobj)\r\n                  })\r\n                }\r\n                db.collection(\"conversations\")\r\n                  .doc(convoid)\r\n                  .update({\r\n                    lastmsgdate: date,\r\n                    messages: firebase.firestore.FieldValue.arrayUnion(msgobject)\r\n                  });\r\n              }else {\r\n\r\n              }\r\n          }\r\n          progressbar.current.style.display = \"none\";\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  const icons = [\r\n    { icon: \"image\", type: \"file\" },\r\n    {icon: 'film', type:'file'},\r\n    { icon: \"paperclip\", type: \"file\" },\r\n    { icon: \"microphone\", type: \"microphone\" },\r\n\r\n  ];\r\n\r\n  let iconsrow = icons.map((icon) => {\r\n    return (\r\n      <Hoverableicondiv\r\n        progressbar={progressbar}\r\n        progresswidth={progresswidth}\r\n        classNames=\"\"\r\n        icon={icon.icon}\r\n        type={icon.type}\r\n        special={true}\r\n        sendFile={sendFile}\r\n        convoid={convoid}\r\n        inputref={inputref}\r\n        \r\n      />\r\n    );\r\n  });\r\n\r\n  function editMsg() {\r\n    msgs &&\r\n      msgs.map((msg) => {\r\n        if (msgid === msg.msgid) {\r\n          let itemindex = msgs.indexOf(msg);\r\n          msgs[itemindex].message = updatedMsg;\r\n          db.collection(\"conversations\").doc(convoid).update({\r\n            messages: msgs\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  function contextMenu(e) {\r\n    let customcontext = document.querySelector(\".contextmenu\");\r\n    const bounding = customcontext.getBoundingClientRect();\r\n    e.preventDefault();\r\n    setMsgid(e.currentTarget.getAttribute(\"id\"));\r\n    setContextmenu(true);\r\n    if (type === \"small\") {\r\n      customcontext.style.top = `${e.pageY - 201}px`;\r\n      customcontext.style.left = `${0}px`;\r\n    } else {\r\n    const bounding = customcontext.getBoundingClientRect()\r\n    customcontext.style.top = `${e.pageY -200}px`;\r\n    customcontext.style.left = `${e.pageX -150 }px`;\r\n    }\r\n\r\n    if (!updatedMsg === \"\") {\r\n      editMsg();\r\n    }\r\n  }\r\n  function sendEmoji(emoji) {\r\n    let msgobject = {\r\n      message: emoji,\r\n      reaction1: \"\",\r\n      reaction2: \"\",\r\n      msgdate: firebase.firestore.Timestamp.now(),\r\n      msgid: db.collection(\"conversations\").doc().id,\r\n      read: false,\r\n      senderid: user.uid,\r\n      editing: false,\r\n      nobackground: false,\r\n      emoji: true\r\n    };\r\n    db.collection(\"conversations\")\r\n      .doc(convoid)\r\n      .update({\r\n        lastmsgdate: date,\r\n        messages: firebase.firestore.FieldValue.arrayUnion(msgobject)\r\n      });\r\n      let notificationobj = {\r\n        notifimsg: emoji,\r\n        notifidate: firebase.firestore.Timestamp.now(),\r\n        read: false,\r\n        sender: user.displayName,\r\n        id: convoid,\r\n        senderid: user.uid,\r\n        notifiid: db.collection('users').doc().id\r\n      }      \r\n      if(notifibool){\r\n        db.collection('notifications').doc(chatuser).update({\r\n          notifications: firebase.firestore.FieldValue.arrayUnion(notificationobj)\r\n        })\r\n      }\r\n    setMsgstring(\"\");\r\n    typerRef.current.setAttribute(\"style\", \"height: 50px\");\r\n  }\r\n  const scrollto = useRef()\r\n  function  sendMessage() {\r\n    scrollto.current.scrollIntoView({ behavior: 'smooth', block: 'start' })\r\n    const imageRegex = /(?:https?|ftp):\\/\\/[\\S]*\\.(?:png|jpe?g|gif|svg|webp)/g;\r\n    if (msgstring.match(imageRegexB) != null) {\r\n      let msgobject = {\r\n        message: msgstring,\r\n        reaction1: \"\",\r\n        reaction2: '',\r\n        msgdate: firebase.firestore.Timestamp.now(),\r\n        msgid: db.collection(\"conversations\").doc().id,\r\n        read: false,\r\n        senderid: user.uid,\r\n        editing: false,\r\n        nobackground: true,\r\n        emoji: false\r\n      };\r\n      db.collection(\"conversations\")\r\n        .doc(convoid)\r\n        .update({\r\n          lastmsgdate: date,\r\n          messages: firebase.firestore.FieldValue.arrayUnion(msgobject)\r\n        });\r\n        let notificationobj = {\r\n          notifimsg: msgstring,\r\n          notifidate: firebase.firestore.Timestamp.now(),\r\n          read: false,\r\n          sender: user.displayName,\r\n          id: convoid,\r\n          senderid: user.uid,\r\n          notifiid: db.collection('users').doc().id,\r\n\r\n        }      \r\n        if(notifibool){\r\n          db.collection('notifications').doc(chatuser).update({\r\n            notifications: firebase.firestore.FieldValue.arrayUnion(notificationobj)\r\n          })\r\n        }else {\r\n          return null\r\n        }\r\n      setMsgstring(\"\");\r\n      typerRef.current.setAttribute(\"style\", \"height: 50px\");\r\n    } else if (msgstring.replace(/\\s/g, \"\").length) {\r\n      let msgobject = {\r\n        message: msgstring,\r\n        reaction1: \"\",\r\n        reaction2: \"\",\r\n        msgdate: firebase.firestore.Timestamp.now(),\r\n        msgid: db.collection(\"conversations\").doc().id,\r\n        read: false,\r\n        senderid: user.uid,\r\n        editing: false,\r\n        nobackground: false,\r\n        emoji: false\r\n      };\r\n      let notificationobj = {\r\n        notifimsg: msgstring,\r\n        notifidate: firebase.firestore.Timestamp.now(),\r\n        read: false,\r\n        sender: user.displayName,\r\n        id: convoid,\r\n        senderid: user.uid,\r\n        notifiid: db.collection('users').doc().id\r\n      }      \r\n      if(notifibool){\r\n        db.collection('notifications').doc(chatuser).update({\r\n          notifications: firebase.firestore.FieldValue.arrayUnion(notificationobj)\r\n        })\r\n      }\r\n      db.collection(\"conversations\")\r\n        .doc(convoid)\r\n        .update({\r\n          lastmsgdate: firebase.firestore.Timestamp.now(),\r\n          messages: firebase.firestore.FieldValue.arrayUnion(msgobject)\r\n        });\r\n      setMsgstring(\"\");\r\n      typerRef.current.setAttribute(\"style\", \"height: 50px\");\r\n    }\r\n  }\r\n  function triggerSend(e) {\r\n    if (e.keyCode === 13 && !e.shiftKey) {\r\n      e.preventDefault();\r\n      sendMessage();\r\n    }\r\n  }\r\n  function formatTextarea() {\r\n\r\n    // setTyping(true)\r\n    // showTypingAnim()\r\n  }\r\n  const emojipickerref = useRef()\r\n  function inputFunc(){\r\n    typerRef.current.focus()\r\n    setEmojipicker(!emojipicker)\r\n  }\r\n  function showTypingAnim() {\r\n    setTyperid(user.uid);\r\n    let infoobj = {\r\n      convoid,\r\n      creatorid,\r\n      recipientid,\r\n      usertyping: typing,\r\n      userref: db.collection(\"users\").doc(recipientid),\r\n      typerid\r\n    };\r\n    db.collection(\"conversations\")\r\n      .doc(convoid)\r\n      .update({\r\n        // convoinfo: infoobj\r\n      })\r\n      .then(() => {\r\n        db.collection(\"conversations\")\r\n          .doc(convoid)\r\n          .onSnapshot((snap) => {\r\n            // setTyperid(snap.data().convoinfo.typerid)\r\n            // setRealtyping(snap.data().convoinfo.usertyping)\r\n          });\r\n      });\r\n  }\r\n  const [zoomamount, setZoomamount]=useState(1)\r\n  function zoom(el){\r\n   if(el.type==='in'){\r\n    setZoomamount(prev=>prev+ 0.1);\r\n   }else {\r\n    if(zoomamount>1){\r\n      setZoomamount(prev=>prev- 0.1);\r\n    }\r\n   }\r\n\r\n  }\r\n  const onEmojiClick = (event, emojiobject)=>{\r\n   setMsgstring(msgstring + emojiobject.emoji)\r\n  }\r\n  useEffect(() => {\r\n    let timer = setInterval(() => {\r\n      setUpdateelapsed((prev) => prev + 1);\r\n    }, 60000);\r\n    return () => {\r\n      clearInterval(timer);\r\n    };\r\n  }, []);\r\n  useEffect(() => {\r\n    let timer = setInterval(() => {\r\n      setTyping(false);\r\n    }, 4000);\r\n    // showTypingAnim()\r\n    return () => {\r\n      clearInterval(timer);\r\n    };\r\n  }, [typing]);\r\n\r\n  useEffect(() => {\r\n    db.collection(\"users\")\r\n      .doc(creatorid)\r\n      .onSnapshot((snap) => {\r\n        const user = snap.data();\r\n        setRecipname(user.userinfo.name);\r\n        setRecipimg(user.userinfo.cover);\r\n        setRecipcity(user.userinfo.city);\r\n        setRecipcountry(user.userinfo.country);\r\n      });\r\n    db.collection(\"users\")\r\n      .doc(recipientid)\r\n      .onSnapshot((snap) => {\r\n        const user = snap.data();\r\n        setUserimg(user.userinfo.cover);\r\n        setUsername(user.userinfo.name);\r\n      });\r\n    db.collection(\"users\")\r\n      .doc(chatuser)\r\n      .onSnapshot((snap) => {\r\n        const user = snap.data();\r\n        setChatname(user.userinfo.name);\r\n        setChatimg(user.userinfo.cover);\r\n        setChatcity(user.userinfo.city);\r\n        setChatcountry(user.userinfo.country);\r\n        setChatactive(user.online);\r\n        setActivestatus(user.userinfo.online);\r\n        setLoading(false);\r\n      });\r\n  }, [creatorid, recipientid, chatuser]);\r\n  useEffect(() => {\r\n    db.collection(\"users\")\r\n      .doc(user.uid)\r\n      .onSnapshot((snap) => {\r\n        const user = snap.data();\r\n        setChatcolor(user.customization.color);\r\n        setUserimg(user.userinfo.cover);\r\n      });\r\n  }, [chatcolor, chatuser]);\r\n  useEffect(() => {\r\n    db.collection(\"users\")\r\n      .doc(chatuser)\r\n      .onSnapshot((snap) => {\r\n        let user = snap.data();\r\n        setUserchatcolor(user.customization.chatcolor);\r\n      });\r\n  }, [chatuser]);\r\n  useEffect(() => {\r\n\r\n    db.collection(\"conversations\")\r\n    .doc(convoid)\r\n    .get().then((snap) => {\r\n      let use = snap.data();\r\n      setMsgs(use.messages);\r\n      setLoader(false);\r\n      setTheme(use.customizedconvo.theme);\r\n      setEmojitype(use.customizedconvo.emoji);\r\n      if(user.uid===props.diag.convoinfo.creatorid) {\r\n        setNotifibool(use.notifications2)\r\n        setNickname(use.nickname1)\r\n      }else {\r\n        setNotifibool(use.notifications1)\r\n        setNickname(use.nickname2)\r\n      }\r\n    }); \r\n\r\n  \r\n  }, [convoid]);\r\n\r\n  return (\r\n\r\n    <>  \r\n\r\n         <div className=\"top br-l\">\r\n        <div className=\"profilepic\">\r\n          <div className=\"relative\">\r\n            {loading ? (\r\n              <div className={\"loader blue reloader\"}>\r\n                <div class=\"lds-ring\">\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              [\r\n                <img src={chatimg} alt=\"\" />,\r\n                <div\r\n                  className=\"notifi\"\r\n                  style={{\r\n                    backgroundColor: chatactive ? \"rgb(44, 255, 44)\" : \"#FF3D3D\"\r\n                  }}\r\n                ></div>\r\n              ]\r\n            )}\r\n          </div>\r\n          <div>\r\n            {nickname===''?<p className='username'>{chatname.length>15?chatname.slice(0, 15)+'...':chatname}</p>:<p className='username'>{nickname}</p>}\r\n            <small>{chatactive ? \"Online\" : \"Offline\"}</small>\r\n          </div>\r\n        </div>\r\n        <div className=\"controls\">\r\n          <i class=\"fal fa-phone-alt\" style={{ color: themecolor }}></i>\r\n          <i class=\"fal fa-video\" style={{ color: themecolor }}></i>\r\n          {icon && icon === \"fal fa-times\" ? (\r\n            <i\r\n              className={icon}\r\n              style={{ padding: \"0 5px\", color: themecolor }}\r\n              onClick={() => setState(false)}\r\n            ></i>\r\n          ) : (\r\n            <Link exact to={\"/chatsettings/\" + convoid}>\r\n              <i\r\n                style={{ padding: \"0 5px\", color: themecolor }}\r\n                class=\"fal fa-ellipsis-v\"\r\n              ></i>\r\n            </Link>\r\n          )}\r\n        </div>\r\n      </div>\r\n \r\n      <Route\r\n        render={({ location }) => (\r\n          <div\r\n            className={!theme?\"msgs black\":theme==='https://i.imgur.com/4hzNTTq.png'?'msgs black':'msgs'}\r\n            style={\r\n              theme\r\n                ? { backgroundImage: \"url(\" + theme + \")\" }\r\n                : { backgroundImage: \"url(https://i.imgur.com/4hzNTTq.png)\" }\r\n            }\r\n          >\r\n            <div className=\"grid\">\r\n              <div className=\"scrollto\" ref={scrollto}></div>\r\n\r\n              {loader ? (\r\n                <div className={loader ? \"loader opa\" : \"loader\"}>\r\n                  <div class=\"lds-ring\">\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                allmsgs\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      />\r\n   <div className=\"search whiteb br-l\">\r\n    <div className=\"plus\">\r\n      <i\r\n        class={visible ? \"fal fa-minus\" : \"fal fa-plus\"}\r\n        style={{ color: themecolor }}\r\n        onClick={() => setVisible(!visible)}\r\n      ></i>\r\n      <CSSTransition\r\n        in={visible}\r\n        timeout={300}\r\n        classNames=\"iconshover\"\r\n        unmountOnExit\r\n      >\r\n        <div className={\"icons\"}>\r\n          {iconsrow}\r\n          <span className=\"uploader bs\" ref={progressbar}>\r\n            <span className=\"percent\" ref={progresswidth}></span>\r\n          </span>\r\n        </div>\r\n      </CSSTransition>\r\n    </div>\r\n    <div className=\"textarea flexrow\">\r\n    <textarea\r\n      type=\"text\"\r\n      placeholder=\"Send a message...\"\r\n      onKeyUp={(e) => triggerSend(e)}\r\n      ref={typerRef}\r\n      value={msgstring}\r\n      onChange={(e) => {\r\n        setMsgstring(e.target.value);\r\n\r\n      }}\r\n      onInput={()=>formatTextarea()}\r\n\r\n    ></textarea>\r\n    <div className=\"gif_emoji\">\r\n    <i className=\"fal fa-laugh\" onClick={()=>{inputFunc()}}></i>\r\n    <i class=\"fal fa-comment-alt-smile\" onClick={()=>setGif(!gif)}></i>\r\n    </div>\r\n\r\n   </div>\r\n      <div className=\"flexrow\">\r\n      <span\r\n      role=\"img\"\r\n      aria-label=\"emoji\"\r\n      onClick={() => sendEmoji(emojitype)}\r\n      style={{ cursor: \"pointer\" }}\r\n    >\r\n      {emojitype}\r\n    </span>\r\n    <i\r\n      class=\"fal fa-paper-plane\"\r\n      style={{ color: themecolor }}\r\n      onClick={() => {sendMessage();setEmojipicker(false)}}\r\n    ></i>\r\n      </div>\r\n  </div>\r\n \r\n      <Contextmenu\r\n        setShowinput={setShowinput}\r\n        editMsg={editMsg}\r\n        setUpdatedMsg={setUpdatedMsg}\r\n        convoid={convoid}\r\n        type={\"msg\"}\r\n        msgid={msgid}\r\n        setMsgid={setMsgid}\r\n        setContextmenu={setContextmenu}\r\n        contextmenu={contextmenu}\r\n        contextstyle={contextstyle}\r\n      />\r\n\r\n      <CSSTransition in={gif} unmountOnExit classNames='gif' timeout={300}>\r\n        <Gif chatimg={chatimg} setGif={setGif} convoid={convoid} notifibool={notifibool} chatuser={chatuser}/>\r\n      </CSSTransition>\r\n      <CSSTransition\r\n        in={notifi}\r\n        timeout={300}\r\n        classNames=\"displayerror\"\r\n        unmountOnExit\r\n      >\r\n        <div className=\"errormsg bs diagmsg\">\r\n          <i\r\n            className={notificont.emoji}\r\n            style={{ position: \"absolute\", left: \"20px\" }}\r\n          ></i>{\" \"}\r\n          <p>{notificont.msg}</p>\r\n          <i\r\n            className=\"far fa-times\"\r\n            style={{ color: themecolor }}\r\n            onClick={() => setNotifi(false)}\r\n          ></i>\r\n        </div>\r\n      </CSSTransition>\r\n      <CSSTransition in={modal} classNames=\"modal\" timeout={0}>\r\n        <div className=\"modal overflowimgcontainer\">\r\n         <div className=\"buttons\">\r\n         \r\n         <i className=\"fal fa-search-minus\" onClick={()=>zoom({type: 'out'})}></i>\r\n         <i class=\"fal fa-redo-alt\" onClick={()=>setZoomamount(1)}></i>\r\n         <i class=\"fal fa-search-plus\" onClick={()=>zoom({type: 'in'})}></i>\r\n         </div>\r\n          <ScrollContainer className='grabbercontainer' hideScrollbars={true}>\r\n          <img src=\"\" alt=\"\" ref={imgsrc}style={{width: 100*zoomamount+'%', height: 100*zoomamount+'%'}} />\r\n          </ScrollContainer>\r\n          <i className=\"fal fa-times\" onClick={() => {setModal(false); setZoomamount(1)}}></i>\r\n        </div>\r\n      </CSSTransition>\r\n      <CSSTransition in={emojipicker}  classNames='emojipicker' timeout={300} >\r\n       <div className=\"emojipicker\" ref={emojipickerref} onMouseOver={()=>typerRef.current.focus()} onClick={()=>typerRef.current.focus()}>\r\n        <div className=\"times\"> <i className=\"fal fa-times\" onClick={()=>setEmojipicker(false)}></i></div>\r\n       <Picker onEmojiClick={onEmojiClick}/>\r\n       </div>\r\n      </CSSTransition>\r\n    </>\r\n  );\r\n}\r\nexport default Dialogue;\r\n","\r\nimport React, {useState, useEffect, useContext} from 'react'\r\nimport firebase from 'firebase'\r\nimport { db } from '../Fire'\r\nimport { CSSTransition } from 'react-transition-group'\r\nimport { ContextApp } from '../ContextAPI'\r\nfunction Userprofile (props) {\r\n  const link = <a href='google.com'>asd</a>\r\n  const {themecolor}=useContext(ContextApp)\r\n  const user = firebase.auth().currentUser\r\n  const {chatuser}=props\r\n  const {convoid, creatorid, recipientid} = props.diag.convoinfo\r\n  const [recipname, setRecipname]=useState('')\r\n  const [recipimg, setRecipimg]=useState('')\r\n  const [recipcity, setRecipcity]=useState('')\r\n  const [recipcountry, setRecipcountry]=useState('')\r\n  const [recipjob, setRecipjob]=useState('')\r\n  const [recipnumber, setRecipnumber]=useState('')\r\n  const [recipemail, setRecipemail]=useState('')\r\n  const [recipwebsite, setRecipwebsite]=useState('')\r\n  const [extend, setExtend]=useState(false)\r\n  const [active, setActive]=useState(false)\r\n  const [loading, setLoading]=useState(true)\r\n\r\n  useEffect(()=>{\r\n    db.collection('users').doc(chatuser).onSnapshot(snap=>{\r\n        const user = snap.data()\r\n        setRecipname(user.userinfo.name)\r\n        setRecipimg(user.userinfo.cover)\r\n        setRecipcity(user.userinfo.city)\r\n        setRecipcountry(user.userinfo.country)\r\n        setRecipjob(user.userinfo.job)\r\n        setRecipnumber(user.userinfo.phone)\r\n        setRecipemail(user.userinfo.email)\r\n        setRecipwebsite(user.userinfo.website)\r\n        setActive(user.online)\r\n        setLoading(false)\r\n\r\n    })\r\n  },[recipientid, chatuser])\r\n  return (\r\n   <>\r\n    <div className=\"profilepic profilepiccol br-l\">\r\n        <div className='relative'>\r\n        {loading?<div className={'loader blue reloader'}><div class=\"lds-ring\"><div></div><div></div><div></div><div></div></div></div>:[<img src={recipimg} alt=\"\"/>, <div className=\"notifi\" style={{backgroundColor:active?'rgb(44, 255, 44)':'#FF3D3D'}}></div>]}\r\n          \r\n        </div>\r\n        <div>\r\n          <p>{recipname.length>17?recipname.slice(0, 17)+'...':recipname}</p>\r\n          <small>Job: {recipjob===''?'Not provided':recipjob}</small>\r\n        </div>\r\n        <i className=\"fal fa-cog\" style={{color: themecolor}}></i>\r\n    </div> \r\n    <div className=\"personalinfo br-l flex\">\r\n     <div className='flexrow'><p>Personal info</p>\r\n      <i className={extend?`fal fa-chevron-up rotate`:'fal fa-chevron-up'} onClick={()=>setExtend(!extend)}></i>\r\n      </div>\r\n      <CSSTransition in={extend} classNames='extended' timeout={0} unmountOnExit>\r\n        <div className='extendoff'>\r\n        <hr />\r\n         <div className='flex'>\r\n           <div className=\"flexrow flexinfo\"><p>Phone #</p> <p>{recipnumber===''?'N/A':recipnumber}</p></div>\r\n           <div className=\"flexrow flexinfo\"><p>Email</p><p>{recipemail}</p></div>\r\n           <div className=\"flexrow flexinfo\"><p>Country</p><p>{recipcountry===''?'N/A':recipcountry}</p></div>\r\n           <div className=\"flexrow flexinfo\"><p>City</p><p>{recipcity===''?'N/A':recipcity}</p></div>\r\n         </div>\r\n        </div>\r\n      </CSSTransition>\r\n    </div>\r\n    <div className=\"mutualcontacts br-l pdng flexrow\">\r\n    <i class=\"fal fa-users\"></i>\r\n      <p>Mutual Contacts</p>\r\n      <i class=\"fal fa-ellipsis-h-alt\"></i>\r\n      </div>\r\n      <div className=\"br-l pdng flexrow\">\r\n        {recipwebsite.toLocaleLowerCase()==='https://'?<i class=\"fal fa-external-link\"></i>:\r\n          <a href={recipwebsite}><i class=\"fal fa-external-link\"></i></a>}\r\n          <p>View Site</p>\r\n         \r\n      </div>\r\n    </>\r\n  )\r\n}\r\nexport default Userprofile","import React, {useState, useEffect, useContext} from 'react'\r\nimport {ContextApp} from '../ContextAPI'\r\nimport Hoverablebutton from './Hoverablebutton'\r\nfunction Adduser (props) {\r\n  const {themecolor}= useContext(ContextApp)\r\nlet {allusers, setRecipientname,setRecipientid, recipientid, setMessage, sendMessage, msgpersonids, adduser,setAdduser, message} = props\r\nconst [keyword, setKeyword]=useState('')\r\n\r\nfunction determineDisplay(user){\r\n  if(msgpersonids && msgpersonids.includes(user.uid)){\r\n    return <i className=\"fal fa-exclamation-circle\"></i>\r\n  }\r\nelse if(recipientid===user.uid){\r\n  return <i className=\"fal fa-check slct\" ></i>\r\n}else {\r\n  return <span className='slct' style={{color: themecolor, border: 'solid 1px'+themecolor}} onMouseOver={(e)=>e.target.style.cssText=`background-color:${themecolor}; border: solid 1px transparent`} onMouseLeave={(e)=>e.target.style.cssText=`background-color: transparent; border: solid 1px ${themecolor}; color: ${themecolor}`}>Select</span>\r\n}\r\n\r\n}\r\nconst pattern = new RegExp('\\\\b' + keyword.replace(/[\\W_]+/g,\"\"), 'i')\r\nconst allusersrow = allusers && allusers.map(user=>{\r\n  if(pattern.test(user.userinfo.name.toLowerCase())) {\r\n    return  <div className={msgpersonids && msgpersonids.includes(user.uid)?\"profilepic selected\":'profilepic'}>\r\n      <div>\r\n      <img src={user.userinfo.cover?user.userinfo.cover:\"https://www.gettyimages.ca/gi-resources/images/500px/983794168.jpg\"} alt=\"\"/>\r\n       <p>{user.userinfo.name}</p>\r\n      </div>\r\n      <small onClick={msgpersonids && msgpersonids.includes(user.uid)?() => {setAdduser(!adduser);}:() => {setRecipientid(user.uid); setRecipientname(user.userinfo.name)}} className={recipientid===user.uid?\"usersrowselected\":\"\"}>\r\n        {determineDisplay(user)}\r\n      </small>\r\n</div>\r\n  }\r\n  })\r\n  function actions (){\r\n    setMessage('')\r\n    setAdduser(!adduser)\r\n  }\r\n  return (\r\n    <>\r\n    <div className=\"adduser\"onClick={()=>props.setAdduser()}>\r\n      \r\n    </div>\r\n    <div className=\"userlist bs\" >\r\n          <div className=\"hd\">\r\n          <h2>Add Contact</h2>\r\n          <div className=\"search\">\r\n            <input type=\"text\" placeholder='Search' onChange={(e)=>setKeyword(e.target.value)}/>\r\n          </div>\r\n          </div>\r\n          <div className=\"overflow flex\">\r\n       {allusersrow}\r\n          </div>\r\n          <div className=\"search\">\r\n          <input type=\"text\" placeholder='Send a message...' onChange={(e)=>setMessage(e.target.value)} value={message}/>\r\n          <button className=\"themeBtn\"  onClick={()=>{recipientid?sendMessage():actions()}}  style={{color: 'white', border: `solid 3px transparent`, backgroundColor: themecolor}} onMouseOver={(e)=>e.target.style.cssText=`background-color: transparent; border: solid 3px ${themecolor}; color: ${themecolor}`} onMouseLeave={(e)=>e.target.style.cssText=`background-color: ${themecolor}; border: solid 3px transparent; color: white`}>Send Message</button>\r\n          </div>\r\n          <i className=\"fal fa-times\" onClick={()=>props.setAdduser()} style={{color: themecolor}}></i>\r\n      </div>\r\n    \r\n    </>\r\n  )\r\n}\r\nexport default Adduser","import React, {useState, useEffect, useContext} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\nimport {db} from '../Fire'\r\nimport firebase from 'firebase'\r\nimport {ContextApp} from '../ContextAPI'\r\nimport styled from 'styled-components'  \r\n\r\nconst Input = styled.input ` \r\n      &:valid {\r\n         border: solid 2px ${props=>props.color}\r\n      }\r\n      &:focus {\r\n         border: solid 2px ${props=>props.color}\r\n      }\r\n`\r\nfunction Inputs (props) {\r\n   const {themecolor}=useContext(ContextApp)\r\n    const {disabled, determineDelete, updateProfile,age, setAge, name, setName, city, setCity, phonenumber, setPhonenumber, website, setWebsite, country, setCountry}=props\r\n    const user = firebase.auth().currentUser\r\n   function deleteUser(){\r\n      db.collection('users').doc(user.uid).delete()\r\n      db.collection('notifications').doc(user.uid).delete()\r\n      user.delete().then(()=>{\r\n\r\n      }).catch(err=>{\r\n\r\n      })\r\n   }\r\n return (\r\n<div className=\"inputs inps\">\r\n  <label>\r\n    <span>Name</span>\r\n    <Input type='text' value={name} onChange={(e)=>setName(e.target.value)} required placeholder='Name' color={themecolor}/>\r\n  </label>\r\n  <label>\r\n      <span>Age</span>\r\n     <Input color={themecolor} type=\"number\" value={age}onChange={(e)=>setAge(e.target.value)} min='1' required placeholder='Age'/>\r\n  </label>\r\n  <label>\r\n      <span>Phone Number</span>\r\n      <Input  color={themecolor} type=\"number\" value={phonenumber} onChange={(e)=>setPhonenumber(e.target.value)} required placeholder='Phone Number' />\r\n  </label>\r\n  <label>\r\n      <span>City</span>\r\n     <Input  color={themecolor} type=\"text\" value={city} onChange={(e)=>setCity(e.target.value)} required placeholder='City'/>\r\n  </label>\r\n  <label>\r\n     <span>Country</span>\r\n     <Input  color={themecolor} type=\"text\" value={country} onChange={(e)=>setCountry(e.target.value)} required placeholder='Country' />\r\n  </label>\r\n  <label>\r\n     <span>Website URL</span>\r\n     <Input  color={themecolor} type=\"text\" value={website}  onChange={(e)=>setWebsite(e.target.value)} required placeholder='https://example.com'/>\r\n  </label>\r\n    <label className='btnContainer'>\r\n    <button className=\"themeBtn\" onClick={()=>updateProfile()}style={{color: 'white', border: `solid 3px transparent`, backgroundColor: themecolor}} onMouseOver={(e)=>e.target.style.cssText=`background-color: transparent; border: solid 3px ${themecolor}; color: ${themecolor}`} onMouseLeave={(e)=>e.target.style.cssText=`background-color: ${themecolor}; border: solid 3px transparent; color: white`}>Save</button>\r\n    </label>\r\n    <label>\r\n       <span><strong>Delete Account</strong></span>\r\n       <Input color={themecolor} required onChange={e=>determineDelete(e)} placeholder={'Type in '+user.displayName+' to delete account.'}/>\r\n      <small >Key: {user.displayName}</small>\r\n      <button disabled={disabled} className='themeBtn warning' onClick={()=>deleteUser()}>Delete Account</button>\r\n    </label>\r\n</div>\r\n  )\r\n}\r\nexport default Inputs","import React, {useState, useEffect, useContext} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\nimport Inputs from '../Inputs'\r\nimport firebase from 'firebase'\r\nimport {db} from '../../Fire'\r\nimport {CSSTransition, TransitionGroup} from 'react-transition-group'\r\nimport { ContextApp } from '../../ContextAPI'\r\n\r\nfunction Account (props) {\r\n  const user = firebase.auth().currentUser\r\n  const [deleteuser, setDeleteuser]=useState('')\r\n  const [name, setName]=useState('')\r\n  const [age, setAge]=useState('')\r\n  const [phonenumber, setPhonenumber]=useState('')\r\n  const [city, setCity]=useState('')\r\n  const [country, setCountry]=useState('')\r\n  const [website, setWebsite]=useState('')\r\n  const [uploaded, setUploaded]=useState(false)\r\n  const [cover, setCover]=useState('')\r\n  const [email, setEmail]=useState('')\r\n  const [job, setJob]=useState('')\r\n  const [deleteaccountstring, setDeleteaccountstring]=useState('')\r\n  const {notifi, setNotifi, notificont, setNotificont}=useContext(ContextApp)\r\n\r\n  const [loading, setLoading]=useState(true)\r\n  function uploadImg(){\r\n   \r\n    let file = document.querySelector('.uploadpic').files[0]\r\n    const storageRef = firebase.storage().ref(`${user.uid}/${file.name}`);\r\n    const task = storageRef.put(file);\r\n    task.on('state_changes',\r\n      function progress(){\r\n        setLoading(true)\r\n      },\r\n      function error(){\r\n      \r\n      },\r\n      function complete(){\r\n      setLoading(false)\r\n        setCover(`https://firebasestorage.googleapis.com/v0/b/${storageRef.bucket}/o/${user.uid}%2F${file.name}?alt=media`,)\r\n         setUploaded(!uploaded)\r\n      }\r\n    )\r\n  \r\n  }  // if(file.size <=2097152){ \r\n    //   setUploaded(!uploaded)\r\n    //   let reader = new FileReader()\r\n    //   reader.onloadend = function (){\r\n    //     setCover(reader.result)\r\n    //   }\r\n    //   if(file){\r\n    //     reader.readAsDataURL(file)\r\n    //   }\r\n    // }else {\r\n    //   setNotifi(true)\r\n    //   setNotificont({\r\n    //     msg: 'Image is too large',\r\n    //     emoji: 'fal fa-exclamation-circle'\r\n    //   })\r\n\r\n    //   setTimeout(()=>{\r\n    //     setNotifi(false)\r\n    //   },3500)\r\n    // }\r\n  function saveImg(){\r\n    setUploaded(!uploaded)\r\n    updateProfile()\r\n  }\r\n  function removeImg(){\r\n    setUploaded(false)  \r\n    updateProfile()\r\n    user.updateProfile({\r\n      displayName: name,\r\n    })\r\n    const userobj = {\r\n      job,\r\n      age,\r\n      city,\r\n      country,\r\n      phone: phonenumber,\r\n      website, \r\n      name, \r\n      email,\r\n      cover: 'https://www.gettyimages.ca/gi-resources/images/500px/983794168.jpg'\r\n    }\r\n    db.collection('users').doc(user.uid).update({\r\n        userinfo: userobj\r\n    })    \r\n\r\n  }\r\n  function updateProfile(){\r\n    const userobj = {\r\n      age,\r\n      city,\r\n      country,\r\n      phone: phonenumber,\r\n      website, \r\n      cover, \r\n      name, \r\n      email,\r\n      job,\r\n    }\r\n    db.collection('users').doc(user.uid).update({\r\n        userinfo: userobj\r\n    }).then(()=>{ \r\n        setNotifi(true)\r\n        setNotificont({\r\n          msg: 'Profile was updated!',\r\n          emoji: 'fal fa-check-circle'\r\n        })\r\n    }).catch(err=>{\r\n      setNotifi(true)\r\n      setNotificont({\r\n        msg: 'Image is too large',\r\n        emoji: 'fal fa-exclamation-circle'\r\n      })\r\n    })\r\n    setTimeout(()=>{\r\n      setNotifi(false)\r\n    },3500)\r\n  \r\n  }\r\n  const [disabled, setDisabled]=useState(true)\r\n  function determineDelete(e){\r\n    if(e.target.value===user.displayName){\r\n      setDisabled(false)\r\n    }else {\r\n      setDisabled(true)\r\n    }\r\n  }\r\n  useEffect(()=>{\r\n    db.collection('users').doc(user.uid).onSnapshot(snap=>{\r\n      const user = snap.data()\r\n      setName(user.userinfo.name)\r\n      setAge(user.userinfo.age)\r\n      setPhonenumber(user.userinfo.phone)\r\n      setCity(user.userinfo.city)\r\n      setCountry(user.userinfo.country)\r\n      setWebsite(user.userinfo.website)\r\n      setCover(user.userinfo.cover)\r\n      setEmail(user.userinfo.email)\r\n      setJob(user.userinfo.job)\r\n      setLoading(false)\r\n    })\r\n  },[])\r\n\r\n  return (\r\n   <div className='account'>\r\n      <div className=\"head\">\r\n        <h2>Account</h2>\r\n      </div>\r\n      <div className=\"profilepic\">\r\n          {loading?<div className={\"loader blue reloader width\"}>\r\n                <div class=\"lds-ring\">\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                </div>\r\n              </div>:  <img src={cover} alt=\"\"/>}\r\n          <div className=\"btnprof flexrow\">\r\n          {!uploaded?\r\n            <label>\r\n            <div className=\"settingBtn\" onClick={()=>setNotifi(false)}>Upload</div>\r\n            <input className='uploadpic' onChange={()=>uploadImg()} type=\"file\" style={{display: 'none'}}/>\r\n          </label>:\r\n            <button className='settingBtn' onClick={()=>saveImg()}>Save</button>\r\n        }\r\n            <button className='settingBtn warning' onClick={()=>removeImg()}>Remove</button>\r\n          </div>\r\n      </div>\r\n      <hr/>\r\n        <Inputs \r\n        name={name}\r\n        setName={setName}\r\n        age={age}\r\n        setAge={setAge}\r\n        phonenumber={phonenumber}\r\n        setPhonenumber={setPhonenumber}\r\n        city={city}\r\n        setCity={setCity}\r\n        country={country}\r\n        setCountry={setCountry}\r\n        website={website}\r\n        setWebsite={setWebsite}\r\n        updateProfile={updateProfile}\r\n        determineDelete={determineDelete}\r\n        disabled={disabled}\r\n       />\r\n\r\n        {/* <div className=\"flexrow inps\">\r\n        <label>\r\n          <span style={{marginBottom: '10px'}}>Delete Account</span>\r\n          <small>If you delete your account, all your data will be lost.</small>\r\n         <input style={{width: '80%'}} placeholder={'Type in '+user.displayName} type=\"text\" required onChange={(e)=>{setDeleteuser(e.target.value);}}/>\r\n        </label>\r\n        <label>\r\n        <button  className={deleteuser===user.displayName?'themeBtn warning':'themeBtn warning disabled'} disabled={deleteUser===user.displayName?'false':'true'} style={{marginTop: '10px', width: '80%'}}  onClick={()=>deleteUser()}>Delete Account</button>\r\n        </label>\r\n        </div> */}\r\n  </div>\r\n  )\r\n}\r\nexport default Account","import React, {useState, useEffect} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\n\r\nfunction Switches (props) {\r\n  const {checked, setChecked, function1} =props\r\n  return (\r\n   <div className='switchdiv'>\r\n  <div className=\"flexrow switchdiv\">\r\n  <p>{props.title}</p>\r\n  <label className='form-switch'>\r\n  <input type=\"checkbox\" checked={checked} onChange={(e)=>{setChecked && setChecked(e.target.checked); function1 && function1()}}/>\r\n  <i></i>\r\n  </label>\r\n  </div>\r\n  </div>\r\n  )\r\n}\r\nexport default Switches","import React, {useState, useEffect, useContext} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\nimport {ContextApp} from '../ContextAPI'\r\nimport {createGlobalStyle, createglobalStyle} from 'styled-components'\r\n\r\nfunction Input (props) {\r\n  const {themecolor}=useContext(ContextApp)\r\n  const {type, title, value, setValue, placeholder, changeCSSVar} = props\r\n\r\n  return (\r\n   <div className='input flexrow sb'>\r\n     <p>{title}</p>\r\n     {type==='text'?<input required onBlur={(e)=>e.target.style.border='solid 2px #eee'} onFocus={(e)=>e.target.style.border=`solid 2px ${value}`} placeholder={placeholder} type={type} value={value} onChange={(e)=>{setValue(e.target.value)}}/>:\r\n         <input required onBlur={(e)=>e.target.style.border='solid 2px #eee'} onFocus={(e)=>e.target.style.border=`solid 2px ${value}`} placeholder={placeholder} type={type} value={value} onChange={(e)=>{setValue(e.target.value); changeCSSVar(e)}}/>\r\n    }\r\n    </div>\r\n  )\r\n}\r\nexport default Input","import React, {useState, useEffect} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\nimport firebase from 'firebase'\r\n\r\n\r\n\r\nfunction Button (props) {\r\n  const {emoji,state1, setState1, setState2,style, function1, type, title, addstyle, state3, setState3, stylebtn}=props\r\n  function styleFunc(){\r\n    if(addstyle){\r\n      if(state1){\r\n        return {backgroundColor: 'transparent', border: 'solid 3px'+style, color: style}\r\n      }else {\r\n        return {backgroundColor: style, border: 'solid 3px transparent'}\r\n      }\r\n    }\r\n  }\r\n  return (\r\n      <div className='flexrow sb'>\r\n      {type==='button'?<div></div>:<p>{title}</p>}\r\n      {type==='button'?<button className='btn'   onClick={()=>{function1()}} >Save</button>:<i class={emoji} onClick={()=>{props.setState1(!state1); setState2 && setState2(true)}} onMouseOver={()=>setState3 && setState3(true)} onMouseLeave={()=>setState3 && setState3(false)}></i>}\r\n      {(emoji!=='fad fa-adjust'&&type!=='button')?<span role='img' aria-label='emoji' onClick={()=>{props.setState1(!state1); setState2 && setState2(true)}}>{emoji}</span>:''}\r\n      </div>\r\n  )\r\n}\r\nexport default Button\r\n","import React, {useState, useEffect} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\nimport Switches from '../Switches'\r\nimport Input from '../Input'\r\nimport firebase from 'firebase'\r\nimport { db } from '../../Fire'\r\nimport Button from '../Button'\r\n\r\nfunction Personalization (props) {\r\n  const user = firebase.auth().currentUser\r\n  const {function1, input1, input2, input3,input4, setInput4, setInput1, setInput2, setInput3} = props\r\n  const [hovered, setHovered]=useState(false)\r\n\r\n  function changeCSSVar(e){\r\n    document.documentElement.style.setProperty(\r\n      '--theme-color', e.target.value\r\n    )\r\n}\r\nfunction changeCSSVarChat(e){\r\n  document.documentElement.style.setProperty(\r\n    '--chat-color', e.target.value\r\n  )\r\n}\r\n  return (\r\n   <div className='customize'>\r\n <div><h2>Customize</h2></div>\r\n    <small>Customize your chat settings.</small>\r\n    <hr/>\r\n      <div className=\"spacer1\"></div>\r\n    <div className=\"flex\">\r\n      <Switches title={'Dark Mode'} checked={input1} setChecked={setInput1}/>\r\n      <Switches title={'Wide Sidebar'} checked={input2} setChecked={setInput2}/>\r\n      <Input type={'color'} title={'Chat Color'} value={input3} setValue={setInput3} changeCSSVar={changeCSSVarChat}/>\r\n      <Input type={'color'} title={'Theme Color'} value={input4} setValue={setInput4} changeCSSVar={changeCSSVar}/>\r\n      <Button type={'button'} state1={hovered} setState1={setHovered} style={input4}  function1={function1} addstyle={true} />\r\n    </div>\r\n  </div>\r\n  )\r\n}\r\nexport default Personalization","import React, {useState, useEffect} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\n\r\nfunction Infocontainer (props) {\r\n  const {variable, title}=props\r\n  return (\r\n   <>\r\n      <div className=\"flexrow sb\" style={{margin: '10px 0'}}>\r\n      <p>{title}:</p>\r\n      <p className='light'>{variable?variable:'N/A'}</p>\r\n    </div>\r\n  </>\r\n  )\r\n}\r\nexport default Infocontainer","import React, {useState, useEffect} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\nimport { db } from '../../Fire'\r\nimport Infocontainer from './Infocontainer'\r\n\r\nfunction Aboutchatuser (props) {\r\n  let {chatuser}=props\r\n  const [name, setName]=useState('')\r\n  const [age, setAge]=useState('')\r\n  const [city, setCity]=useState('')\r\n  const [country, setCountry]=useState('')\r\n  const [cover, setCover]=useState('')\r\n  const [email, setEmail]=useState('')\r\n  const [job, setJob]=useState('')\r\n  const [phone, setPhone]=useState('')\r\n  const [website, setWebsite]=useState('')\r\n  useEffect(()=>{\r\n    db.collection('users').doc(chatuser).onSnapshot(snap=>{\r\n      let data = snap.data()\r\n      setName(data.userinfo.name)\r\n      setAge(data.userinfo.age)\r\n      setCity(data.userinfo.city)\r\n      setCountry(data.userinfo.country)\r\n      setCover(data.userinfo.cover)\r\n      setEmail(data.userinfo.email)\r\n      setJob(data.userinfo.job)\r\n      setPhone(data.userinfo.phone)\r\n      setWebsite(data.userinfo.website)\r\n    })\r\n\r\n  },[])\r\n  return (\r\n   <>\r\n    <div className=\"flexrow sb\">\r\n    <h2 className='capitalize'>About {name}</h2>\r\n    <div className=\"profilepic\">\r\n      <img src={cover} alt=\"profilepicture\"/>\r\n    </div>\r\n    </div>\r\n    <hr/>\r\n    <h3 style={{marginBottom: '10px'}}>Personal Info</h3>\r\n\r\n    <Infocontainer variable={age} title={'Age'}/>\r\n    <Infocontainer variable={job} title={'Job'}/>\r\n    <Infocontainer variable={phone} title={'Phone'}/>\r\n    <Infocontainer variable={country} title={'Country'}/>\r\n    <Infocontainer variable={city} title={'City'}/>\r\n    <h3 style={{margin: '10px 0'}}>Other Info</h3>\r\n    <Infocontainer variable={email} title={'Email'}/>\r\n    <div className=\"flexrow sb\" style={{margin: '10px 0'}}>\r\n      <p>Website:</p>\r\n      <p className='light'>{website==='https://'?'N/A':<a href={website} rel='noreferrer' target=\"_blank\"> <i class=\"fal fa-external-link-alt\"></i></a>}</p>\r\n    </div>\r\n\r\n  </>\r\n  )\r\n}\r\nexport default Aboutchatuser","import React, {useState, useEffect} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\n\r\nfunction Preferences () {\r\n\r\n  return (\r\n   <>\r\n   asd\r\n  </>\r\n  )\r\n}\r\nexport default Preferences","import React, {useState, useEffect, useContext} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\nimport Switches from '../Switches'\r\nimport Input from '../Input'\r\nimport firebase from 'firebase'\r\nimport { db } from '../../Fire'\r\nimport Button from '../Button'\r\nimport {ContextApp} from '../../ContextAPI'\r\nfunction Themes (props) {\r\n  const  {themecolor,notifi, setNotifi, notificont, setNotificont}=useContext(ContextApp)\r\n  const user = firebase.auth().currentUser\r\n  const {themeimg,setThemeimg,themebool,setEmojibool,setThemebool} = props\r\n  const [hovered, setHovered]=useState(false)\r\n  const [nickname, setNickname]=useState('')\r\n  const [emoji, setEmoji]=useState('')\r\n  const {creatorid,convoid, setEmojitype, emojitype, miniview, setMiniview}=props\r\n  function updateProfile(){\r\n    setNotifi(true)\r\n    setNotificont({\r\n      msg: 'Profile was updated!',\r\n      emoji: 'fal fa-check-circle'\r\n    })\r\n\r\n    if(user.uid===creatorid){\r\n      db.collection('conversations').doc(convoid).update({\r\n        nickname1: nickname,\r\n      })\r\n    }\r\n    else {\r\n      db.collection('conversations').doc(convoid).update({\r\n        nickname2: nickname,\r\n      })\r\n    }\r\n    setTimeout(()=>{\r\n      setNotifi(false)\r\n    },3500)\r\n  }\r\n  useEffect(()=>{\r\n    db.collection('conversations').doc(convoid).onSnapshot(snap=>{\r\n        const convo =  snap.data()\r\n        setThemeimg(convo.customizedconvo.theme) \r\n        setEmojitype(convo.customizedconvo.emoji)\r\n        if(user.uid===creatorid) {\r\n          setNickname(convo.nickname1)\r\n        }\r\n        else {\r\n          setNickname(convo.nickname2)\r\n        }\r\n      })\r\n  },[convoid])\r\n  return (\r\n   <div className='customize'>\r\n <div><h2>Themes</h2></div>\r\n    <small>Customize your conversation settings.</small>\r\n    <hr/>\r\n      <div className=\"spacer1\"></div>\r\n    <div className=\"flex\">\r\n       <Button type='emoji' emoji='fad fa-adjust' title={'Theme'} setState1={setThemebool} state1={themebool} state3={miniview} setState3={setMiniview}/>\r\n       <Button type={'emoji'} emoji={emojitype} title={'Emoji'} state1={emoji} setState1={setEmoji} setState2={setEmojibool}/>\r\n       <Input  placeholder={'Nickname'} type={'text'}  title={'Nickname'} value={nickname} setValue={setNickname} />\r\n        <div className='flexrow sb'><span></span><button className='btn' style={{color: 'white', border: `solid 3px transparent`, backgroundColor: themecolor}} onMouseOver={(e)=>e.target.style.cssText=`background-color: transparent; border: solid 3px ${themecolor}; color: ${themecolor}`} onMouseLeave={(e)=>e.target.style.cssText=`background-color: ${themecolor}; border: solid 3px transparent; color: white`} onClick={()=>updateProfile()}>Save</button></div>\r\n    </div>\r\n  </div>\r\n  )\r\n}\r\nexport default Themes","import React, {useState, useEffect} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\nimport Input from '../Input'\r\nimport Switches from '../Switches'\r\nimport {db} from '../../Fire'\r\nimport firebase from 'firebase'\r\nfunction Actions (props) {\r\n  const user = firebase.auth().currentUser\r\n  const {notifibool, setNotifibool, convoid, creatorid}=props\r\n  function changeNotifi(){\r\n   \r\n      if(user.uid===creatorid){\r\n        db.collection('conversations').doc(convoid).update({\r\n          notifications1: !notifibool\r\n        })\r\n     }else {\r\n       db.collection('conversations').doc(convoid).update({\r\n         notifications2: !notifibool\r\n       })\r\n\r\n     }\r\n    \r\n}\r\n  return (\r\n   <>\r\n    <h2 o>Chat Configurations</h2>\r\n    <hr/>\r\n   <Switches title='Notifications' checked={notifibool}  function1={changeNotifi}/>\r\n  </>\r\n  )\r\n}\r\nexport default Actions","import React, {useState, useEffect} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\n\r\nfunction Support () {\r\n\r\n  return (\r\n   <>\r\n   \r\n  </>\r\n  )\r\n}\r\nexport default Support","import React, {useState, useEffect, useContext} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\nimport firebase from 'firebase'\r\nimport {db} from '../Fire'\r\nimport Account from './settings/Account'\r\nimport Personalization from './settings/Personalization'\r\nimport Aboutchatuser from './settings/Aboutchatuser'\r\nimport Preferences from './settings/Preferences'\r\nimport { CSSTransition } from 'react-transition-group'\r\nimport Themes from './settings/Themes'\r\nimport {ContextApp} from '../ContextAPI'\r\nimport {useHistory} from 'react-router-dom'\r\nimport Contextmenu from './Contextmenu'\r\nimport Hoverablebutton from './Hoverablebutton'\r\nimport Actions from './settings/Actions'\r\nimport Support from './settings/Support'\r\n\r\nfunction Usersettings (props) {\r\n  const id =db.collection('users').doc().id\r\n  const [keyword, setKeyword]=useState('')\r\n  const pattern = new RegExp('\\\\b' + keyword.replace(/[\\W_]+/g,\"\"), 'i')\r\n  const history = useHistory()\r\n  const {settings, type, link, linklabel, BrowserHistory}=props\r\n  const [themebool, setThemebool]=useState(false)\r\n  const [emojibool, setEmojibool]=useState(false)\r\n  const [miniview, setMiniview]=useState(false)\r\n  const {darkmode, notifi, setNotifi, notificont, setNotificont}=useContext(ContextApp)\r\n  const user = firebase.auth().currentUser\r\n\r\n  const [themecolor, setThemecolor]=useState('')\r\n  const [themeimg, setThemeimg]=useState('')\r\n  const [emojitype, setEmojitype]=useState('')\r\n  const [darkmode1, setDarkmode]=useState(false)\r\n  const [notifibool, setNotifibool]=useState(true)\r\n  const [widemode, setWidemode]=useState(false)\r\n  const [chatcolor, setChatcolor]=useState('')\r\n  const [contextmenu, setContextmenu]=useState(false)\r\n  const [contextstyle, setContextstyle]=useState({\r\n    top: 0,\r\n    left: 0,\r\n  })\r\n  const themes = [\r\n    {img:'https://wallpaperaccess.com/full/1288078.jpg', type: 'background'},\r\n    {img:'https://www.setaswall.com/wp-content/uploads/2019/08/Whatsapp-Wallpaper-072.jpg',type: 'background'},\r\n    {img:'http://images.unsplash.com/photo-1518531933037-91b2f5f229cc?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max', type: 'background'},\r\n    {img:'https://i.imgur.com/05HfuHW.jpg',type: 'background'},\r\n    {img:'https://i.imgur.com/Frdc6vv.jpg',type: 'background'},\r\n    {img:'https://i.imgur.com/3St6WoQ.jpg',type: 'background'},\r\n    {img: 'https://i.imgur.com/R4TMmVd.jpg', type: 'background'},\r\n    {img: 'https://i.imgur.com/8UIUZae.jpg', type: 'background'},\r\n    {img:'https://i.imgur.com/yfwxwo1.jpg' , type: 'gradient'},\r\n    {img:'https://i.imgur.com/HTQ2T1O.jpg', type: 'gradient'},\r\n    {img:'https://i.imgur.com/z0zjGrS.jpg', type: 'gradient'},\r\n    {img:'https://i.imgur.com/NXUqzHa.jpg', type: 'gradient'},\r\n    {img:'https://i.imgur.com/bT0t5lL.jpg' , type: 'gradient'},\r\n    {img: 'https://i.imgur.com/TE4sKjU.jpg', type: 'gradient'},\r\n    {img: 'https://i.imgur.com/4hzNTTq.png', type: 'default'},  \r\n]\r\nconst emojis= [\r\n  '😀', '😃' ,'😄', '😁', '😆' ,'😅' ,\r\n     '🥺', '😢', '😭' ,'😤' ,'😠', '😡' ,\r\n     '🤬' ,'🤯','😳', '🥵', '🥶', \r\n     '😱', '😨','😰', '😥', '😓' ,'🤗' ,\r\n     '🤔', '🤭', '🤫' ,'🤥' ,'😶', '😐',\r\n     '😑', '😬', '🙄' ,'😯', '😦', '😧',\r\n      '😑', '😬', '🙄' ,'😯', '😦', '😧',\r\n       '😮', '😲' ,'🥱' ,'😴', '🤤',\r\n        '😪' ,'😵', '🤐', \"🥴\",\r\n        '😬' ,'🙄', '😯' ,'😦' ,\r\n        '😧', '😮' ,'😲', '🥱' ,\r\n        '😴' ,'🤤' ,'😪', '😵',\r\n         '🤐', '🥴', '🤢 ','🤮' ,\r\n         '🤧', '😷', \"🤒\", \"🤕\", '🤑', \r\n         \"🤠\", '😈', \"👿\"\r\n] \r\n  function selectEmoji(el){\r\n    setEmojitype(el)\r\n    setNotifi(true)\r\n  setNotificont({\r\n    emoji: el,\r\n    msg: 'Emoji selected!'\r\n  })\r\n  db.collection('conversations').doc(props.diag.convoinfo.convoid).update({\r\n    customizedconvo : {\r\n     theme: themeimg,\r\n     emoji: el,\r\n    }\r\n   })\r\n  setTimeout(()=>{\r\n    setNotifi(false)\r\n  },3500)\r\n  setEmojibool(false)\r\n  }\r\nfunction selectTheme(el){\r\n  setThemeimg(el)\r\n  setNotifi(true)\r\n  setNotificont({\r\n    emoji: 'fal fa-check-circle',\r\n    msg: 'Theme selected!'\r\n  })\r\n  \r\n    db.collection('conversations').doc(props.diag.convoinfo.convoid).update({\r\n     customizedconvo : {\r\n      theme: el,\r\n      emoji: emojitype,\r\n     }\r\n    })\r\n  \r\n  setTimeout(()=>{\r\n    setNotifi(false)\r\n  },3500)\r\n  setThemebool(false)\r\n}\r\n  let emojisrow = emojis &&emojis.map(emoji=>{\r\n      return <div  style={{cursor: 'pointer'}} className=\"emojidiv\"  onClick={()=>selectEmoji(emoji)}>\r\n          <span role='img' aria-label='emoji'>{emoji}</span>\r\n      </div>\r\n  })\r\n\r\n    let themesrow = themes && themes.map(theme=>{\r\n        if(pattern.test(theme.type.toLowerCase())){\r\n          return <div  className=\"theme bs flex\">\r\n          <div className=\"img\"> <img src={theme.img} alt=''/></div>\r\n           <div className=\"select flexrow\">\r\n           <p>Select this theme:</p>\r\n           <i className='fal fa-check-circle'  onClick={()=>{selectTheme(theme.img)}} style={{color: themecolor}}></i>\r\n           </div>\r\n       </div>\r\n        }\r\n    })\r\n\r\n  function updateProfile(){\r\n    const updateObj ={\r\n      darkmode: darkmode1,\r\n      widemode,\r\n      color: chatcolor,\r\n      themecolor\r\n    }\r\n    db.collection('users').doc(user.uid).update({\r\n      customization :  updateObj  \r\n    }).then(()=>{\r\n      setNotifi(true)\r\n      setNotificont({\r\n        emoji: 'fal fa-check-circle',\r\n        msg: 'Profile has been updated!'\r\n      })\r\n    })\r\n    setTimeout(()=>{\r\n      setNotifi(false)\r\n    },3500)\r\n  }\r\n\r\n  function contextMenu(e){\r\n    let customcontext = document.querySelector('.contextmenu')\r\n    const bounding = customcontext.getBoundingClientRect();\r\n      e.preventDefault() \r\n      setContextmenu(true)\r\n      customcontext.style.top= `${e.pageY-customcontext.clientHeight}px`\r\n      customcontext.style.left= `${e.pageX-customcontext.clientWidth}px`\r\n\r\n    }\r\n    useEffect(()=>{\r\n      if(type==='chatsettings'){\r\n        db.collection('conversations').doc(props.diag.convoinfo.convoid).onSnapshot(snap=>{\r\n            const convo = snap.data()\r\n            if(user.uid===props.diag.convoinfo.creatorid) {\r\n              setNotifibool(convo.notifications1)\r\n            }else {\r\n              setNotifibool(convo.notifications2)\r\n            }\r\n        })\r\n      }\r\n\r\n    },[])\r\n  useEffect(()=>{\r\n    db.collection('users').doc(user.uid).onSnapshot(snap=>{\r\n      const user = snap.data()\r\n      setDarkmode(user.customization.darkmode)\r\n      setWidemode(user.customization.widemode)\r\n      setChatcolor(user.customization.color)\r\n      setThemecolor(user.customization.themecolor)\r\n    })\r\n  },[])\r\n\r\n    return (\r\n   <>\r\n    <div onContextMenu={(e)=>contextMenu(e)} className={darkmode?\"settingsgrid flex darkmode\":'settingsgrid flex'}>\r\n        <div className=\"links  flex\">\r\n            <div className=\"section1 flex\">\r\n              <h2>Settings</h2>\r\n            <NavLink onClick={()=>setNotifi(false)} activeStyle={{color: themecolor}} activeClassName='bs' exact to={'/'+link.link0}>{linklabel.link0}</NavLink>\r\n            <NavLink onClick={()=>setNotifi(false)} activeStyle={{color: themecolor}} activeClassName='bs'  to={`/${type}/${link.link1}`}>{linklabel.link1}</NavLink>\r\n            </div>\r\n            <hr/>\r\n            <div className=\"section2 flex\">\r\n            <NavLink onClick={()=>setNotifi(false)} activeStyle={{color: themecolor}} activeClassName='bs'  to={`/${type}/${link.link2}`}>{linklabel.link2}</NavLink>\r\n            <NavLink onClick={()=>setNotifi(false)}activeStyle={{color: themecolor}} activeClassName='bs' to={`/${type}/${link.link3}`}>{linklabel.link3}</NavLink>\r\n              {type==='settings'?'':<hr/>}\r\n             {type==='settings'?'':  <Link  to={'/chat/'+props.diag.convoinfo.convoid} style={{marginTop:'5px'}}>Return to Chat</Link>}\r\n            </div>\r\n        </div>\r\n        <div className=\"paths bs\">\r\n          <Switch>\r\n          <Route exact path={`/${link.link0}`}>\r\n            {type==='settings'?<Account  notifi={notifi} notificont={notificont} setNotifi={setNotifi} setNotificont={setNotificont}/>:<Themes setEmojitype={setEmojitype} emojitype={emojitype} setEmojibool={setEmojibool} themeimg={themeimg} setThemeimg={setThemeimg} themebool={themebool} setThemebool={setThemebool} chatuser={props.chatuser} notifi={notifi} notificont={notificont} setNotifi={setNotifi} setNotificont={setNotificont} convoid={props.diag.convoinfo.convoid} creatorid={props.diag.convoinfo.creatorid} miniview={miniview} setMiniview={setMiniview}/>}\r\n          </Route>\r\n          <Route  path={`/${type}/${link.link1}`}>\r\n             {type==='settings'? <Preferences />:<Actions notifibool={notifibool} setNotifibool={setNotifibool} convoid={props.diag.convoinfo.convoid} creatorid={props.diag.convoinfo.creatorid}/>}\r\n          </Route>\r\n          <Route  path={`/${type}/${link.link2}`}>\r\n            {type==='settings'?<Personalization function1={updateProfile} input1={darkmode1} input3={chatcolor} input4={themecolor} input2={widemode} setInput1={setDarkmode} setInput4={setThemecolor} setThemecolor={setThemecolor} setInput3={setChatcolor} setInput2={setWidemode}/>:''}\r\n          </Route>\r\n          <Route path={`/${type}/${link.link3}`}>\r\n              {type==='settings'?<Support />:<Aboutchatuser chatuser={props.chatuser}/>}\r\n          </Route>\r\n\r\n          </Switch>\r\n        \r\n        </div>\r\n       <CSSTransition in={notifi} timeout={300} classNames='displayerror' unmountOnExit>\r\n       <div className=\"errormsg bs\" >\r\n       <span role='img' aria-label='emoji'>{emojitype}</span> <p>{notificont.msg}</p>\r\n        <i className=\"far fa-times\" style={{color: themecolor}} onClick={()=>setNotifi(false)}></i>    \r\n        </div>\r\n       </CSSTransition>\r\n        <CSSTransition in={themebool} timeout={300} classNames={\"themesdisplay\"} unmountOnExit>\r\n          <>\r\n        <div className=\"screen\" onClick={()=>setThemebool(false)}></div> \r\n          \r\n        <div className='themes bs flex'>\r\n          \r\n      \r\n          <div className=\"filterBtn flex\">\r\n            <h2 style={{textAlign: 'center'}}>Filter: </h2>\r\n              <div className=\"flexrow center\">\r\n                <Hoverablebutton  state={keyword} setState={setKeyword} type='' text='All'/>\r\n                <Hoverablebutton  state={keyword} setState={setKeyword} type='background' text='Images'/>\r\n                <Hoverablebutton  state={keyword} setState={setKeyword} type='gradient' text='Gradients'/>\r\n                <Hoverablebutton  state={keyword} setState={setKeyword} type='default' text='Default'/>\r\n              </div>\r\n            </div>\r\n        \r\n          <div className=\"flex\">  \r\n         <p className='themestitle'>Themes: </p>\r\n         {themesrow}\r\n          </div>\r\n          </div>\r\n          </>\r\n        </CSSTransition>\r\n        <CSSTransition in={emojibool} timeout={300} classNames={\"emojidisplay\"} unmountOnExit>\r\n          <>\r\n          <div className=\"screen\" onClick={()=>setEmojibool(false)} onContextMenu={()=>setContextmenu(false)}></div> \r\n          \r\n        <div className='emojiwindow bs flexrow'>\r\n            <div className=\"emojistitle\">\r\n              <h2>Select Emoji</h2>\r\n              <div className=\"flexrow flexwrap\">\r\n              {emojisrow}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          </>\r\n        </CSSTransition>\r\n        <CSSTransition in={miniview} timeout={300} classNames={'miniviewdisplay'} unmountOnExit>\r\n            <div className=\"miniviewdisplay bs\" >\r\n              <img src={themeimg} alt=\"\"/>\r\n            </div>\r\n        </CSSTransition>\r\n      \r\n          <Contextmenu emojitype={emojitype} setEmojibool={setEmojibool} emojibool={emojibool} themebool={themebool} setThemebool={setThemebool} contextstyle={contextstyle} type={'settings'} contextmenu={contextmenu} setContextmenu={setContextmenu}/>\r\n    </div>\r\n  </>\r\n  )\r\n}\r\nexport default Usersettings","import React, { useState, useEffect, useContext } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  NavLink,\r\n  Redirect\r\n} from \"react-router-dom\";\r\nimport { ContextApp } from \"../ContextAPI\";\r\nimport styled from 'styled-components'\r\nconst Icon = styled.i `\r\ncolor: ${props=>props.color}\r\n`;\r\nconst Span = styled.span `\r\n    background-color: red;\r\n    &:hover {\r\n      background-color: ${props=>props.color};\r\n      span {\r\n        color: white;\r\n      }\r\n      i {\r\n        color: white;\r\n      }\r\n    }\r\n`;\r\n\r\nfunction Hoverlink(props) {\r\n  const { themecolor } = useContext(ContextApp);\r\n  const { num,icon,type, classNames, setState, state, lnk, txt, clk } = props;\r\n\r\n\r\n  return  (\r\n    <>\r\n        <Link to={lnk} onClick={clk }>\r\n            <Span color={themecolor} className={classNames}>\r\n            <span>{txt}</span>\r\n            <Icon color={themecolor} className={icon}></Icon>\r\n            </Span>\r\n        </Link>\r\n    </>\r\n\r\n  );\r\n}\r\nexport default Hoverlink;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport firebase from \"firebase\";\r\nimport { db } from \"../Fire\";\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  NavLink,\r\n  Redirect,\r\n  useLocation\r\n} from \"react-router-dom\";\r\nimport ReactTimeAgo from 'react-time-ago'\r\n\r\nimport Usersettings from \"./Usersettings\";\r\nimport { ContextApp } from \"../ContextAPI\";\r\nimport Hoverlink from \"./Hoverlink\";\r\nfunction Body(props) {\r\n  const { themecolor } = useContext(ContextApp);\r\n  const user = firebase.auth().currentUser;\r\n  const [cover, setCover] = useState(\"\");\r\n  const { handleLogout } = props;\r\n  const links = [\"comment\", \"notifications\", \"settings\", \"logout\"];\r\n  const [notifi, setNotifLength]=useState(0)\r\n  const lnks = [\r\n    { icon: \"fal fa-comment-alt\", txt: \"Comment\" },\r\n    { icon: \"fal fa-bell\", txt: \"Notifications\" },\r\n    { icon: \"fal fa-cog\", txt: \"Settings\" },\r\n    { icon: \"fal fa-sign-out\", txt: \"Logout\" }\r\n  ];\r\n  const id =db.collection('users').doc().id\r\n  const lnksrow =\r\n    lnks &&\r\n    lnks.map((lnk) => {\r\n      return (\r\n        <Hoverlink  icon={lnk.icon} txt={lnk.txt} handleLogout={handleLogout} />\r\n      );\r\n    });\r\n  function determineTime() {\r\n    const d = new Date();\r\n    if (d.getHours() >= 6 && d.getHours() < 12) {\r\n      return \"Good Morning,\";\r\n    } else if (d.getHours() >= 12 && d.getHours() < 17) {\r\n      return \"Good Afternoon,\";\r\n    } else if (d.getHours() >= 17 && d.getHours() < 20) {\r\n      return \"Good Evening,\";\r\n    } else if (d.getHours() >= 20 && d.getHours() <= 23) {\r\n      return \"Good Night,\";\r\n    } else if (d.getHours() >= 0 && d.getHours() < 6) {\r\n      return \"Good Night,\";\r\n    }\r\n  }\r\n  function determinetext() {\r\n    if (user) {\r\n      \r\n        return determineTime() + \" \" + user.displayName + \" (role: \" + user.providerData[0].providerId + \")\"\r\n      \r\n    }\r\n  }\r\n  useEffect(()=>{\r\n    db.collection('notifications').doc(user.uid).onSnapshot(snap=>{\r\n      const notifi = snap.data()\r\n      setNotifLength(notifi.notifications.length)\r\n    })\r\n  },[])\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"header flex sb\">\r\n        <h2 className=\"marginBottom\">{determinetext()}</h2>\r\n      </div>\r\n      <hr />\r\n      <div className=\"flex fe sticky\">\r\n        <div className=\"gridobjects bs marginBottom\">\r\n          <Hoverlink\r\n            icon=\"fal fa-comment-alt\"\r\n            txt=\"Comment\"\r\n            classNames=\"blueback one flexrow sa\"\r\n            lnk=\"\"\r\n          />\r\n          <div className=\"bell\">\r\n          <Hoverlink\r\n            icon=\"fal fa-bell\"\r\n            txt=\"Notifications\"\r\n            classNames=\"blueback two flexrow sa\"\r\n            lnk=\"\"\r\n          />\r\n          <div className=\"notificount flex\">{notifi}</div>\r\n          </div>\r\n          <Hoverlink\r\n            icon=\"fal fa-cog\"\r\n            txt=\"Settings\"\r\n            classNames=\"blueback three flexrow sa \"\r\n            lnk=\"\"\r\n          />\r\n          <Hoverlink\r\n            icon=\"fal fa-sign-out\"\r\n            txt=\"Logout\"\r\n            classNames=\"blueback four flexrow sa\"\r\n            lnk=\"/\"\r\n            clk={() => props.handleLogout()}\r\n          />\r\n        </div>\r\n      </div>\r\n      <hr />\r\n      <div className=\"homeside\">\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Body;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport firebase from \"firebase\";\r\nimport { db } from \"../Fire\";\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  NavLink,\r\n  Redirect,\r\n  useLocation\r\n} from \"react-router-dom\";\r\nimport Usersettings from \"./Usersettings\";\r\nimport { ContextApp } from \"../ContextAPI\";\r\nimport Calendars from \"./Calendars\";\r\nimport Hoverlink from \"./Hoverlink\";\r\nimport ElapsedTime from \"./Elapsedtime\";\r\nimport ReactTimeAgo from 'react-time-ago'\r\nfunction Notifications(props) {\r\n  const { themecolor } = useContext(ContextApp);\r\n  const {setChatuser} = props\r\n  const user = firebase.auth().currentUser;\r\n  const [cover, setCover] = useState(\"\");\r\n  const [notifi, setNotifLength]=useState(0)\r\n  const [notifications, setNotifications]=useState([])\r\n\r\n  const imageRegexB = /(?:https?|ftp):\\/\\/[\\S]*\\.(?:png|jpe?g|gif|svg|webp)/g;\r\n\r\n  function determineNotiMsg(msg){\r\n    if(msg.gif){\r\n      return 'Sent a GIF'\r\n    }else if(msg.file){\r\n      return 'Sent a file'\r\n    }else if(msg.video){\r\n      return 'Sent a video'\r\n    }else if(msg.base64||msg.notifimsg.match(imageRegexB) != null){\r\n      return 'Sent a photo'\r\n    }\r\n    else {\r\n      return msg.notifimsg\r\n    }\r\n  }\r\n  const id =db.collection('users').doc().id\r\n  function deleteNotifi(el){\r\n      notifications && notifications.map(noti=>{\r\n        if(el.notifiid===noti.notifiid){\r\n          let itemindex = notifications.indexOf(noti)\r\n          notifications.splice(itemindex, 1)\r\n          db.collection('notifications').doc(user.uid).update({\r\n            notifications: notifications\r\n          })\r\n        }\r\n      })\r\n  }\r\n  function deleteAllNotifi(){\r\n    db.collection('notifications').doc(user.uid).update({\r\n      notifications: []\r\n    })\r\n  }\r\n  const notificationsrow = notifications && notifications.slice(0).reverse().map(noti=>{\r\n    return <div ><Link to={'/chat/'+noti.id} onClick={()=>{setChatuser(noti.senderid); deleteNotifi(noti)}}>\r\n    <div className=\"notification flex\">\r\n      <div className=\"userprofile\">\r\n        <img src={cover} alt=\"\"/>\r\n      </div>\r\n     <strong> <p>From: {noti.sender}</p></strong>\r\n      <span>Message: {determineNotiMsg(noti)}</span>\r\n      <span>Sent: <ReactTimeAgo date={noti.notifidate.toDate()} locale='en-US'/></span>\r\n      \r\n   </div>\r\n    </Link>\r\n    <i className=\"fal fa-times\" onClick={()=>deleteNotifi(noti)}></i></div>\r\n  })\r\n  useEffect(()=>{\r\n    \r\n    db.collection('notifications').doc(user.uid).onSnapshot(snap=>{\r\n      const notifi = snap.data()\r\n      setNotifLength(notifi.notifications.length)\r\n      setNotifications(notifi.notifications)\r\n      setCover(notifi.notifications.cover)\r\n    }) \r\n  },[])\r\n  return (\r\n    <div className=\"notificationspage\">\r\n      <div className=\"tp\">\r\n      <div className=\"header flexrow \">\r\n      <i class=\"far fa-inbox\" style={{color: themecolor, cursor: 'auto'}}></i>\r\n        <h2>Your Notifications</h2>\r\n      </div>   \r\n       <hr style={{width: '100%'}}/>\r\n      </div>\r\n      <div className=\"notificationsrow flex\">\r\n        <div className='notifiBtnCont'>\r\n          <button className=' themeBtn notifiBtn' onClick={()=>deleteAllNotifi()}>Clear Notifications </button>\r\n          </div>\r\n        {notificationsrow}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Notifications;\r\n","import React, {useState, useEffect, useContext} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\nimport firebase from 'firebase'\r\nimport {db} from '../Fire'\r\nimport Usernav from './Usernav'\r\nimport Userrow from './Userrow'\r\nimport Userprofile from './Userprofile'\r\nimport Usersettings from './Usersettings'\r\nimport Home from './Home'\r\nimport Notifications from './Notifications'\r\nimport {CSSTransition, TransitionGroup} from 'react-transition-group'\r\nimport {ContextApp} from '../ContextAPI'\r\nfunction Paths (props) {\r\n    let {chatsettings,convoinfo, onedialogue, setConvoinfo,adduser, setAdduser, userprofile, chatuser, setChatuser} =props\r\n    const {darkmode, themecolor}=useContext(ContextApp)\r\n    return (\r\n   <>\r\n   \r\n    <Route  path='/chat'>\r\n        <div className={darkmode?\"conversations darkmode\":'conversations'} style={{backgroundColor: themecolor}}>\r\n\r\n          <div className={\"chatcontainer\"}>\r\n          <div className={\"userrow spanall \"}>\r\n            <Userrow chatuser={chatuser} setChatuser={setChatuser} convoinfo={convoinfo} setConvoinfo={setConvoinfo} setAdduser={()=>setAdduser(!adduser)}/>\r\n        </div>\r\n        \r\n          <div className='dialogue spanall'>\r\n                  <Switch >\r\n                  {onedialogue}\r\n                  </Switch>  \r\n          </div>\r\n            \r\n        \r\n        <div className=\"userprofile spanall\">\r\n        <Switch>\r\n         {userprofile}\r\n         </Switch>\r\n        </div>\r\n        \r\n          </div>\r\n      </div>\r\n    </Route>\r\n      <Route  path='/home'>\r\n        <div className={darkmode? \"conversations darkmode\":'conversations'} style={{backgroundColor: themecolor}}>\r\n          <Home handleLogout={props.handleLogout}/>\r\n        </div>\r\n      </Route>\r\n    <Switch>\r\n          {chatsettings}\r\n    </Switch> \r\n      <Route path='/notifications'>\r\n        <Notifications setChatuser={setChatuser}/>\r\n      </Route>\r\n    <Route  path='/settings'>\r\n      <Usersettings  settings={'settings'} type={'settings'} link={{link0: 'settings',link1: 'preferences', link2:'themes', link3: 'support'}} linklabel={{link0: 'Account',link1: 'Preferences', link2: 'Customize', link3: 'Support'}}/>\r\n    </Route>\r\n  </>\r\n  )\r\n}\r\nexport default Paths","import React, {useState, useEffect} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect, useLocation } from \"react-router-dom\" \r\nimport firebase from 'firebase'\r\nimport {db} from '../Fire'\r\nimport Hoverableicondiv from './Hoverableiconsdiv'\r\nfunction Users (props) {\r\n  // const [name, setName]=useState('')\r\n  // const [img, setImg]=useState('')\r\n  // const [city, setCity]=useState('')\r\n  // const [country, setCountry]=useState('')\r\n  // const [job, setJob]=useState('')\r\n  // const [recipnumber, setRecipnumber]=useState('')\r\n  // const [recipemail, setRecipemail]=useState('')\r\n  // const [recipwebsite, setRecipwebsite]=useState('')\r\n  // const [extend, setExtend]=useState(false)\r\n    const {lnk,convoinfo, setConvoinfo, el, setChatuser, chatuser, setChatstarted, setChatview}=props\r\n    const [recipimg, setRecipimg]=useState('')\r\n    // const {recipname, setRecipname, sendername, setSendername}=props\r\n    const [recipname, setRecipname] = useState('')\r\n    const [sendername, setSendername]=useState('')\r\n    const [activestatus, setActivestatus]=useState(false)\r\n    const [senderimg, setSenderimg]=useState('')\r\n    const [senderonline, setSenderonline]=useState(false)\r\n    const [reciponline, setReciponline]=useState(false)\r\n    const [loading, setLoading]=useState(true)\r\n    const [msg, setMsg]=useState('')\r\n    const location = useLocation()\r\n    let user = firebase.auth().currentUser\r\n  function colorFunc(){\r\n    if(el.convoinfo.creatorid===user.uid){\r\n        if(reciponline){\r\n          return 'rgb(44, 255, 44)'\r\n        }else {\r\n          return '#FF3D3D'\r\n        }\r\n    }else {\r\n      if(senderonline){\r\n        return 'rgb(44, 255, 44)'\r\n      }else {\r\n        return '#FF3D3D'\r\n      }\r\n    }\r\n  }\r\n    useEffect(()=>{\r\n      db.collection('users').doc(el.convoinfo.recipientid).onSnapshot(snap=>{\r\n        const user = snap.data()\r\n        setRecipname(user.userinfo.name)\r\n        setRecipimg(user.userinfo.cover)\r\n        setActivestatus(user.userinfo.online)\r\n        setLoading(false)\r\n        setReciponline(user.online)\r\n      })\r\n      db.collection('users').doc(el.convoinfo.creatorid).onSnapshot(snap=>{\r\n        const user = snap.data()\r\n        setSendername(user.userinfo.name)\r\n        setSenderimg(user.userinfo.cover)\r\n        setLoading(false)\r\n        setSenderonline(user.online)\r\n      })\r\n      db.collection('conversations').doc(el.convoinfo.convoid).onSnapshot(snap=>{\r\n        const msgs = snap.data()  \r\n        setMsg(msgs.messages[msgs.messages.length-1])\r\n      })\r\n    \r\n    },[el.convoinfo.recipientid, el, chatuser])\r\n    return (\r\n   <>\r\n  <Link   onClick={()=>{setChatuser(el.convoinfo.creatorid===user.uid?el.convoinfo.recipientid:el.convoinfo.creatorid)}} >\r\n    {loading?<div class=\"lds-ring\"><div></div><div></div><div></div><div></div></div>:<div className='flexrow' onClick={()=>setChatstarted(true)}> <img src={el.convoinfo.creatorid===user.uid?recipimg:senderimg} alt=\"\"/>  <small>{el.convoinfo.creatorid===user.uid?recipname:sendername}</small>    <div className=\"notifi\" style={{backgroundColor: colorFunc()}}></div> </div>}\r\n\r\n      <Hoverableicondiv icon={'ellipsis-h-alt'} classNames={'white'} type={'link'} lnk={`/chatsettings/${el.convoinfo.convoid}`} setState={setChatview} setState2={setChatstarted}/>\r\n  </Link>\r\n  </>\r\n  )\r\n}\r\nexport default Users","import React, { useState, useEffect, useContext } from \"react\";\r\nimport Sidebar from \"./Sidebar\";\r\nimport firebase from \"firebase\";\r\nimport { db } from \"../Fire\";\r\nimport Usernav from \"./Usernav\";\r\nimport Userrow from \"./Userrow\";\r\nimport Dialogue from \"./Dialogue\";\r\nimport Userprofile from \"./Userprofile\";\r\nimport Adduser from \"./Adduser\";\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  NavLink,\r\n  Redirect,\r\n  useLocation\r\n} from \"react-router-dom\";\r\nimport { StartConvo } from \"./StartConvo\";\r\nimport styled from 'styled-components'\r\nimport Paths from \"./Paths\";\r\nimport Account from \"./settings/Account\";\r\nimport Personalization from \"./settings/Personalization\";\r\nimport Chatsettings from \"./Chatsettings\";\r\nimport Usersettings from \"./Usersettings\";\r\nimport { ContextApp } from \"../ContextAPI\";\r\nimport Hoverableicondiv from \"./Hoverableiconsdiv\";\r\nimport Chatviewrow from './Chatviewrow'\r\nconst Div = styled.div ` \r\n      ::selection {\r\n        background-color: ${props=>props.color};\r\n        color: white;\r\n      }\r\n`\r\nfunction Body(props) {\r\n  const location = useLocation();\r\n  const user = firebase.auth().currentUser;\r\n  const [convoinfo, setConvoinfo] = useState({\r\n    unreadmsgs: 0\r\n  });\r\n  const [convos, setConvos]=useState([])\r\n  const { darkmode, widemode, themecolor,chatcolor } = useContext(ContextApp);\r\n  const [chatuser, setChatuser] = useState(\"\");\r\n  const { handleLogout, setLoading } = props;\r\n  const [msgpersonids, setMsgpersonids] = useState([]);\r\n  const [adduser, setAdduser] = useState(false);\r\n  const [convolist, setConvolist] = useState([]);\r\n  const [userlist, setUserlist] = useState([]);\r\n  const [allusers, setAllusers] = useState([]);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [recipientid, setRecipientid] = useState(\"\");\r\n  const [recipientname, setRecipientname] = useState(\"\");\r\n  const [chatview, setChatview]=useState(false)\r\n  const [chatstarted, setChatstarted]=useState(false)\r\n  const [sidebar, setSidebar]=useState(false)\r\n\r\n  const onedialogue =convolist && convolist.map((diag) => {\r\n    return (\r\n        <Route  exact path={\"/chat/\" + diag.convoinfo.convoid}>\r\n          <Dialogue diag={diag} chatuser={chatuser}/>\r\n        </Route>\r\n      );\r\n    });\r\n    const [chatopen, setChatopen]=useState(false)\r\n    const dialoguerow = convolist && convolist.map(diag=>{\r\n        if(user) {\r\n          if(chatuser===(user.uid===diag.convoinfo.creatorid?diag.convoinfo.recipientid:diag.convoinfo.creatorid)){\r\n            return ( \r\n              <Dialogue  type={'small'} chatuser={chatuser} diag={diag} icon='fal fa-times' setState={setChatstarted} />     \r\n              )\r\n           }\r\n        }\r\n    })\r\n    const usersrow = convos && convos.sort((a, b) => b.lastmsgdate - a.lastmsgdate).map(el=>{\r\n      return <div className=\"profilepic\"><Chatviewrow el={el} setChatopen={setChatopen} chatopen={chatopen} chatuser={chatuser} setChatuser={setChatuser} convoinfo={convoinfo} lnk={location.pathname.split('/').slice(1, 2)[0]} setChatstarted={setChatstarted} setChatview={setChatview} /></div>\r\n    })\r\n  const chatsettings = \r\n    convolist &&\r\n    convolist.map((diag) => {\r\n      return (\r\n        <Route path={\"/chatsettings/\" + diag.convoinfo.convoid}>\r\n          <Usersettings\r\n            chatuser={chatuser}\r\n            diag={diag}\r\n            settings={\"chat\"}\r\n            type={\"chatsettings\"}\r\n            link={{\r\n              link0: \"chatsettings/\" + diag.convoinfo.convoid,\r\n              link1: diag.convoinfo.convoid + \"/actions\",\r\n              link2: diag.convoinfo.convoid + \"/privacy\",\r\n              link3: diag.convoinfo.convoid + \"/support\"\r\n            }}\r\n            linklabel={{\r\n              link0: \"Themes\",\r\n              link1: \"Actions\",\r\n              link2: \"Privacy\",\r\n              link3: \"About\"\r\n            }}\r\n            \r\n          />\r\n        </Route>\r\n      );\r\n    });\r\n  const userprofile =\r\n    convolist &&\r\n    convolist.map((diag) => {\r\n      return (\r\n        <Route exact path={\"/chat/\" + diag.convoinfo.convoid}>\r\n          <Userprofile diag={diag} chatuser={chatuser} />\r\n        </Route>\r\n      );\r\n    });\r\n    const imageRegexB = /(?:https?|ftp):\\/\\/[\\S]*\\.(?:png|jpe?g|gif|svg|webp)/g;\r\n    const photo = true\r\n  function sendMessage() {\r\n if (message.length) {\r\n      setAdduser(!adduser);\r\n      let convoid = db.collection(\"conversations\").doc().id;\r\n      StartConvo(recipientid, message, convoid, recipientname);\r\n    }\r\n  }\r\n  function chatFuncDisplay(){\r\n    setChatstarted(false)\r\n    setTimeout(()=>{\r\n      setChatview(false); \r\n    },400)\r\n  }\r\n  function updateProfile(){\r\n    db.collection('users').doc(user.uid).update({\r\n        customization: {\r\n          widemode: !widemode,\r\n          darkmode,\r\n          color: chatcolor,\r\n          themecolor\r\n        }\r\n    })\r\n}\r\n\r\n  useEffect(()=>{\r\n    db.collection('users').doc(user.uid).onSnapshot(user=>{\r\n      const userlist = user.data()\r\n      setUserlist(userlist)\r\n      db.collection('conversations').onSnapshot(snap=>{\r\n        let convos = []\r\n         snap.forEach(doc=>{\r\n           if(userlist.msgids.includes(doc.id)){\r\n             convos.push(doc.data())\r\n           }\r\n         })\r\n         setConvos(convos)\r\n      })\r\n    })\r\n   },[])\r\n  useEffect(() => {\r\n    if(user){\r\n      db.collection(\"users\")\r\n      .doc(user.uid)\r\n      .onSnapshot((user) => {\r\n        const userlist = user.data();\r\n        setMsgpersonids(userlist.msgpersonids);\r\n        setUserlist(userlist);\r\n        db.collection(\"conversations\").onSnapshot((snap) => {\r\n          let convos = [];\r\n          snap.forEach((doc) => {\r\n            if (userlist.msgids.includes(doc.id)) convos.push(doc.data());\r\n          });\r\n          setConvolist(convos);\r\n        });\r\n      });\r\n    db.collection(\"users\")\r\n   \r\n      .onSnapshot((snap) => {\r\n        const users = [];\r\n        snap.forEach((el) => {\r\n          users.push(el.data());\r\n        });\r\n        setAllusers(users);\r\n      });\r\n      db.collection('users').doc(user.uid).onSnapshot(snap=>{\r\n        const user = snap.data()\r\n        document.documentElement.style.setProperty(\r\n          '--theme-color', user.customization.themecolor\r\n        )\r\n        document.documentElement.style.setProperty(\r\n          '--chat-color', user.customization.color\r\n        )\r\n      })\r\n\r\n    }\r\n    setLoading(false);\r\n  }, []);\r\n  function deleteAccount(){\r\n    var user = firebase.auth().currentUser;\r\n    user.delete().then(()=>{\r\n      db.collection('users').doc(user.uid).delete()\r\n    }).catch(err=>{\r\n\r\n    })\r\n  }\r\n  return (\r\n    <Div\r\n    color={themecolor}  \r\n    className={widemode ? \"body widebody\" : \"body\"}\r\n      style={{ backgroundColor: themecolor }}\r\n    >\r\n      <div className='sidebar'\r\n      >\r\n        <Sidebar updateProfile={updateProfile} chatFuncDisplay={chatFuncDisplay} setChatview={setChatview} setChatstarted={setChatstarted} handleLogout={handleLogout} />\r\n      </div>\r\n      <Switch>\r\n        <Paths\r\n          handleLogout={handleLogout}\r\n          chatsettings={chatsettings}\r\n          chatuser={chatuser}\r\n          setChatuser={setChatuser}\r\n          userprofile={userprofile}\r\n          onedialogue={onedialogue}\r\n          convoinfo={convoinfo}\r\n          setConvoinfo={setConvoinfo}\r\n          adduser={adduser}\r\n          setAdduser={() => setAdduser(!adduser)}\r\n        />\r\n      </Switch>\r\n     \r\n        {location.pathname.slice(0, 5)==='/chat'?<div className='chattab'></div>:<><Hoverableicondiv  classNames={\"chatdiv flex bs\"} icon={\"comment\"} state={chatview} setState={setChatview}/></>}\r\n\r\n        <CSSTransition in={chatview} timeout={300} unmountOnExit classNames='chatusers'>\r\n      <div className=\"chatusers bs\">\r\n        <h2>Chat</h2>\r\n        <div className=\"users flexrow\">\r\n          <i className=\"fal fa-times\" onClick={()=>setChatview(false)} style={{color: 'var(--theme-color)', position: 'absolute', top: '15px',right: '20px'}}></i>\r\n                {usersrow}\r\n              </div>\r\n        </div>\r\n      </CSSTransition>\r\n      <CSSTransition \r\n      in={chatstarted}\r\n      classNames='chatview'\r\n      unmountOnExit \r\n      timeout={300}\r\n      >\r\n        <div className='chatview bs' style={{right: chatview?'330px':'50px'}}>\r\n            <div className=\"\">\r\n              <div className=\"dialogue\">\r\n                {dialoguerow}\r\n              </div>\r\n            </div>\r\n        </div>\r\n      </CSSTransition>\r\n      <CSSTransition\r\n        in={adduser}\r\n        classNames={\"adduser\"}\r\n        unmountOnExit\r\n        timeout={300}\r\n      >\r\n        <Adduser\r\n          setRecipientname={setRecipientname}\r\n          message={message}\r\n          msgpersonids={msgpersonids}\r\n          sendMessage={sendMessage}\r\n          setMessage={setMessage}\r\n          setRecipientid={setRecipientid}\r\n          allusers={allusers}\r\n          setAdduser={setAdduser}\r\n          recipientid={recipientid}\r\n          adduser={adduser}\r\n        />\r\n      </CSSTransition>\r\n      \r\n    </Div>\r\n  );\r\n}\r\nexport default Body;\r\n","import { db } from \"../Fire\";\r\nimport firebase from \"firebase\";\r\n\r\nexport function StartConvo(recipientid, message, convoid, recipientname) {\r\n  const user = firebase.auth().currentUser;\r\n  const date = firebase.firestore.FieldValue.serverTimestamp()\r\n  let convoinfo = {\r\n    convoid,\r\n    creatorid: user.uid,\r\n    creatorname: user.displayName,\r\n    recipientid,\r\n    recipientname,\r\n    typerid: user.uid,\r\n    userref: db.collection(\"users\").doc(recipientid)\r\n    // usertyping: false,\r\n  };\r\n  let customizedconvo = {\r\n    theme: \"https://i.imgur.com/4hzNTTq.png\",\r\n    emoji: \"🤗\"\r\n  };\r\n  let nicknames = {\r\n    nickname1: \"\",\r\n    nickname2: \"\"\r\n  };\r\n  let messages = {\r\n    message,\r\n    reaction1: \"\",\r\n    reaction2: \"\",\r\n    msgdate: firebase.firestore.Timestamp.now(),\r\n    msgid: db.collection(\"conversations\").doc().id,\r\n    read: false,\r\n    senderid: user.uid,\r\n    sendername: user.displayName,\r\n    editing: false\r\n  };\r\n  let notificationobj = {\r\n    notifimsg: message,\r\n    notifidate: firebase.firestore.Timestamp.now(),\r\n    read: false,\r\n    sender: user.displayName,\r\n    id: convoid,\r\n    senderid: user.uid,\r\n    notifiid: db.collection('users').doc().id\r\n  }      \r\n    db.collection('notifications').doc(recipientid).update({\r\n      notifications: firebase.firestore.FieldValue.arrayUnion(notificationobj)\r\n    })\r\n  db.collection(\"users\")\r\n    .doc(user.uid)\r\n    .update({\r\n      msgids: firebase.firestore.FieldValue.arrayUnion(convoid),\r\n      msgpersonids: firebase.firestore.FieldValue.arrayUnion(recipientid)\r\n    });\r\n  db.collection(\"users\")\r\n    .doc(recipientid)\r\n    .update({\r\n      msgids: firebase.firestore.FieldValue.arrayUnion(convoid),\r\n      msgpersonids: firebase.firestore.FieldValue.arrayUnion(user.uid)\r\n    });\r\n  db.collection(\"conversations\")\r\n    .doc(convoid)\r\n    .set({\r\n      lastmsgdate : date,\r\n      convoinfo,\r\n      messages: firebase.firestore.FieldValue.arrayUnion(messages),\r\n      customizedconvo,\r\n      nickname1: '',\r\n      notifications1: true,\r\n      nickname2: '',\r\n      notifications2: true,\r\n    });\r\n}\r\n","import React, {useState, useEffect} from \"react\";\nimport \"./styles.css\";\nimport {db, Fire} from './Fire'\nimport firebase from 'firebase'\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \nimport Sidebar from './components/Sidebar'\nimport Login from './components/Login'\nimport Body from './components/Body'\nimport ContextAppProvider from './ContextAPI'\nimport { useBeforeunload } from 'react-beforeunload'\nfunction App() {\n  const [update, setUpdate]=useState(0)\n  const [user, setUser]=useState('')\n  const [name, setName]=useState('')\n  const [email, setEmail]=useState('')\n  const [password, setPassword]=useState('')\n  const [emailError, setEmailError]=useState('')\n  const [passwordError, setPasswordError]=useState('')\n  const [hasAccount, setHasAccount]=useState(false)\n  const [lname, setlName]=useState('')\n  const [userinfo, setUserinfo]=useState([])\n  const [users, setUsers]=useState([])\n  const [cover, setCover]=useState('https://www.gettyimages.ca/gi-resources/images/500px/983794168.jpg')\n  const [forgotpassword, setForgotpassword]=useState(false)\n  const [msgids, setMsgIds] = useState([''])\n  const [loading, setLoading]=useState(false)\n  const clearInputs = () => {\n    setEmail('')\n    setPassword('')\n  }\n  const clearErrors = () => {\n    setEmailError('')\n    setPasswordError('')\n  }\n  const handleLogin = () => {\n   \n    clearErrors()\n    firebase.auth().signInWithEmailAndPassword(email, password)\n    .then(()=>{setLoading(true)})\n    .catch(err => {\n      switch(err.code) {\n        case \"auth/invalid-email\":\n          setEmailError(err.message)\n          break\n        case \"auth/user/disabled\":\n        case \"auth/user-not-found\":\n          setEmailError('Email does not exist')\n        break\n        case \"auth/wrong-password\":\n          setPasswordError('Incorrect Password')\n        break\n        default:\n      }  \n    })\n\n  } \n  const handleSignup = () => {\n    console.log('signup')\n    clearErrors()\n    firebase.auth().createUserWithEmailAndPassword(email, password).catch(err => {\n        \n        switch(err.code) {\n        case \"auth/email-already-in-use\":\n          setEmailError(err.message)\n          break\n        case \"auth/invalid-email\":\n          setEmailError(err.message)\n        break\n        case \"auth/weak-password\":\n          setPasswordError(err.message)\n        break\n        default: \n        setEmailError('Invalid')\n      }\n    })\n    firebase.auth().onAuthStateChanged(user => {\n      if(user) {\n          user.updateProfile({\n            displayName: name,\n          }) \n          db.collection('users').doc(user.uid).set({\n              created: new Date(), \n              msgids,\n              uid: firebase.auth().currentUser.uid,\n              online: true, \n              userinfo: {\n                name,\n                cover,\n                age: '', \n                phone: '', \n                city: '',\n                country: '',\n                website: 'https://',\n                job: '',\n                email,\n              },\n              customization: {\n                color: '#10325c',\n                themecolor: '#0f6ce6',\n                darkmode: false,\n                widemode: false,\n              }\n          })\n          db.collection('notifications').doc(user.uid).set({\n            notifications: 'email'\n          })\n   \n      }//if (user)\n      else {\n        setUser('')\n      } \n    }) \n  }\n  const handleLogout = () => {\n    if(user) {\n      db.collection('users').doc(user.uid).update({online: false})\n    }\n    window.location.host\n    firebase.auth().signOut()\n  }\n  const authListener = () => {\n    firebase.auth().onAuthStateChanged(user => {\n      if(user) {\n        clearInputs()\n        setUser(user)\n        db.collection('users').doc(user.uid).update({online: true})\n      }\n      else {\n\n          setUser('')\n          db.collection('users').doc(user.uid).update({online: false})\n      }\n    })\n  } \n  \n  function loginwithGoogle(){\n    var provider = new firebase.auth.GoogleAuthProvider();\n    provider.addScope('email');\n\n    firebase.auth()\n    .signInWithPopup(provider)\n    .then((result) => {\n      if(result.additionalUserInfo.isNewUser){\n            /** @type {firebase.auth.OAuthCredential} */\n      var credential = result.credential;\n  \n      // This gives you a Google Access Token. You can use it to access the Google API.\n      var token = credential.accessToken;\n      // The signed-in user info.\n      var user = result.user;\n      // ...\n      db.collection('users').doc(user.uid).set({\n        created: new Date(), \n        msgids,\n        uid: user.uid,\n        online: true, \n        userinfo: {\n          name: user.displayName,\n          cover: user.photoURL,\n          age: '', \n          phone: user.phoneNumber, \n          city:'',\n          country: '',\n          website: 'https://',\n          job: '',\n          email: user.email\n          \n        },\n        customization: {\n          color: '#10325c',\n          themecolor: '#0f6ce6',\n          darkmode: false,\n          widemode: false,\n        }\n    })\n    db.collection('notifications').doc(user.uid).set({\n      notifications: 'Google'\n    })\n      }\n\n    }).catch((error) => {\n      // Handle Errors here.\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      // The email of the user's account used.\n      var email = error.email;\n      // The firebase.auth.AuthCredential type that was used.\n      var credential = error.credential;\n      // ...\n      setEmailError(error.message)\n      setTimeout(()=>{\n        setEmailError('')\n      },3000)\n    });\n  }\n  function loginwithFacebook(){\n    var provider = new firebase.auth.FacebookAuthProvider();\n    provider.addScope(\"email\");\n\n    firebase.auth()\n    .signInWithPopup(provider)\n    .then((result) => {\n      if(result.additionalUserInfo.isNewUser){\n        /** @type {firebase.auth.OAuthCredential} */\n        var credential = result.credential;\n  \n        // This gives you a Google Access Token. You can use it to access the Google API.\n        var token = credential.accessToken;\n        // The signed-in user info.\n        var usergoogle = result.user;\n        // ...\n        db.collection('users').doc(usergoogle.uid).set({\n          created: new Date(), \n          msgids,\n          uid: usergoogle.uid,\n          online: true, \n          role: 1,\n          userinfo: {\n            name: usergoogle.displayName,\n            cover: usergoogle.photoURL,\n            age: '', \n            phone: usergoogle.phoneNumber, \n            city:'',\n            country: '',\n            website: 'https://',\n            job: '',\n            email: usergoogle.email\n          },\n          customization: {\n            color: '#10325c',\n            themecolor: '#0f6ce6',\n            darkmode: false,\n            widemode: false,\n          }\n      })\n      db.collection('notifications').doc(usergoogle.uid).set({\n        notifications: 'Facebook'\n      })\n    }\n    })\n    .catch((error) => {\n      // Handle Errors here.\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      // The email of the user's account used.\n      var email = error.email;\n      // The firebase.auth.AuthCredential type that was used.\n      var credential = error.credential;\n  \n      // ...\n      setEmailError(email)\n      setTimeout(()=>{\n        setEmailError('')\n      },3000)\n      console.log(errorCode)\n    });\n  }\n  useBeforeunload(() => {\n    if(user) {\n      db.collection('users').doc(user.uid).update({online: false})\n    }\n  }) \n  useEffect(() => { \n    authListener()\n    window.addEventListener('onbeforeunload', removeActiveStatus) \n    function removeActiveStatus() {\n      if(user) {\n        db.collection('users').doc(user.uid).update({online: false})\n      }\n    }\n    if(user) {\n      db.collection('users').doc(user.uid).update({online: true})\n    }\n\n  },[])  \n  /*\n   localStorage.openpages = Date.now();\n   var onLocalStorageEvent = function(e){\n       if(e.key == \"openpages\"){\n           // Listen if anybody else is opening the same page!\n           localStorage.page_available = Date.now();\n       }\n       if(e.key == \"page_available\"){\n           alert(\"One more page already open\");\n       }\n   };\n\n   window.addEventListener('storage', onLocalStorageEvent, false);\n*/  \n   return ( \n    \n        <Router >\n    <div className=\"App\">\n       {user?\n        <ContextAppProvider>\n        <>\n          <Body setLoading={setLoading}  handleLogout={handleLogout}/>\n          <Redirect to='/Home'/>\n        </>\n        </ContextAppProvider>\n        :\n        <> \n        <Login loginwithTwitter={()=>loginwithTwitter} loginwithFacebook={()=>loginwithFacebook}loginwithGoogle={()=>loginwithGoogle} loading={loading} name={name} setName={setName} lname={lname} setlName={setlName}email={email} setEmail={setEmail} password= {password} setPassword={setPassword} handleLogin={handleLogin} handleSignup={handleSignup} hasAccount={hasAccount} setHasAccount={setHasAccount} emailError={emailError} passwordError={passwordError}/>       \n        <Redirect to='/'/>\n     </>\n        }\n    </div>  \n     </Router>\n\n  );\n}\n\nexport default App \n","import React, { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport TimeAgo from 'javascript-time-ago'\n\nimport en from 'javascript-time-ago/locale/en'\nimport ru from 'javascript-time-ago/locale/ru'\n\nimport App from \"./App\";\nTimeAgo.addDefaultLocale(en)\nTimeAgo.addLocale(en)\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}