{"version":3,"sources":["../../source/helpers/cache.js"],"names":["Cache","cache","keys","key","value","pop","lastKey"],"mappings":";;;;;;AAAA;;;;;;;IAOqBA,K;;;;OACpBC,K,GAAQ,E;;;;;wBAEK;AACZ,OAAIA,QAAQ,KAAKA,KAAjB;;AADY,qCAANC,IAAM;AAANA,QAAM;AAAA;;AAEZ,wBAAkBA,IAAlB,kHAAwB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,QAAbC,GAAa;;AACvB,QAAI,QAAOF,KAAP,yCAAOA,KAAP,OAAiB,QAArB,EAA+B;AAC9B;AACA;AACDA,YAAQA,MAAME,GAAN,CAAR;AACA;AACD,UAAOF,KAAP;AACA;;;wBAEY;AAAA,sCAANC,IAAM;AAANA,QAAM;AAAA;;AACZ,OAAME,QAAQF,KAAKG,GAAL,EAAd;AACA,OAAMC,UAAUJ,KAAKG,GAAL,EAAhB;AACA,OAAIJ,QAAQ,KAAKA,KAAjB;AACA,yBAAkBC,IAAlB,yHAAwB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,QAAbC,GAAa;;AACvB,QAAI,QAAOF,MAAME,GAAN,CAAP,MAAsB,QAA1B,EAAoC;AACnCF,WAAME,GAAN,IAAa,EAAb;AACA;AACDF,YAAQA,MAAME,GAAN,CAAR;AACA;AACD,UAAOF,MAAMK,OAAN,IAAiBF,KAAxB;AACA;;;;;;eAzBmBJ,K","file":"cache.js","sourcesContent":["/**\r\n * A basic in-memory cache.\r\n *\r\n * import Cache from 'javascript-time-ago/Cache'\r\n * const cache = new Cache()\r\n * const object = cache.get('key1', 'key2', ...) || cache.put('key1', 'key2', ..., createObject())\r\n */\r\nexport default class Cache {\r\n\tcache = {}\r\n\r\n\tget(...keys) {\r\n\t\tlet cache = this.cache\r\n\t\tfor (const key of keys) {\r\n\t\t\tif (typeof cache !== 'object') {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tcache = cache[key]\r\n\t\t}\r\n\t\treturn cache\r\n\t}\r\n\r\n\tput(...keys) {\r\n\t\tconst value = keys.pop()\r\n\t\tconst lastKey = keys.pop()\r\n\t\tlet cache = this.cache\r\n\t\tfor (const key of keys) {\r\n\t\t\tif (typeof cache[key] !== 'object') {\r\n\t\t\t\tcache[key] = {}\r\n\t\t\t}\r\n\t\t\tcache = cache[key]\r\n\t\t}\r\n\t\treturn cache[lastKey] = value\r\n\t}\r\n}"]}