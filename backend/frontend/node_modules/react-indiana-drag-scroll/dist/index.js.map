{"version":3,"file":"index.js","sources":["../node_modules/classnames/index.js","../node_modules/debounce/index.js","../node_modules/easy-bem/index.js","../node_modules/style-inject/dist/style-inject.es.js","../src/index.js"],"sourcesContent":["/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","'use strict';\r\n\r\n/**\r\n * BEM class name factory.\r\n *\r\n * @typedef {Function} Bem\r\n * @param {String|Object} [elementOrMods] Element name or hash object with mods\r\n * @param {Object} [mods] Hash object with mods\r\n * @returns {String}\r\n */\r\n\r\n/**\r\n * Returns BEM class name factory.\r\n *\r\n * @param {String} componentName Block name\r\n * @returns {Bem}\r\n */\r\nmodule.exports = function bem(componentName) {\r\n    return function (elementOrMods, mods) {\r\n        if (!elementOrMods) {\r\n            return componentName;\r\n        }\r\n\r\n        var element;\r\n\r\n        if (typeof elementOrMods === 'string') {\r\n            element = elementOrMods;\r\n        } else {\r\n            mods = elementOrMods;\r\n        }\r\n\r\n        var base = componentName;\r\n        if (element) {\r\n            base += '__' + element;\r\n        }\r\n\r\n        return base + (\r\n            mods\r\n                ? Object.keys(mods).reduce(function (result, name) {\r\n                    var value = mods[name];\r\n\r\n                    if (value) {\r\n                        result += ' ' + (\r\n                            typeof value === 'boolean'\r\n                                ? (base + '--' + name)\r\n                                : (base + '--' + name + '_' + value)\r\n                        );\r\n                    }\r\n\r\n                    return result;\r\n                }, '')\r\n                : ''\r\n        );\r\n    };\r\n}\r\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { PureComponent } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classnames from 'classnames'\r\nimport debounce from 'debounce'\r\nimport bem from 'easy-bem'\r\n\r\nimport './style.css'\r\n\r\nconst cn = bem('indiana-scroll-container')\r\n\r\nconst SCROLL_END_DEBOUNCE = 300\r\n\r\nexport default class ScrollContainer extends PureComponent {\r\n  static propTypes = {\r\n    vertical: PropTypes.bool,\r\n    horizontal: PropTypes.bool,\r\n    hideScrollbars: PropTypes.bool,\r\n    activationDistance: PropTypes.number,\r\n    children: PropTypes.node,\r\n    onStartScroll: PropTypes.func,\r\n    onScroll: PropTypes.func,\r\n    onEndScroll: PropTypes.func,\r\n    onClick: PropTypes.func,\r\n    className: PropTypes.string,\r\n    style: PropTypes.object,\r\n    ignoreElements: PropTypes.string,\r\n    nativeMobileScroll: PropTypes.bool,\r\n    stopPropagation: PropTypes.bool,\r\n    component: PropTypes.string,\r\n    innerRef: PropTypes.oneOfType([\r\n      PropTypes.func,\r\n      PropTypes.shape({ current: PropTypes.any })\r\n    ])\r\n  }\r\n\r\n  static defaultProps = {\r\n    nativeMobileScroll: true,\r\n    hideScrollbars: true,\r\n    activationDistance: 10,\r\n    vertical: true,\r\n    horizontal: true,\r\n    stopPropagation: false,\r\n    style: {},\r\n    component: 'div'\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.container = React.createRef()\r\n    this.onEndScroll = debounce(this.onEndScroll, SCROLL_END_DEBOUNCE)\r\n\r\n    // Is container scrolling now (for example by inertia)\r\n    this.scrolling = false\r\n    // Is scrolling started\r\n    this.started = false\r\n    // Is touch active or mouse pressed down\r\n    this.pressed = false\r\n\r\n    // Bind callbacks\r\n    this.getRef = this.getRef.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { nativeMobileScroll } = this.props\r\n    const container = this.container.current\r\n\r\n    window.addEventListener('mouseup', this.onMouseUp)\r\n    window.addEventListener('mousemove', this.onMouseMove)\r\n    window.addEventListener('touchmove', this.onTouchMove, { passive: false })\r\n    window.addEventListener('touchend', this.onTouchEnd)\r\n\r\n    // due to https://github.com/facebook/react/issues/9809#issuecomment-414072263\r\n    container.addEventListener('touchstart', this.onTouchStart, { passive: false })\r\n    container.addEventListener('mousedown', this.onMouseDown, { passive: false })\r\n\r\n    if (nativeMobileScroll) {\r\n      // We should check if it's the mobile device after page was loaded\r\n      // to prevent breaking SSR\r\n      this.isMobile = this.isMobileDevice()\r\n\r\n      // If it's the mobile device, we should rerender to change styles\r\n      if (this.isMobile) {\r\n        this.forceUpdate()\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('mouseup', this.onMouseUp)\r\n    window.removeEventListener('mousemove', this.onMouseMove)\r\n    window.removeEventListener('touchmove', this.onTouchMove)\r\n    window.removeEventListener('touchend', this.onTouchEnd)\r\n  }\r\n\r\n  getElement() {\r\n    return this.container.current\r\n  }\r\n\r\n  isMobileDevice() {\r\n    return (typeof window.orientation !== 'undefined') || (navigator.userAgent.indexOf('IEMobile') !== -1)\r\n  }\r\n\r\n  isDraggable(target) {\r\n    const ignoreElements = this.props.ignoreElements\r\n    if (ignoreElements) {\r\n      const closest = target.closest(ignoreElements)\r\n      return closest === null || closest.contains(this.getElement())\r\n    } else {\r\n      return true\r\n    }\r\n  }\r\n\r\n  isScrollable() {\r\n    const container = this.container.current\r\n    return container && ((container.scrollWidth > container.clientWidth) || (container.scrollHeight > container.clientHeight))\r\n  }\r\n\r\n  // Simulate 'onEndScroll' event that fires when scrolling is stopped\r\n  onEndScroll = () => {\r\n    this.scrolling = false\r\n    if (!this.pressed && this.started) {\r\n      this.processEnd()\r\n    }\r\n  }\r\n\r\n  onScroll = (e) => {\r\n    const container = this.container.current\r\n    // Ignore the internal scrolls\r\n    if (container.scrollLeft !== this.scrollLeft || container.scrollTop !== this.scrollTop) {\r\n      this.scrolling = true\r\n      this.processScroll(e)\r\n      this.onEndScroll()\r\n    }\r\n  }\r\n\r\n  onTouchStart = (e) => {\r\n    const { nativeMobileScroll } = this.props\r\n    if (this.isDraggable(e.target)) {\r\n      if (nativeMobileScroll && this.scrolling) {\r\n        this.pressed = true\r\n      } else {\r\n        const touch = e.touches[0]\r\n        this.processClick(e, touch.clientX, touch.clientY)\r\n        if (!nativeMobileScroll && this.props.stopPropagation) {\r\n          e.stopPropagation()\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  onTouchEnd = (e) => {\r\n    const { nativeMobileScroll } = this.props\r\n    if (this.pressed) {\r\n      if (this.started && (!this.scrolling || !nativeMobileScroll)) {\r\n        this.processEnd()\r\n      } else {\r\n        this.pressed = false\r\n      }\r\n      this.forceUpdate()\r\n    }\r\n  };\r\n\r\n  onTouchMove = (e) => {\r\n    const { nativeMobileScroll } = this.props\r\n    if (this.pressed && (!nativeMobileScroll || !this.isMobile)) {\r\n      const touch = e.touches[0]\r\n      if (touch) {\r\n        this.processMove(e, touch.clientX, touch.clientY)\r\n      }\r\n      e.preventDefault()\r\n      if (this.props.stopPropagation) {\r\n        e.stopPropagation()\r\n      }\r\n    }\r\n  }\r\n\r\n  onMouseDown = (e) => {\r\n    if (this.isDraggable(e.target) && this.isScrollable()) {\r\n      this.processClick(e, e.clientX, e.clientY)\r\n      e.preventDefault()\r\n      if (this.props.stopPropagation) {\r\n        e.stopPropagation()\r\n      }\r\n    }\r\n  };\r\n\r\n  onMouseMove = (e) => {\r\n    if (this.pressed) {\r\n      this.processMove(e, e.clientX, e.clientY)\r\n      e.preventDefault()\r\n      if (this.props.stopPropagation) {\r\n        e.stopPropagation()\r\n      }\r\n    }\r\n  }\r\n\r\n  onMouseUp = (e) => {\r\n    if (this.pressed) {\r\n      if (this.started) {\r\n        this.processEnd()\r\n      } else {\r\n        this.pressed = false\r\n        this.forceUpdate()\r\n        if (this.props.onClick) {\r\n          this.props.onClick(e)\r\n        }\r\n      }\r\n      e.preventDefault()\r\n      if (this.props.stopPropagation) {\r\n        e.stopPropagation()\r\n      }\r\n    }\r\n  };\r\n\r\n  processClick(e, clientX, clientY) {\r\n    const container = this.container.current\r\n    this.scrollLeft = container.scrollLeft\r\n    this.scrollTop = container.scrollTop\r\n    this.clientX = clientX\r\n    this.clientY = clientY\r\n    this.pressed = true\r\n  }\r\n\r\n  processStart(e, changeCursor = true) {\r\n    const { onStartScroll } = this.props\r\n    const container = this.container.current\r\n\r\n    this.started = true\r\n\r\n    // Add the class to change displayed cursor\r\n    if (changeCursor) {\r\n      document.body.classList.add('indiana-dragging')\r\n    }\r\n\r\n    if (onStartScroll) {\r\n      onStartScroll(container.scrollLeft, container.scrollTop, container.scrollWidth, container.scrollHeight)\r\n    }\r\n    this.forceUpdate()\r\n  }\r\n\r\n  // Process native scroll (scrollbar, mobile scroll)\r\n  processScroll(e) {\r\n    if (this.started) {\r\n      const { onScroll } = this.props\r\n      const container = this.container.current\r\n      if (onScroll) {\r\n        onScroll(container.scrollLeft, container.scrollTop, container.scrollWidth, container.scrollHeight)\r\n      }\r\n    } else {\r\n      this.processStart(e, false)\r\n    }\r\n  }\r\n\r\n  // Process non-native scroll\r\n  processMove(e, newClientX, newClientY) {\r\n    const { horizontal, vertical, activationDistance, onScroll } = this.props\r\n    const container = this.container.current\r\n\r\n    if (!this.started) {\r\n      if ((horizontal && Math.abs(newClientX - this.clientX) > activationDistance) || (vertical && Math.abs(newClientY - this.clientY) > activationDistance)) {\r\n        this.clientX = newClientX\r\n        this.clientY = newClientY\r\n        this.processStart()\r\n      }\r\n    } else {\r\n      if (horizontal) {\r\n        container.scrollLeft -= newClientX - this.clientX\r\n      }\r\n      if (vertical) {\r\n        container.scrollTop -= newClientY - this.clientY\r\n      }\r\n      if (onScroll) {\r\n        onScroll(container.scrollLeft, container.scrollTop, container.scrollWidth, container.scrollHeight)\r\n      }\r\n      this.clientX = newClientX\r\n      this.clientY = newClientY\r\n      this.scrollLeft = container.scrollLeft\r\n      this.scrollTop = container.scrollTop\r\n    }\r\n  }\r\n\r\n  processEnd(e) {\r\n    const { onEndScroll } = this.props\r\n    const container = this.container.current\r\n\r\n    this.pressed = false\r\n    this.started = false\r\n    this.scrolling = false\r\n\r\n    if (container && onEndScroll) {\r\n      onEndScroll(container.scrollLeft, container.scrollTop, container.scrollWidth, container.scrollHeight)\r\n    }\r\n    document.body.classList.remove('indiana-dragging')\r\n    this.forceUpdate()\r\n  }\r\n\r\n  getRef(el) {\r\n    [this.container, this.props.innerRef].forEach(ref => {\r\n      if (ref) {\r\n        if (typeof ref === 'function') {\r\n          ref(el)\r\n        } else {\r\n          ref.current = el\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      children, className, style, hideScrollbars, component: Component\r\n    } = this.props\r\n\r\n    return (\r\n      <Component\r\n        className={classnames(className, cn({\r\n          'dragging': this.pressed,\r\n          'hide-scrollbars': hideScrollbars,\r\n          'native-scroll': this.isMobile\r\n        }))}\r\n        style={style}\r\n        ref={this.getRef}\r\n        onScroll={this.onScroll}\r\n      >\r\n        {children}\r\n      </Component>\r\n    )\r\n  }\r\n}\r\n"],"names":["cn","bem","SCROLL_END_DEBOUNCE","ScrollContainer","props","onEndScroll","scrolling","pressed","started","processEnd","onScroll","e","container","current","scrollLeft","scrollTop","processScroll","onTouchStart","nativeMobileScroll","isDraggable","target","touch","touches","processClick","clientX","clientY","stopPropagation","onTouchEnd","forceUpdate","onTouchMove","isMobile","processMove","preventDefault","onMouseDown","isScrollable","onMouseMove","onMouseUp","onClick","React","createRef","debounce","getRef","bind","addEventListener","passive","isMobileDevice","removeEventListener","window","orientation","navigator","userAgent","indexOf","ignoreElements","closest","contains","getElement","scrollWidth","clientWidth","scrollHeight","clientHeight","changeCursor","onStartScroll","body","classList","add","processStart","newClientX","newClientY","horizontal","vertical","activationDistance","Math","abs","remove","el","innerRef","forEach","ref","children","className","style","hideScrollbars","Component","component","classnames","PureComponent","propTypes","PropTypes","bool","number","node","func","string","object","oneOfType","shape","any","defaultProps"],"mappings":"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"}