{"ast":null,"code":"import _slicedToArray from \"/Users/jinsonwu/Desktop/MIRC-Code-Verification/backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/Users/jinsonwu/Desktop/MIRC-Code-Verification/backend/frontend/src/components/Adduser.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { ContextApp } from '../ContextAPI';\nimport Hoverablebutton from './Hoverablebutton';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Adduser(props) {\n  _s();\n  var _this = this;\n  var _useContext = useContext(ContextApp),\n    themecolor = _useContext.themecolor;\n  var allusers = props.allusers,\n    setRecipientname = props.setRecipientname,\n    setRecipientid = props.setRecipientid,\n    recipientid = props.recipientid,\n    setMessage = props.setMessage,\n    sendMessage = props.sendMessage,\n    msgpersonids = props.msgpersonids,\n    adduser = props.adduser,\n    setAdduser = props.setAdduser,\n    message = props.message;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    keyword = _useState2[0],\n    setKeyword = _useState2[1];\n  function determineDisplay(user) {\n    if (msgpersonids && msgpersonids.includes(user.uid)) {\n      return /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fal fa-exclamation-circle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 12\n      }, this);\n    } else if (recipientid === user.uid) {\n      return /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fal fa-check slct\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 10\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"slct\",\n        style: {\n          color: themecolor,\n          border: 'solid 1px' + themecolor\n        },\n        onMouseOver: function onMouseOver(e) {\n          return e.target.style.cssText = \"background-color:\".concat(themecolor, \"; border: solid 1px transparent\");\n        },\n        onMouseLeave: function onMouseLeave(e) {\n          return e.target.style.cssText = \"background-color: transparent; border: solid 1px \".concat(themecolor, \"; color: \").concat(themecolor);\n        },\n        children: \"Select\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 10\n      }, this);\n    }\n  }\n  var pattern = new RegExp('\\\\b' + keyword.replace(/[\\W_]+/g, \"\"), 'i');\n  var allusersrow = allusers && allusers.map(function (user) {\n    if (pattern.test(user.userinfo.name.toLowerCase())) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: msgpersonids && msgpersonids.includes(user.uid) ? \"profilepic selected\" : 'profilepic',\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: user.userinfo.cover ? user.userinfo.cover : \"https://www.gettyimages.ca/gi-resources/images/500px/983794168.jpg\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: user.userinfo.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 8\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 7\n        }, _this), /*#__PURE__*/_jsxDEV(\"small\", {\n          onClick: msgpersonids && msgpersonids.includes(user.uid) ? function () {\n            setAdduser(!adduser);\n          } : function () {\n            setRecipientid(user.uid);\n            setRecipientname(user.userinfo.name);\n          },\n          className: recipientid === user.uid ? \"usersrowselected\" : \"\",\n          children: determineDisplay(user)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 7\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 13\n      }, _this);\n    }\n  });\n  function actions() {\n    setMessage('');\n    setAdduser(!adduser);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"adduser\",\n      onClick: function onClick() {\n        return props.setAdduser();\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"userlist bs\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hd\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Add Contact\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search\",\n            onChange: function onChange(e) {\n              return setKeyword(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow flex\",\n        children: allusersrow\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Send a message...\",\n          onChange: function onChange(e) {\n            return setMessage(e.target.value);\n          },\n          value: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"themeBtn\",\n          onClick: function onClick() {\n            recipientid ? sendMessage() : actions();\n          },\n          style: {\n            color: 'white',\n            border: \"solid 3px transparent\",\n            backgroundColor: themecolor\n          },\n          onMouseOver: function onMouseOver(e) {\n            return e.target.style.cssText = \"background-color: transparent; border: solid 3px \".concat(themecolor, \"; color: \").concat(themecolor);\n          },\n          onMouseLeave: function onMouseLeave(e) {\n            return e.target.style.cssText = \"background-color: \".concat(themecolor, \"; border: solid 3px transparent; color: white\");\n          },\n          children: \"Send Message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fal fa-times\",\n        onClick: function onClick() {\n          return props.setAdduser();\n        },\n        style: {\n          color: themecolor\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_s(Adduser, \"IZASK8yg8ZWVXQbkmgtCtjUIH5c=\");\n_c = Adduser;\nexport default Adduser;\nvar _c;\n$RefreshReg$(_c, \"Adduser\");","map":{"version":3,"names":["React","useState","useEffect","useContext","ContextApp","Hoverablebutton","Adduser","props","themecolor","allusers","setRecipientname","setRecipientid","recipientid","setMessage","sendMessage","msgpersonids","adduser","setAdduser","message","keyword","setKeyword","determineDisplay","user","includes","uid","color","border","e","target","style","cssText","pattern","RegExp","replace","allusersrow","map","test","userinfo","name","toLowerCase","cover","actions","value","backgroundColor"],"sources":["/Users/jinsonwu/Desktop/MIRC-Code-Verification/backend/frontend/src/components/Adduser.js"],"sourcesContent":["import React, {useState, useEffect, useContext} from 'react'\r\nimport {ContextApp} from '../ContextAPI'\r\nimport Hoverablebutton from './Hoverablebutton'\r\nfunction Adduser (props) {\r\n  const {themecolor}= useContext(ContextApp)\r\nlet {allusers, setRecipientname,setRecipientid, recipientid, setMessage, sendMessage, msgpersonids, adduser,setAdduser, message} = props\r\nconst [keyword, setKeyword]=useState('')\r\n\r\nfunction determineDisplay(user){\r\n  if(msgpersonids && msgpersonids.includes(user.uid)){\r\n    return <i className=\"fal fa-exclamation-circle\"></i>\r\n  }\r\nelse if(recipientid===user.uid){\r\n  return <i className=\"fal fa-check slct\" ></i>\r\n}else {\r\n  return <span className='slct' style={{color: themecolor, border: 'solid 1px'+themecolor}} onMouseOver={(e)=>e.target.style.cssText=`background-color:${themecolor}; border: solid 1px transparent`} onMouseLeave={(e)=>e.target.style.cssText=`background-color: transparent; border: solid 1px ${themecolor}; color: ${themecolor}`}>Select</span>\r\n}\r\n\r\n}\r\nconst pattern = new RegExp('\\\\b' + keyword.replace(/[\\W_]+/g,\"\"), 'i')\r\nconst allusersrow = allusers && allusers.map(user=>{\r\n  if(pattern.test(user.userinfo.name.toLowerCase())) {\r\n    return  <div className={msgpersonids && msgpersonids.includes(user.uid)?\"profilepic selected\":'profilepic'}>\r\n      <div>\r\n      <img src={user.userinfo.cover?user.userinfo.cover:\"https://www.gettyimages.ca/gi-resources/images/500px/983794168.jpg\"} alt=\"\"/>\r\n       <p>{user.userinfo.name}</p>\r\n      </div>\r\n      <small onClick={msgpersonids && msgpersonids.includes(user.uid)?() => {setAdduser(!adduser);}:() => {setRecipientid(user.uid); setRecipientname(user.userinfo.name)}} className={recipientid===user.uid?\"usersrowselected\":\"\"}>\r\n        {determineDisplay(user)}\r\n      </small>\r\n</div>\r\n  }\r\n  })\r\n  function actions (){\r\n    setMessage('')\r\n    setAdduser(!adduser)\r\n  }\r\n  return (\r\n    <>\r\n    <div className=\"adduser\"onClick={()=>props.setAdduser()}>\r\n      \r\n    </div>\r\n    <div className=\"userlist bs\" >\r\n          <div className=\"hd\">\r\n          <h2>Add Contact</h2>\r\n          <div className=\"search\">\r\n            <input type=\"text\" placeholder='Search' onChange={(e)=>setKeyword(e.target.value)}/>\r\n          </div>\r\n          </div>\r\n          <div className=\"overflow flex\">\r\n       {allusersrow}\r\n          </div>\r\n          <div className=\"search\">\r\n          <input type=\"text\" placeholder='Send a message...' onChange={(e)=>setMessage(e.target.value)} value={message}/>\r\n          <button className=\"themeBtn\"  onClick={()=>{recipientid?sendMessage():actions()}}  style={{color: 'white', border: `solid 3px transparent`, backgroundColor: themecolor}} onMouseOver={(e)=>e.target.style.cssText=`background-color: transparent; border: solid 3px ${themecolor}; color: ${themecolor}`} onMouseLeave={(e)=>e.target.style.cssText=`background-color: ${themecolor}; border: solid 3px transparent; color: white`}>Send Message</button>\r\n          </div>\r\n          <i className=\"fal fa-times\" onClick={()=>props.setAdduser()} style={{color: themecolor}}></i>\r\n      </div>\r\n    \r\n    </>\r\n  )\r\n}\r\nexport default Adduser"],"mappings":"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"},"metadata":{},"sourceType":"module"}