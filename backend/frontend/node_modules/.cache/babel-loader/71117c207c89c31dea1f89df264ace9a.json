{"ast":null,"code":"import _slicedToArray from \"/Users/jinsonwu/Desktop/MIRC-Code-Verification/backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/Users/jinsonwu/Desktop/MIRC-Code-Verification/backend/frontend/src/components/msgcomponents/Recording.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { BrowserRouter as Router, Switch, Route, Link, NavLink, Redirect } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Recording(props) {\n  _s();\n  var src = props.src;\n  var video = useRef();\n  var playBtn = useRef();\n  var progress = useRef();\n  var playPause = useState(false);\n  function togglePlayPause(e) {\n    if (video.current.paused) {\n      video.current.play();\n      e.target.className = 'fal fa-pause';\n    } else {\n      video.current.pause();\n      e.target.className = 'fal fa-play';\n    }\n  }\n  function updateProgress() {\n    var progresswidth = video.current.currentTime / video.current.duration;\n    setTime((video.current.duration - video.current.currentTime).toFixed(1));\n    progress.current.style.width = progresswidth * 100 + '%';\n    if (video.current.ended) {\n      playBtn.current.className = 'fal fa-play';\n    }\n  }\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    time = _useState2[0],\n    setTime = _useState2[1];\n  function determineMinSecH(time) {\n    if (time > 60) {\n      return (time / 60).toFixed(0) + ' m';\n    } else if (time > 3600) {\n      return (time / 3600).toFixed(1) + ' h';\n    } else {\n      return Math.round(time) + ' s';\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"videoContainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"video\", {\n      onLoadedData: function onLoadedData() {\n        return setTime(video.current.duration.toFixed(1));\n      },\n      onTimeUpdate: function onTimeUpdate() {\n        return updateProgress();\n      },\n      src: src,\n      id: \"video\",\n      ref: video\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fal fa-play\",\n        ref: playBtn,\n        onClick: function onClick(e) {\n          return togglePlayPause(e);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progressvideo\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress\",\n          ref: progress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n        children: determineMinSecH(time)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(Recording, \"VN6sXEyOONhEpYUwUfL9MAYY3c0=\");\n_c = Recording;\nexport default Recording;\nvar _c;\n$RefreshReg$(_c, \"Recording\");","map":{"version":3,"names":["React","useState","useEffect","useRef","BrowserRouter","Router","Switch","Route","Link","NavLink","Redirect","Recording","props","src","video","playBtn","progress","playPause","togglePlayPause","e","current","paused","play","target","className","pause","updateProgress","progresswidth","currentTime","duration","setTime","toFixed","style","width","ended","time","determineMinSecH","Math","round"],"sources":["/Users/jinsonwu/Desktop/MIRC-Code-Verification/backend/frontend/src/components/msgcomponents/Recording.js"],"sourcesContent":["import React, {useState, useEffect, useRef} from 'react'\r\nimport { BrowserRouter as Router,Switch,Route,Link,NavLink, Redirect } from \"react-router-dom\" \r\n\r\nfunction Recording (props) {\r\n  const {src}= props\r\n  const video =useRef()  \r\n  const playBtn = useRef()\r\n  const progress = useRef()\r\n  const playPause = useState(false)\r\n  function togglePlayPause(e){\r\n    if(video.current.paused){\r\n      video.current.play()\r\n      e.target.className='fal fa-pause'\r\n    }\r\n    else {\r\n      video.current.pause()\r\n      e.target.className='fal fa-play'\r\n    }\r\n  }\r\nfunction updateProgress(){\r\n    const progresswidth = video.current.currentTime/video.current.duration\r\n    setTime((video.current.duration-video.current.currentTime).toFixed(1))\r\n    progress.current.style.width=progresswidth*100+'%'\r\n    if(video.current.ended){\r\n      playBtn.current.className='fal fa-play'\r\n    }\r\n    }\r\n    const [time, setTime]=useState('')\r\n    function determineMinSecH(time){\r\n      if(time>60){\r\n        return (time / 60).toFixed(0) +' m'\r\n      }else if (time>3600){\r\n        return (time/3600).toFixed(1) + ' h'\r\n      }else {\r\n        return Math.round(time) + ' s'\r\n      }\r\n    }\r\n  return (\r\n    <div className='videoContainer'> \r\n      <video onLoadedData={()=>setTime(video.current.duration.toFixed(1))} onTimeUpdate={()=>updateProgress()} src={src} id='video' ref={video}></video>\r\n        <div className=\"controls\">\r\n          <i className=\"fal fa-play\" ref={playBtn} onClick={(e)=>togglePlayPause(e)}></i>\r\n          <div className=\"progressvideo\">\r\n            <div className=\"progress\" ref={progress}></div>\r\n          </div>\r\n          <small>{determineMinSecH(time)}</small>\r\n        </div>\r\n    </div>\r\n   \r\n  )\r\n}\r\nexport default Recording"],"mappings":"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"},"metadata":{},"sourceType":"module"}